var nM=Object.defineProperty;var gT=o=>{throw TypeError(o)};var sM=(o,t,e)=>t in o?nM(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e;var kt=(o,t,e)=>sM(o,typeof t!="symbol"?t+"":t,e),x0=(o,t,e)=>t.has(o)||gT("Cannot "+e);var d=(o,t,e)=>(x0(o,t,"read from private field"),e?e.call(o):t.get(o)),O=(o,t,e)=>t.has(o)?gT("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(o):t.set(o,e),T=(o,t,e,n)=>(x0(o,t,"write to private field"),n?n.call(o,e):t.set(o,e),e),R=(o,t,e)=>(x0(o,t,"access private method"),e);var Xi=(o,t,e,n)=>({set _(r){T(o,t,r,e)},get _(){return d(o,t,n)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function e(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(r){if(r.ep)return;r.ep=!0;const l=e(r);fetch(r.href,l)}})();function MA(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var D0={exports:{}},Af={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mT;function rM(){if(mT)return Af;mT=1;var o=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(n,r,l){var c=null;if(l!==void 0&&(c=""+l),r.key!==void 0&&(c=""+r.key),"key"in r){l={};for(var h in r)h!=="key"&&(l[h]=r[h])}else l=r;return r=l.ref,{$$typeof:o,type:n,key:c,ref:r!==void 0?r:null,props:l}}return Af.Fragment=t,Af.jsx=e,Af.jsxs=e,Af}var vT;function aM(){return vT||(vT=1,D0.exports=rM()),D0.exports}var F=aM(),M0={exports:{}},Ut={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yT;function oM(){if(yT)return Ut;yT=1;var o=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function A(q){return q===null||typeof q!="object"?null:(q=_&&q[_]||q["@@iterator"],typeof q=="function"?q:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,M={};function j(q,ot,pt){this.props=q,this.context=ot,this.refs=M,this.updater=pt||S}j.prototype.isReactComponent={},j.prototype.setState=function(q,ot){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,ot,"setState")},j.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function P(){}P.prototype=j.prototype;function z(q,ot,pt){this.props=q,this.context=ot,this.refs=M,this.updater=pt||S}var G=z.prototype=new P;G.constructor=z,C(G,j.prototype),G.isPureReactComponent=!0;var Y=Array.isArray,W={H:null,A:null,T:null,S:null},X=Object.prototype.hasOwnProperty;function L(q,ot,pt,ht,ft,Rt){return pt=Rt.ref,{$$typeof:o,type:q,key:ot,ref:pt!==void 0?pt:null,props:Rt}}function D(q,ot){return L(q.type,ot,void 0,void 0,void 0,q.props)}function x(q){return typeof q=="object"&&q!==null&&q.$$typeof===o}function I(q){var ot={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(pt){return ot[pt]})}var H=/\/+/g;function V(q,ot){return typeof q=="object"&&q!==null&&q.key!=null?I(""+q.key):ot.toString(36)}function U(){}function gt(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(U,U):(q.status="pending",q.then(function(ot){q.status==="pending"&&(q.status="fulfilled",q.value=ot)},function(ot){q.status==="pending"&&(q.status="rejected",q.reason=ot)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function At(q,ot,pt,ht,ft){var Rt=typeof q;(Rt==="undefined"||Rt==="boolean")&&(q=null);var _t=!1;if(q===null)_t=!0;else switch(Rt){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(q.$$typeof){case o:case t:_t=!0;break;case y:return _t=q._init,At(_t(q._payload),ot,pt,ht,ft)}}if(_t)return ft=ft(q),_t=ht===""?"."+V(q,0):ht,Y(ft)?(pt="",_t!=null&&(pt=_t.replace(H,"$&/")+"/"),At(ft,ot,pt,"",function(Wt){return Wt})):ft!=null&&(x(ft)&&(ft=D(ft,pt+(ft.key==null||q&&q.key===ft.key?"":(""+ft.key).replace(H,"$&/")+"/")+_t)),ot.push(ft)),1;_t=0;var xt=ht===""?".":ht+":";if(Y(q))for(var Pt=0;Pt<q.length;Pt++)ht=q[Pt],Rt=xt+V(ht,Pt),_t+=At(ht,ot,pt,Rt,ft);else if(Pt=A(q),typeof Pt=="function")for(q=Pt.call(q),Pt=0;!(ht=q.next()).done;)ht=ht.value,Rt=xt+V(ht,Pt++),_t+=At(ht,ot,pt,Rt,ft);else if(Rt==="object"){if(typeof q.then=="function")return At(gt(q),ot,pt,ht,ft);throw ot=String(q),Error("Objects are not valid as a React child (found: "+(ot==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":ot)+"). If you meant to render a collection of children, use an array instead.")}return _t}function st(q,ot,pt){if(q==null)return q;var ht=[],ft=0;return At(q,ht,"","",function(Rt){return ot.call(pt,Rt,ft++)}),ht}function at(q){if(q._status===-1){var ot=q._result;ot=ot(),ot.then(function(pt){(q._status===0||q._status===-1)&&(q._status=1,q._result=pt)},function(pt){(q._status===0||q._status===-1)&&(q._status=2,q._result=pt)}),q._status===-1&&(q._status=0,q._result=ot)}if(q._status===1)return q._result.default;throw q._result}var ct=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ot=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(ot))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)};function Ot(){}return Ut.Children={map:st,forEach:function(q,ot,pt){st(q,function(){ot.apply(this,arguments)},pt)},count:function(q){var ot=0;return st(q,function(){ot++}),ot},toArray:function(q){return st(q,function(ot){return ot})||[]},only:function(q){if(!x(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Ut.Component=j,Ut.Fragment=e,Ut.Profiler=r,Ut.PureComponent=z,Ut.StrictMode=n,Ut.Suspense=p,Ut.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,Ut.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ut.cache=function(q){return function(){return q.apply(null,arguments)}},Ut.cloneElement=function(q,ot,pt){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var ht=C({},q.props),ft=q.key,Rt=void 0;if(ot!=null)for(_t in ot.ref!==void 0&&(Rt=void 0),ot.key!==void 0&&(ft=""+ot.key),ot)!X.call(ot,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&ot.ref===void 0||(ht[_t]=ot[_t]);var _t=arguments.length-2;if(_t===1)ht.children=pt;else if(1<_t){for(var xt=Array(_t),Pt=0;Pt<_t;Pt++)xt[Pt]=arguments[Pt+2];ht.children=xt}return L(q.type,ft,void 0,void 0,Rt,ht)},Ut.createContext=function(q){return q={$$typeof:c,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:l,_context:q},q},Ut.createElement=function(q,ot,pt){var ht,ft={},Rt=null;if(ot!=null)for(ht in ot.key!==void 0&&(Rt=""+ot.key),ot)X.call(ot,ht)&&ht!=="key"&&ht!=="__self"&&ht!=="__source"&&(ft[ht]=ot[ht]);var _t=arguments.length-2;if(_t===1)ft.children=pt;else if(1<_t){for(var xt=Array(_t),Pt=0;Pt<_t;Pt++)xt[Pt]=arguments[Pt+2];ft.children=xt}if(q&&q.defaultProps)for(ht in _t=q.defaultProps,_t)ft[ht]===void 0&&(ft[ht]=_t[ht]);return L(q,Rt,void 0,void 0,null,ft)},Ut.createRef=function(){return{current:null}},Ut.forwardRef=function(q){return{$$typeof:h,render:q}},Ut.isValidElement=x,Ut.lazy=function(q){return{$$typeof:y,_payload:{_status:-1,_result:q},_init:at}},Ut.memo=function(q,ot){return{$$typeof:m,type:q,compare:ot===void 0?null:ot}},Ut.startTransition=function(q){var ot=W.T,pt={};W.T=pt;try{var ht=q(),ft=W.S;ft!==null&&ft(pt,ht),typeof ht=="object"&&ht!==null&&typeof ht.then=="function"&&ht.then(Ot,ct)}catch(Rt){ct(Rt)}finally{W.T=ot}},Ut.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},Ut.use=function(q){return W.H.use(q)},Ut.useActionState=function(q,ot,pt){return W.H.useActionState(q,ot,pt)},Ut.useCallback=function(q,ot){return W.H.useCallback(q,ot)},Ut.useContext=function(q){return W.H.useContext(q)},Ut.useDebugValue=function(){},Ut.useDeferredValue=function(q,ot){return W.H.useDeferredValue(q,ot)},Ut.useEffect=function(q,ot){return W.H.useEffect(q,ot)},Ut.useId=function(){return W.H.useId()},Ut.useImperativeHandle=function(q,ot,pt){return W.H.useImperativeHandle(q,ot,pt)},Ut.useInsertionEffect=function(q,ot){return W.H.useInsertionEffect(q,ot)},Ut.useLayoutEffect=function(q,ot){return W.H.useLayoutEffect(q,ot)},Ut.useMemo=function(q,ot){return W.H.useMemo(q,ot)},Ut.useOptimistic=function(q,ot){return W.H.useOptimistic(q,ot)},Ut.useReducer=function(q,ot,pt){return W.H.useReducer(q,ot,pt)},Ut.useRef=function(q){return W.H.useRef(q)},Ut.useState=function(q){return W.H.useState(q)},Ut.useSyncExternalStore=function(q,ot,pt){return W.H.useSyncExternalStore(q,ot,pt)},Ut.useTransition=function(){return W.H.useTransition()},Ut.version="19.0.0",Ut}var bT;function OA(){return bT||(bT=1,M0.exports=oM()),M0.exports}var rt=OA();const La=MA(rt);var O0={exports:{}},Ef={},k0={exports:{}},L0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _T;function lM(){return _T||(_T=1,function(o){function t(st,at){var ct=st.length;st.push(at);t:for(;0<ct;){var Ot=ct-1>>>1,q=st[Ot];if(0<r(q,at))st[Ot]=at,st[ct]=q,ct=Ot;else break t}}function e(st){return st.length===0?null:st[0]}function n(st){if(st.length===0)return null;var at=st[0],ct=st.pop();if(ct!==at){st[0]=ct;t:for(var Ot=0,q=st.length,ot=q>>>1;Ot<ot;){var pt=2*(Ot+1)-1,ht=st[pt],ft=pt+1,Rt=st[ft];if(0>r(ht,ct))ft<q&&0>r(Rt,ht)?(st[Ot]=Rt,st[ft]=ct,Ot=ft):(st[Ot]=ht,st[pt]=ct,Ot=pt);else if(ft<q&&0>r(Rt,ct))st[Ot]=Rt,st[ft]=ct,Ot=ft;else break t}}return at}function r(st,at){var ct=st.sortIndex-at.sortIndex;return ct!==0?ct:st.id-at.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;o.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();o.unstable_now=function(){return c.now()-h}}var p=[],m=[],y=1,_=null,A=3,S=!1,C=!1,M=!1,j=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function G(st){for(var at=e(m);at!==null;){if(at.callback===null)n(m);else if(at.startTime<=st)n(m),at.sortIndex=at.expirationTime,t(p,at);else break;at=e(m)}}function Y(st){if(M=!1,G(st),!C)if(e(p)!==null)C=!0,gt();else{var at=e(m);at!==null&&At(Y,at.startTime-st)}}var W=!1,X=-1,L=5,D=-1;function x(){return!(o.unstable_now()-D<L)}function I(){if(W){var st=o.unstable_now();D=st;var at=!0;try{t:{C=!1,M&&(M=!1,P(X),X=-1),S=!0;var ct=A;try{e:{for(G(st),_=e(p);_!==null&&!(_.expirationTime>st&&x());){var Ot=_.callback;if(typeof Ot=="function"){_.callback=null,A=_.priorityLevel;var q=Ot(_.expirationTime<=st);if(st=o.unstable_now(),typeof q=="function"){_.callback=q,G(st),at=!0;break e}_===e(p)&&n(p),G(st)}else n(p);_=e(p)}if(_!==null)at=!0;else{var ot=e(m);ot!==null&&At(Y,ot.startTime-st),at=!1}}break t}finally{_=null,A=ct,S=!1}at=void 0}}finally{at?H():W=!1}}}var H;if(typeof z=="function")H=function(){z(I)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,U=V.port2;V.port1.onmessage=I,H=function(){U.postMessage(null)}}else H=function(){j(I,0)};function gt(){W||(W=!0,H())}function At(st,at){X=j(function(){st(o.unstable_now())},at)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(st){st.callback=null},o.unstable_continueExecution=function(){C||S||(C=!0,gt())},o.unstable_forceFrameRate=function(st){0>st||125<st?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<st?Math.floor(1e3/st):5},o.unstable_getCurrentPriorityLevel=function(){return A},o.unstable_getFirstCallbackNode=function(){return e(p)},o.unstable_next=function(st){switch(A){case 1:case 2:case 3:var at=3;break;default:at=A}var ct=A;A=at;try{return st()}finally{A=ct}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(st,at){switch(st){case 1:case 2:case 3:case 4:case 5:break;default:st=3}var ct=A;A=st;try{return at()}finally{A=ct}},o.unstable_scheduleCallback=function(st,at,ct){var Ot=o.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?Ot+ct:Ot):ct=Ot,st){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=ct+q,st={id:y++,callback:at,priorityLevel:st,startTime:ct,expirationTime:q,sortIndex:-1},ct>Ot?(st.sortIndex=ct,t(m,st),e(p)===null&&st===e(m)&&(M?(P(X),X=-1):M=!0,At(Y,ct-Ot))):(st.sortIndex=q,t(p,st),C||S||(C=!0,gt())),st},o.unstable_shouldYield=x,o.unstable_wrapCallback=function(st){var at=A;return function(){var ct=A;A=at;try{return st.apply(this,arguments)}finally{A=ct}}}}(L0)),L0}var AT;function cM(){return AT||(AT=1,k0.exports=lM()),k0.exports}var N0={exports:{}},Oi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ET;function uM(){if(ET)return Oi;ET=1;var o=OA();function t(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var n={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function l(p,m,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:_==null?null:""+_,children:p,containerInfo:m,implementation:y}}var c=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Oi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Oi.createPortal=function(p,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return l(p,m,null,y)},Oi.flushSync=function(p){var m=c.T,y=n.p;try{if(c.T=null,n.p=2,p)return p()}finally{c.T=m,n.p=y,n.d.f()}},Oi.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,n.d.C(p,m))},Oi.prefetchDNS=function(p){typeof p=="string"&&n.d.D(p)},Oi.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var y=m.as,_=h(y,m.crossOrigin),A=typeof m.integrity=="string"?m.integrity:void 0,S=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?n.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:A,fetchPriority:S}):y==="script"&&n.d.X(p,{crossOrigin:_,integrity:A,fetchPriority:S,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Oi.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);n.d.M(p,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&n.d.M(p)},Oi.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,_=h(y,m.crossOrigin);n.d.L(p,y,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Oi.preloadModule=function(p,m){if(typeof p=="string")if(m){var y=h(m.as,m.crossOrigin);n.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else n.d.m(p)},Oi.requestFormReset=function(p){n.d.r(p)},Oi.unstable_batchedUpdates=function(p,m){return p(m)},Oi.useFormState=function(p,m,y){return c.H.useFormState(p,m,y)},Oi.useFormStatus=function(){return c.H.useHostTransitionStatus()},Oi.version="19.0.0",Oi}var ST;function hM(){if(ST)return N0.exports;ST=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(t){console.error(t)}}return o(),N0.exports=uM(),N0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wT;function dM(){if(wT)return Ef;wT=1;var o=cM(),t=OA(),e=hM();function n(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),S=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),Y=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function X(i){return i===null||typeof i!="object"?null:(i=W&&i[W]||i["@@iterator"],typeof i=="function"?i:null)}var L=Symbol.for("react.client.reference");function D(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===L?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case p:return"Fragment";case h:return"Portal";case y:return"Profiler";case m:return"StrictMode";case M:return"Suspense";case j:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case S:return(i.displayName||"Context")+".Provider";case A:return(i._context.displayName||"Context")+".Consumer";case C:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case P:return s=i.displayName||null,s!==null?s:D(i.type)||"Memo";case z:s=i._payload,i=i._init;try{return D(i(s))}catch{}}return null}var x=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=Object.assign,H,V;function U(i){if(H===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);H=s&&s[1]||"",V=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+H+i+V}var gt=!1;function At(i,s){if(!i||gt)return"";gt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var ut=function(){throw Error()};if(Object.defineProperty(ut.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ut,[])}catch(it){var tt=it}Reflect.construct(i,[],ut)}else{try{ut.call()}catch(it){tt=it}i.call(ut.prototype)}}else{try{throw Error()}catch(it){tt=it}(ut=i())&&typeof ut.catch=="function"&&ut.catch(function(){})}}catch(it){if(it&&tt&&typeof it.stack=="string")return[it.stack,tt.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=u.DetermineComponentFrameRoot(),w=v[0],k=v[1];if(w&&k){var B=w.split(`
`),K=k.split(`
`);for(g=u=0;u<B.length&&!B[u].includes("DetermineComponentFrameRoot");)u++;for(;g<K.length&&!K[g].includes("DetermineComponentFrameRoot");)g++;if(u===B.length||g===K.length)for(u=B.length-1,g=K.length-1;1<=u&&0<=g&&B[u]!==K[g];)g--;for(;1<=u&&0<=g;u--,g--)if(B[u]!==K[g]){if(u!==1||g!==1)do if(u--,g--,0>g||B[u]!==K[g]){var nt=`
`+B[u].replace(" at new "," at ");return i.displayName&&nt.includes("<anonymous>")&&(nt=nt.replace("<anonymous>",i.displayName)),nt}while(1<=u&&0<=g);break}}}finally{gt=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?U(a):""}function st(i){switch(i.tag){case 26:case 27:case 5:return U(i.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 15:return i=At(i.type,!1),i;case 11:return i=At(i.type.render,!1),i;case 1:return i=At(i.type,!0),i;default:return""}}function at(i){try{var s="";do s+=st(i),i=i.return;while(i);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ct(i){var s=i,a=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,s.flags&4098&&(a=s.return),i=s.return;while(i)}return s.tag===3?a:null}function Ot(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function q(i){if(ct(i)!==i)throw Error(n(188))}function ot(i){var s=i.alternate;if(!s){if(s=ct(i),s===null)throw Error(n(188));return s!==i?null:i}for(var a=i,u=s;;){var g=a.return;if(g===null)break;var v=g.alternate;if(v===null){if(u=g.return,u!==null){a=u;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===a)return q(g),i;if(v===u)return q(g),s;v=v.sibling}throw Error(n(188))}if(a.return!==u.return)a=g,u=v;else{for(var w=!1,k=g.child;k;){if(k===a){w=!0,a=g,u=v;break}if(k===u){w=!0,u=g,a=v;break}k=k.sibling}if(!w){for(k=v.child;k;){if(k===a){w=!0,a=v,u=g;break}if(k===u){w=!0,u=v,a=g;break}k=k.sibling}if(!w)throw Error(n(189))}}if(a.alternate!==u)throw Error(n(190))}if(a.tag!==3)throw Error(n(188));return a.stateNode.current===a?i:s}function pt(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=pt(i),s!==null)return s;i=i.sibling}return null}var ht=Array.isArray,ft=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Rt={pending:!1,data:null,method:null,action:null},_t=[],xt=-1;function Pt(i){return{current:i}}function Wt(i){0>xt||(i.current=_t[xt],_t[xt]=null,xt--)}function Tt(i,s){xt++,_t[xt]=i.current,i.current=s}var He=Pt(null),Bi=Pt(null),Bt=Pt(null),oe=Pt(null);function Ee(i,s){switch(Tt(Bt,s),Tt(Bi,i),Tt(He,null),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?Gw(s):0;break;default:if(i=i===8?s.parentNode:s,s=i.tagName,i=i.namespaceURI)i=Gw(i),s=qw(i,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Wt(He),Tt(He,s)}function de(){Wt(He),Wt(Bi),Wt(Bt)}function Pn(i){i.memoizedState!==null&&Tt(oe,i);var s=He.current,a=qw(s,i.type);s!==a&&(Tt(Bi,i),Tt(He,a))}function Fn(i){Bi.current===i&&(Wt(He),Wt(Bi)),oe.current===i&&(Wt(oe),mf._currentValue=Rt)}var Ga=Object.prototype.hasOwnProperty,wr=o.unstable_scheduleCallback,us=o.unstable_cancelCallback,vd=o.unstable_shouldYield,ml=o.unstable_requestPaint,xi=o.unstable_now,fu=o.unstable_getCurrentPriorityLevel,Be=o.unstable_ImmediatePriority,Se=o.unstable_UserBlockingPriority,en=o.unstable_NormalPriority,Tr=o.unstable_LowPriority,Cr=o.unstable_IdlePriority,My=o.log,vl=o.unstable_setDisableYieldValue,qa=null,Di=null;function yd(i){if(Di&&typeof Di.onCommitFiberRoot=="function")try{Di.onCommitFiberRoot(qa,i,void 0,(i.current.flags&128)===128)}catch{}}function Us(i){if(typeof My=="function"&&vl(i),Di&&typeof Di.setStrictMode=="function")try{Di.setStrictMode(qa,i)}catch{}}var zi=Math.clz32?Math.clz32:Oy,bd=Math.log,Tg=Math.LN2;function Oy(i){return i>>>=0,i===0?32:31-(bd(i)/Tg|0)|0}var js=128,Xa=4194304;function hs(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ds(i,s){var a=i.pendingLanes;if(a===0)return 0;var u=0,g=i.suspendedLanes,v=i.pingedLanes,w=i.warmLanes;i=i.finishedLanes!==0;var k=a&134217727;return k!==0?(a=k&~g,a!==0?u=hs(a):(v&=k,v!==0?u=hs(v):i||(w=k&~w,w!==0&&(u=hs(w))))):(k=a&~g,k!==0?u=hs(k):v!==0?u=hs(v):i||(w=a&~w,w!==0&&(u=hs(w)))),u===0?0:s!==0&&s!==u&&!(s&g)&&(g=u&-u,w=s&-s,g>=w||g===32&&(w&4194176)!==0)?s:u}function Ya(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function _d(i,s){switch(i){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ad(){var i=js;return js<<=1,!(js&4194176)&&(js=128),i}function $a(){var i=Xa;return Xa<<=1,!(Xa&62914560)&&(Xa=4194304),i}function pu(i){for(var s=[],a=0;31>a;a++)s.push(i);return s}function ze(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Cg(i,s,a,u,g,v){var w=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var k=i.entanglements,B=i.expirationTimes,K=i.hiddenUpdates;for(a=w&~a;0<a;){var nt=31-zi(a),ut=1<<nt;k[nt]=0,B[nt]=-1;var tt=K[nt];if(tt!==null)for(K[nt]=null,nt=0;nt<tt.length;nt++){var it=tt[nt];it!==null&&(it.lane&=-536870913)}a&=~ut}u!==0&&Ka(i,u,0),v!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=v&~(w&~s))}function Ka(i,s,a){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-zi(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|a&4194218}function Wa(i,s){var a=i.entangledLanes|=s;for(i=i.entanglements;a;){var u=31-zi(a),g=1<<u;g&s|i[u]&s&&(i[u]|=s),a&=~g}}function Rg(i){return i&=-i,2<i?8<i?i&134217727?32:268435456:8:2}function xg(){var i=ft.p;return i!==0?i:(i=window.event,i===void 0?32:cT(i.type))}function Qa(i,s){var a=ft.p;try{return ft.p=i,s()}finally{ft.p=a}}var Hs=Math.random().toString(36).slice(2),ai="__reactFiber$"+Hs,oi="__reactProps$"+Hs,Za="__reactContainer$"+Hs,yl="__reactEvents$"+Hs,gu="__reactListeners$"+Hs,Bs="__reactHandles$"+Hs,Ed="__reactResources$"+Hs,Ja="__reactMarker$"+Hs;function bl(i){delete i[ai],delete i[oi],delete i[yl],delete i[gu],delete i[Bs]}function fs(i){var s=i[ai];if(s)return s;for(var a=i.parentNode;a;){if(s=a[Za]||a[ai]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(i=$w(i);i!==null;){if(a=i[ai])return a;i=$w(i)}return s}i=a,a=i.parentNode}return null}function Rr(i){if(i=i[ai]||i[Za]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function to(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(n(33))}function eo(i){var s=i[Ed];return s||(s=i[Ed]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Re(i){i[Ja]=!0}var Sd=new Set,mu={};function vn(i,s){nn(i,s),nn(i+"Capture",s)}function nn(i,s){for(mu[i]=s,i=0;i<s.length;i++)Sd.add(s[i])}var yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ky=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wd={},Td={};function Dg(i){return Ga.call(Td,i)?!0:Ga.call(wd,i)?!1:ky.test(i)?Td[i]=!0:(wd[i]=!0,!1)}function io(i,s,a){if(Dg(s))if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+a)}}function no(i,s,a){if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+a)}}function Un(i,s,a,u){if(u===null)i.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(s,a,""+u)}}function Vi(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Mg(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ly(i){var s=Mg(i)?"checked":"value",a=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),u=""+i[s];if(!i.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var g=a.get,v=a.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return g.call(this)},set:function(w){u=""+w,v.call(this,w)}}),Object.defineProperty(i,s,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(w){u=""+w},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function _l(i){i._valueTracker||(i._valueTracker=Ly(i))}function Cd(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var a=s.getValue(),u="";return i&&(u=Mg(i)?i.checked?"true":"false":i.value),i=u,i!==a?(s.setValue(i),!0):!1}function vu(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var xr=/[\n"\\]/g;function Ne(i){return i.replace(xr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function so(i,s,a,u,g,v,w,k){i.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.type=w:i.removeAttribute("type"),s!=null?w==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Vi(s)):i.value!==""+Vi(s)&&(i.value=""+Vi(s)):w!=="submit"&&w!=="reset"||i.removeAttribute("value"),s!=null?yu(i,w,Vi(s)):a!=null?yu(i,w,Vi(a)):u!=null&&i.removeAttribute("value"),g==null&&v!=null&&(i.defaultChecked=!!v),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?i.name=""+Vi(k):i.removeAttribute("name")}function Al(i,s,a,u,g,v,w,k){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.type=v),s!=null||a!=null){if(!(v!=="submit"&&v!=="reset"||s!=null))return;a=a!=null?""+Vi(a):"",s=s!=null?""+Vi(s):a,k||s===i.value||(i.value=s),i.defaultValue=s}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=k?i.checked:!!u,i.defaultChecked=!!u,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.name=w)}function yu(i,s,a){s==="number"&&vu(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function te(i,s,a,u){if(i=i.options,s){s={};for(var g=0;g<a.length;g++)s["$"+a[g]]=!0;for(a=0;a<i.length;a++)g=s.hasOwnProperty("$"+i[a].value),i[a].selected!==g&&(i[a].selected=g),g&&u&&(i[a].defaultSelected=!0)}else{for(a=""+Vi(a),s=null,g=0;g<i.length;g++){if(i[g].value===a){i[g].selected=!0,u&&(i[g].defaultSelected=!0);return}s!==null||i[g].disabled||(s=i[g])}s!==null&&(s.selected=!0)}}function El(i,s,a){if(s!=null&&(s=""+Vi(s),s!==i.value&&(i.value=s),a==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=a!=null?""+Vi(a):""}function ro(i,s,a,u){if(s==null){if(u!=null){if(a!=null)throw Error(n(92));if(ht(u)){if(1<u.length)throw Error(n(93));u=u[0]}a=u}a==null&&(a=""),s=a}a=Vi(s),i.defaultValue=a,u=i.textContent,u===a&&u!==""&&u!==null&&(i.value=u)}function jn(i,s){if(s){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=s;return}}i.textContent=s}var Ny=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Rd(i,s,a){var u=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,a):typeof a!="number"||a===0||Ny.has(s)?s==="float"?i.cssFloat=a:i[s]=(""+a).trim():i[s]=a+"px"}function Og(i,s,a){if(s!=null&&typeof s!="object")throw Error(n(62));if(i=i.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var g in s)u=s[g],s.hasOwnProperty(g)&&a[g]!==u&&Rd(i,g,u)}else for(var v in s)s.hasOwnProperty(v)&&Rd(i,v,s[v])}function xd(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Iy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Py=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zs(i){return Py.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Hn=null;function bu(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Dr=null,Mr=null;function Or(i){var s=Rr(i);if(s&&(i=s.stateNode)){var a=i[oi]||null;t:switch(i=s.stateNode,s.type){case"input":if(so(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ne(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var u=a[s];if(u!==i&&u.form===i.form){var g=u[oi]||null;if(!g)throw Error(n(90));so(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<a.length;s++)u=a[s],u.form===i.form&&Cd(u)}break t;case"textarea":El(i,a.value,a.defaultValue);break t;case"select":s=a.value,s!=null&&te(i,!!a.multiple,s,!1)}}}var Dd=!1;function kg(i,s,a){if(Dd)return i(s,a);Dd=!0;try{var u=i(s);return u}finally{if(Dd=!1,(Dr!==null||Mr!==null)&&(Sm(),Dr&&(s=Dr,i=Mr,Mr=Dr=null,Or(s),i)))for(s=0;s<i.length;s++)Or(i[s])}}function Sl(i,s){var a=i.stateNode;if(a===null)return null;var u=a[oi]||null;if(u===null)return null;a=u[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(n(231,s,typeof a));return a}var Bn=!1;if(yn)try{var wl={};Object.defineProperty(wl,"passive",{get:function(){Bn=!0}}),window.addEventListener("test",wl,wl),window.removeEventListener("test",wl,wl)}catch{Bn=!1}var Vs=null,ao=null,kr=null;function Md(){if(kr)return kr;var i,s=ao,a=s.length,u,g="value"in Vs?Vs.value:Vs.textContent,v=g.length;for(i=0;i<a&&s[i]===g[i];i++);var w=a-i;for(u=1;u<=w&&s[a-u]===g[v-u];u++);return kr=g.slice(i,1<u?1-u:void 0)}function Gs(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function qs(){return!0}function Od(){return!1}function li(i){function s(a,u,g,v,w){this._reactName=a,this._targetInst=g,this.type=u,this.nativeEvent=v,this.target=w,this.currentTarget=null;for(var k in i)i.hasOwnProperty(k)&&(a=i[k],this[k]=a?a(v):v[k]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?qs:Od,this.isPropagationStopped=Od,this}return I(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=qs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=qs)},persist:function(){},isPersistent:qs}),s}var le={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_u=li(le),Tl=I({},le,{view:0,detail:0}),Lg=li(Tl),Au,Eu,Xs,Cl=I({},Tl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dl,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Xs&&(Xs&&i.type==="mousemove"?(Au=i.screenX-Xs.screenX,Eu=i.screenY-Xs.screenY):Eu=Au=0,Xs=i),Au)},movementY:function(i){return"movementY"in i?i.movementY:Eu}}),zn=li(Cl),Ng=I({},Cl,{dataTransfer:0}),Fy=li(Ng),Rl=I({},Tl,{relatedTarget:0}),Su=li(Rl),kd=I({},le,{animationName:0,elapsedTime:0,pseudoElement:0}),wu=li(kd),Ig=I({},le,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Tu=li(Ig),Uy=I({},le,{data:0}),Ld=li(Uy),xl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nd(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Fg[i])?!!s[i]:!1}function Dl(){return Nd}var Ug=I({},Tl,{key:function(i){if(i.key){var s=xl[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Gs(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Pg[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dl,charCode:function(i){return i.type==="keypress"?Gs(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Gs(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Cu=li(Ug),jg=I({},Cl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Id=li(jg),Lr=I({},Tl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dl}),Hg=li(Lr),Bg=I({},le,{propertyName:0,elapsedTime:0,pseudoElement:0}),zg=li(Bg),Vg=I({},Cl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),sn=li(Vg),Gg=I({},le,{newState:0,oldState:0}),qg=li(Gg),oo=[9,13,27,32],f=yn&&"CompositionEvent"in window,b=null;yn&&"documentMode"in document&&(b=document.documentMode);var E=yn&&"TextEvent"in window&&!b,N=yn&&(!f||b&&8<b&&11>=b),Z=" ",et=!1;function dt(i,s){switch(i){case"keyup":return oo.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function se(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Te=!1;function Qt(i,s){switch(i){case"compositionend":return se(s);case"keypress":return s.which!==32?null:(et=!0,Z);case"textInput":return i=s.data,i===Z&&et?null:i;default:return null}}function ci(i,s){if(Te)return i==="compositionend"||!f&&dt(i,s)?(i=Md(),kr=ao=Vs=null,Te=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return N&&s.locale!=="ko"?null:s.data;default:return null}}var ui={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nr(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!ui[i.type]:s==="textarea"}function rn(i,s,a,u){Dr?Mr?Mr.push(u):Mr=[u]:Dr=u,s=xm(s,"onChange"),0<s.length&&(a=new _u("onChange","change",null,a,u),i.push({event:a,listeners:s}))}var Ys=null,Ir=null;function k2(i){jw(i,0)}function Xg(i){var s=to(i);if(Cd(s))return i}function pE(i,s){if(i==="change")return s}var gE=!1;if(yn){var jy;if(yn){var Hy="oninput"in document;if(!Hy){var mE=document.createElement("div");mE.setAttribute("oninput","return;"),Hy=typeof mE.oninput=="function"}jy=Hy}else jy=!1;gE=jy&&(!document.documentMode||9<document.documentMode)}function vE(){Ys&&(Ys.detachEvent("onpropertychange",yE),Ir=Ys=null)}function yE(i){if(i.propertyName==="value"&&Xg(Ir)){var s=[];rn(s,Ir,i,bu(i)),kg(k2,s)}}function L2(i,s,a){i==="focusin"?(vE(),Ys=s,Ir=a,Ys.attachEvent("onpropertychange",yE)):i==="focusout"&&vE()}function N2(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Xg(Ir)}function I2(i,s){if(i==="click")return Xg(s)}function P2(i,s){if(i==="input"||i==="change")return Xg(s)}function F2(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var bn=typeof Object.is=="function"?Object.is:F2;function Pd(i,s){if(bn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var a=Object.keys(i),u=Object.keys(s);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var g=a[u];if(!Ga.call(s,g)||!bn(i[g],s[g]))return!1}return!0}function bE(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function _E(i,s){var a=bE(i);i=0;for(var u;a;){if(a.nodeType===3){if(u=i+a.textContent.length,i<=s&&u>=s)return{node:a,offset:s-i};i=u}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=bE(a)}}function AE(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?AE(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function EE(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=vu(i.document);s instanceof i.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)i=s.contentWindow;else break;s=vu(i.document)}return s}function By(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function U2(i,s){var a=EE(s);s=i.focusedElem;var u=i.selectionRange;if(a!==s&&s&&s.ownerDocument&&AE(s.ownerDocument.documentElement,s)){if(u!==null&&By(s)){if(i=u.start,a=u.end,a===void 0&&(a=i),"selectionStart"in s)s.selectionStart=i,s.selectionEnd=Math.min(a,s.value.length);else if(a=(i=s.ownerDocument||document)&&i.defaultView||window,a.getSelection){a=a.getSelection();var g=s.textContent.length,v=Math.min(u.start,g);u=u.end===void 0?v:Math.min(u.end,g),!a.extend&&v>u&&(g=u,u=v,v=g),g=_E(s,v);var w=_E(s,u);g&&w&&(a.rangeCount!==1||a.anchorNode!==g.node||a.anchorOffset!==g.offset||a.focusNode!==w.node||a.focusOffset!==w.offset)&&(i=i.createRange(),i.setStart(g.node,g.offset),a.removeAllRanges(),v>u?(a.addRange(i),a.extend(w.node,w.offset)):(i.setEnd(w.node,w.offset),a.addRange(i)))}}for(i=[],a=s;a=a.parentNode;)a.nodeType===1&&i.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<i.length;s++)a=i[s],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var j2=yn&&"documentMode"in document&&11>=document.documentMode,Ru=null,zy=null,Fd=null,Vy=!1;function SE(i,s,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Vy||Ru==null||Ru!==vu(u)||(u=Ru,"selectionStart"in u&&By(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Fd&&Pd(Fd,u)||(Fd=u,u=xm(zy,"onSelect"),0<u.length&&(s=new _u("onSelect","select",null,s,a),i.push({event:s,listeners:u}),s.target=Ru)))}function Ml(i,s){var a={};return a[i.toLowerCase()]=s.toLowerCase(),a["Webkit"+i]="webkit"+s,a["Moz"+i]="moz"+s,a}var xu={animationend:Ml("Animation","AnimationEnd"),animationiteration:Ml("Animation","AnimationIteration"),animationstart:Ml("Animation","AnimationStart"),transitionrun:Ml("Transition","TransitionRun"),transitionstart:Ml("Transition","TransitionStart"),transitioncancel:Ml("Transition","TransitionCancel"),transitionend:Ml("Transition","TransitionEnd")},Gy={},wE={};yn&&(wE=document.createElement("div").style,"AnimationEvent"in window||(delete xu.animationend.animation,delete xu.animationiteration.animation,delete xu.animationstart.animation),"TransitionEvent"in window||delete xu.transitionend.transition);function Ol(i){if(Gy[i])return Gy[i];if(!xu[i])return i;var s=xu[i],a;for(a in s)if(s.hasOwnProperty(a)&&a in wE)return Gy[i]=s[a];return i}var TE=Ol("animationend"),CE=Ol("animationiteration"),RE=Ol("animationstart"),H2=Ol("transitionrun"),B2=Ol("transitionstart"),z2=Ol("transitioncancel"),xE=Ol("transitionend"),DE=new Map,ME="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ps(i,s){DE.set(i,s),vn(s,[i])}var Vn=[],Du=0,qy=0;function Yg(){for(var i=Du,s=qy=Du=0;s<i;){var a=Vn[s];Vn[s++]=null;var u=Vn[s];Vn[s++]=null;var g=Vn[s];Vn[s++]=null;var v=Vn[s];if(Vn[s++]=null,u!==null&&g!==null){var w=u.pending;w===null?g.next=g:(g.next=w.next,w.next=g),u.pending=g}v!==0&&OE(a,g,v)}}function $g(i,s,a,u){Vn[Du++]=i,Vn[Du++]=s,Vn[Du++]=a,Vn[Du++]=u,qy|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Xy(i,s,a,u){return $g(i,s,a,u),Kg(i)}function lo(i,s){return $g(i,null,null,s),Kg(i)}function OE(i,s,a){i.lanes|=a;var u=i.alternate;u!==null&&(u.lanes|=a);for(var g=!1,v=i.return;v!==null;)v.childLanes|=a,u=v.alternate,u!==null&&(u.childLanes|=a),v.tag===22&&(i=v.stateNode,i===null||i._visibility&1||(g=!0)),i=v,v=v.return;g&&s!==null&&i.tag===3&&(v=i.stateNode,g=31-zi(a),v=v.hiddenUpdates,i=v[g],i===null?v[g]=[s]:i.push(s),s.lane=a|536870912)}function Kg(i){if(50<cf)throw cf=0,Zb=null,Error(n(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Mu={},kE=new WeakMap;function Gn(i,s){if(typeof i=="object"&&i!==null){var a=kE.get(i);return a!==void 0?a:(s={value:i,source:s,stack:at(s)},kE.set(i,s),s)}return{value:i,source:s,stack:at(s)}}var Ou=[],ku=0,Wg=null,Qg=0,qn=[],Xn=0,kl=null,Pr=1,Fr="";function Ll(i,s){Ou[ku++]=Qg,Ou[ku++]=Wg,Wg=i,Qg=s}function LE(i,s,a){qn[Xn++]=Pr,qn[Xn++]=Fr,qn[Xn++]=kl,kl=i;var u=Pr;i=Fr;var g=32-zi(u)-1;u&=~(1<<g),a+=1;var v=32-zi(s)+g;if(30<v){var w=g-g%5;v=(u&(1<<w)-1).toString(32),u>>=w,g-=w,Pr=1<<32-zi(s)+g|a<<g|u,Fr=v+i}else Pr=1<<v|a<<g|u,Fr=i}function Yy(i){i.return!==null&&(Ll(i,1),LE(i,1,0))}function $y(i){for(;i===Wg;)Wg=Ou[--ku],Ou[ku]=null,Qg=Ou[--ku],Ou[ku]=null;for(;i===kl;)kl=qn[--Xn],qn[Xn]=null,Fr=qn[--Xn],qn[Xn]=null,Pr=qn[--Xn],qn[Xn]=null}var Gi=null,_i=null,ee=!1,gs=null,$s=!1,Ky=Error(n(519));function Nl(i){var s=Error(n(418,""));throw Hd(Gn(s,i)),Ky}function NE(i){var s=i.stateNode,a=i.type,u=i.memoizedProps;switch(s[ai]=i,s[oi]=u,a){case"dialog":$t("cancel",s),$t("close",s);break;case"iframe":case"object":case"embed":$t("load",s);break;case"video":case"audio":for(a=0;a<hf.length;a++)$t(hf[a],s);break;case"source":$t("error",s);break;case"img":case"image":case"link":$t("error",s),$t("load",s);break;case"details":$t("toggle",s);break;case"input":$t("invalid",s),Al(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),_l(s);break;case"select":$t("invalid",s);break;case"textarea":$t("invalid",s),ro(s,u.value,u.defaultValue,u.children),_l(s)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||u.suppressHydrationWarning===!0||Vw(s.textContent,a)?(u.popover!=null&&($t("beforetoggle",s),$t("toggle",s)),u.onScroll!=null&&$t("scroll",s),u.onScrollEnd!=null&&$t("scrollend",s),u.onClick!=null&&(s.onclick=Dm),s=!0):s=!1,s||Nl(i)}function IE(i){for(Gi=i.return;Gi;)switch(Gi.tag){case 3:case 27:$s=!0;return;case 5:case 13:$s=!1;return;default:Gi=Gi.return}}function Ud(i){if(i!==Gi)return!1;if(!ee)return IE(i),ee=!0,!1;var s=!1,a;if((a=i.tag!==3&&i.tag!==27)&&((a=i.tag===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||g0(i.type,i.memoizedProps)),a=!a),a&&(s=!0),s&&_i&&Nl(i),IE(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));t:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(a=i.data,a==="/$"){if(s===0){_i=vs(i.nextSibling);break t}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;i=i.nextSibling}_i=null}}else _i=Gi?vs(i.stateNode.nextSibling):null;return!0}function jd(){_i=Gi=null,ee=!1}function Hd(i){gs===null?gs=[i]:gs.push(i)}var Bd=Error(n(460)),PE=Error(n(474)),Wy={then:function(){}};function FE(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Zg(){}function UE(i,s,a){switch(a=i[a],a===void 0?i.push(s):a!==s&&(s.then(Zg,Zg),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,i===Bd?Error(n(483)):i;default:if(typeof s.status=="string")s.then(Zg,Zg);else{if(i=be,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=u}},function(u){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,i===Bd?Error(n(483)):i}throw zd=s,Bd}}var zd=null;function jE(){if(zd===null)throw Error(n(459));var i=zd;return zd=null,i}var Lu=null,Vd=0;function Jg(i){var s=Vd;return Vd+=1,Lu===null&&(Lu=[]),UE(Lu,i,s)}function Gd(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function tm(i,s){throw s.$$typeof===l?Error(n(525)):(i=Object.prototype.toString.call(s),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function HE(i){var s=i._init;return s(i._payload)}function BE(i){function s(Q,$){if(i){var J=Q.deletions;J===null?(Q.deletions=[$],Q.flags|=16):J.push($)}}function a(Q,$){if(!i)return null;for(;$!==null;)s(Q,$),$=$.sibling;return null}function u(Q){for(var $=new Map;Q!==null;)Q.key!==null?$.set(Q.key,Q):$.set(Q.index,Q),Q=Q.sibling;return $}function g(Q,$){return Q=Ao(Q,$),Q.index=0,Q.sibling=null,Q}function v(Q,$,J){return Q.index=J,i?(J=Q.alternate,J!==null?(J=J.index,J<$?(Q.flags|=33554434,$):J):(Q.flags|=33554434,$)):(Q.flags|=1048576,$)}function w(Q){return i&&Q.alternate===null&&(Q.flags|=33554434),Q}function k(Q,$,J,lt){return $===null||$.tag!==6?($=Gb(J,Q.mode,lt),$.return=Q,$):($=g($,J),$.return=Q,$)}function B(Q,$,J,lt){var bt=J.type;return bt===p?nt(Q,$,J.props.children,lt,J.key):$!==null&&($.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===z&&HE(bt)===$.type)?($=g($,J.props),Gd($,J),$.return=Q,$):($=ym(J.type,J.key,J.props,null,Q.mode,lt),Gd($,J),$.return=Q,$)}function K(Q,$,J,lt){return $===null||$.tag!==4||$.stateNode.containerInfo!==J.containerInfo||$.stateNode.implementation!==J.implementation?($=qb(J,Q.mode,lt),$.return=Q,$):($=g($,J.children||[]),$.return=Q,$)}function nt(Q,$,J,lt,bt){return $===null||$.tag!==7?($=Gl(J,Q.mode,lt,bt),$.return=Q,$):($=g($,J),$.return=Q,$)}function ut(Q,$,J){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=Gb(""+$,Q.mode,J),$.return=Q,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case c:return J=ym($.type,$.key,$.props,null,Q.mode,J),Gd(J,$),J.return=Q,J;case h:return $=qb($,Q.mode,J),$.return=Q,$;case z:var lt=$._init;return $=lt($._payload),ut(Q,$,J)}if(ht($)||X($))return $=Gl($,Q.mode,J,null),$.return=Q,$;if(typeof $.then=="function")return ut(Q,Jg($),J);if($.$$typeof===S)return ut(Q,gm(Q,$),J);tm(Q,$)}return null}function tt(Q,$,J,lt){var bt=$!==null?$.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return bt!==null?null:k(Q,$,""+J,lt);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case c:return J.key===bt?B(Q,$,J,lt):null;case h:return J.key===bt?K(Q,$,J,lt):null;case z:return bt=J._init,J=bt(J._payload),tt(Q,$,J,lt)}if(ht(J)||X(J))return bt!==null?null:nt(Q,$,J,lt,null);if(typeof J.then=="function")return tt(Q,$,Jg(J),lt);if(J.$$typeof===S)return tt(Q,$,gm(Q,J),lt);tm(Q,J)}return null}function it(Q,$,J,lt,bt){if(typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint")return Q=Q.get(J)||null,k($,Q,""+lt,bt);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case c:return Q=Q.get(lt.key===null?J:lt.key)||null,B($,Q,lt,bt);case h:return Q=Q.get(lt.key===null?J:lt.key)||null,K($,Q,lt,bt);case z:var Gt=lt._init;return lt=Gt(lt._payload),it(Q,$,J,lt,bt)}if(ht(lt)||X(lt))return Q=Q.get(J)||null,nt($,Q,lt,bt,null);if(typeof lt.then=="function")return it(Q,$,J,Jg(lt),bt);if(lt.$$typeof===S)return it(Q,$,J,gm($,lt),bt);tm($,lt)}return null}function Et(Q,$,J,lt){for(var bt=null,Gt=null,wt=$,Dt=$=0,fi=null;wt!==null&&Dt<J.length;Dt++){wt.index>Dt?(fi=wt,wt=null):fi=wt.sibling;var ie=tt(Q,wt,J[Dt],lt);if(ie===null){wt===null&&(wt=fi);break}i&&wt&&ie.alternate===null&&s(Q,wt),$=v(ie,$,Dt),Gt===null?bt=ie:Gt.sibling=ie,Gt=ie,wt=fi}if(Dt===J.length)return a(Q,wt),ee&&Ll(Q,Dt),bt;if(wt===null){for(;Dt<J.length;Dt++)wt=ut(Q,J[Dt],lt),wt!==null&&($=v(wt,$,Dt),Gt===null?bt=wt:Gt.sibling=wt,Gt=wt);return ee&&Ll(Q,Dt),bt}for(wt=u(wt);Dt<J.length;Dt++)fi=it(wt,Q,Dt,J[Dt],lt),fi!==null&&(i&&fi.alternate!==null&&wt.delete(fi.key===null?Dt:fi.key),$=v(fi,$,Dt),Gt===null?bt=fi:Gt.sibling=fi,Gt=fi);return i&&wt.forEach(function(xo){return s(Q,xo)}),ee&&Ll(Q,Dt),bt}function Nt(Q,$,J,lt){if(J==null)throw Error(n(151));for(var bt=null,Gt=null,wt=$,Dt=$=0,fi=null,ie=J.next();wt!==null&&!ie.done;Dt++,ie=J.next()){wt.index>Dt?(fi=wt,wt=null):fi=wt.sibling;var xo=tt(Q,wt,ie.value,lt);if(xo===null){wt===null&&(wt=fi);break}i&&wt&&xo.alternate===null&&s(Q,wt),$=v(xo,$,Dt),Gt===null?bt=xo:Gt.sibling=xo,Gt=xo,wt=fi}if(ie.done)return a(Q,wt),ee&&Ll(Q,Dt),bt;if(wt===null){for(;!ie.done;Dt++,ie=J.next())ie=ut(Q,ie.value,lt),ie!==null&&($=v(ie,$,Dt),Gt===null?bt=ie:Gt.sibling=ie,Gt=ie);return ee&&Ll(Q,Dt),bt}for(wt=u(wt);!ie.done;Dt++,ie=J.next())ie=it(wt,Q,Dt,ie.value,lt),ie!==null&&(i&&ie.alternate!==null&&wt.delete(ie.key===null?Dt:ie.key),$=v(ie,$,Dt),Gt===null?bt=ie:Gt.sibling=ie,Gt=ie);return i&&wt.forEach(function(iM){return s(Q,iM)}),ee&&Ll(Q,Dt),bt}function Fe(Q,$,J,lt){if(typeof J=="object"&&J!==null&&J.type===p&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case c:t:{for(var bt=J.key;$!==null;){if($.key===bt){if(bt=J.type,bt===p){if($.tag===7){a(Q,$.sibling),lt=g($,J.props.children),lt.return=Q,Q=lt;break t}}else if($.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===z&&HE(bt)===$.type){a(Q,$.sibling),lt=g($,J.props),Gd(lt,J),lt.return=Q,Q=lt;break t}a(Q,$);break}else s(Q,$);$=$.sibling}J.type===p?(lt=Gl(J.props.children,Q.mode,lt,J.key),lt.return=Q,Q=lt):(lt=ym(J.type,J.key,J.props,null,Q.mode,lt),Gd(lt,J),lt.return=Q,Q=lt)}return w(Q);case h:t:{for(bt=J.key;$!==null;){if($.key===bt)if($.tag===4&&$.stateNode.containerInfo===J.containerInfo&&$.stateNode.implementation===J.implementation){a(Q,$.sibling),lt=g($,J.children||[]),lt.return=Q,Q=lt;break t}else{a(Q,$);break}else s(Q,$);$=$.sibling}lt=qb(J,Q.mode,lt),lt.return=Q,Q=lt}return w(Q);case z:return bt=J._init,J=bt(J._payload),Fe(Q,$,J,lt)}if(ht(J))return Et(Q,$,J,lt);if(X(J)){if(bt=X(J),typeof bt!="function")throw Error(n(150));return J=bt.call(J),Nt(Q,$,J,lt)}if(typeof J.then=="function")return Fe(Q,$,Jg(J),lt);if(J.$$typeof===S)return Fe(Q,$,gm(Q,J),lt);tm(Q,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,$!==null&&$.tag===6?(a(Q,$.sibling),lt=g($,J),lt.return=Q,Q=lt):(a(Q,$),lt=Gb(J,Q.mode,lt),lt.return=Q,Q=lt),w(Q)):a(Q,$)}return function(Q,$,J,lt){try{Vd=0;var bt=Fe(Q,$,J,lt);return Lu=null,bt}catch(wt){if(wt===Bd)throw wt;var Gt=Wn(29,wt,null,Q.mode);return Gt.lanes=lt,Gt.return=Q,Gt}finally{}}}var Il=BE(!0),zE=BE(!1),Nu=Pt(null),em=Pt(0);function VE(i,s){i=$r,Tt(em,i),Tt(Nu,s),$r=i|s.baseLanes}function Qy(){Tt(em,$r),Tt(Nu,Nu.current)}function Zy(){$r=em.current,Wt(Nu),Wt(em)}var Yn=Pt(null),Ks=null;function co(i){var s=i.alternate;Tt(Ze,Ze.current&1),Tt(Yn,i),Ks===null&&(s===null||Nu.current!==null||s.memoizedState!==null)&&(Ks=i)}function GE(i){if(i.tag===22){if(Tt(Ze,Ze.current),Tt(Yn,i),Ks===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(Ks=i)}}else uo()}function uo(){Tt(Ze,Ze.current),Tt(Yn,Yn.current)}function Ur(i){Wt(Yn),Ks===i&&(Ks=null),Wt(Ze)}var Ze=Pt(0);function im(i){for(var s=i;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var V2=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(a,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(a){return a()})}},G2=o.unstable_scheduleCallback,q2=o.unstable_NormalPriority,Je={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jy(){return{controller:new V2,data:new Map,refCount:0}}function qd(i){i.refCount--,i.refCount===0&&G2(q2,function(){i.controller.abort()})}var Xd=null,tb=0,Iu=0,Pu=null;function X2(i,s){if(Xd===null){var a=Xd=[];tb=0,Iu=a0(),Pu={status:"pending",value:void 0,then:function(u){a.push(u)}}}return tb++,s.then(qE,qE),s}function qE(){if(--tb===0&&Xd!==null){Pu!==null&&(Pu.status="fulfilled");var i=Xd;Xd=null,Iu=0,Pu=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function Y2(i,s){var a=[],u={status:"pending",value:null,reason:null,then:function(g){a.push(g)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var g=0;g<a.length;g++)(0,a[g])(s)},function(g){for(u.status="rejected",u.reason=g,g=0;g<a.length;g++)(0,a[g])(void 0)}),u}var XE=x.S;x.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&X2(i,s),XE!==null&&XE(i,s)};var Pl=Pt(null);function eb(){var i=Pl.current;return i!==null?i:be.pooledCache}function nm(i,s){s===null?Tt(Pl,Pl.current):Tt(Pl,s.pool)}function YE(){var i=eb();return i===null?null:{parent:Je._currentValue,pool:i}}var ho=0,zt=null,fe=null,Xe=null,sm=!1,Fu=!1,Fl=!1,rm=0,Yd=0,Uu=null,$2=0;function Ve(){throw Error(n(321))}function ib(i,s){if(s===null)return!1;for(var a=0;a<s.length&&a<i.length;a++)if(!bn(i[a],s[a]))return!1;return!0}function nb(i,s,a,u,g,v){return ho=v,zt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,x.H=i===null||i.memoizedState===null?Ul:fo,Fl=!1,v=a(u,g),Fl=!1,Fu&&(v=KE(s,a,u,g)),$E(i),v}function $E(i){x.H=Ws;var s=fe!==null&&fe.next!==null;if(ho=0,Xe=fe=zt=null,sm=!1,Yd=0,Uu=null,s)throw Error(n(300));i===null||hi||(i=i.dependencies,i!==null&&pm(i)&&(hi=!0))}function KE(i,s,a,u){zt=i;var g=0;do{if(Fu&&(Uu=null),Yd=0,Fu=!1,25<=g)throw Error(n(301));if(g+=1,Xe=fe=null,i.updateQueue!=null){var v=i.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}x.H=jl,v=s(a,u)}while(Fu);return v}function K2(){var i=x.H,s=i.useState()[0];return s=typeof s.then=="function"?$d(s):s,i=i.useState()[0],(fe!==null?fe.memoizedState:null)!==i&&(zt.flags|=1024),s}function sb(){var i=rm!==0;return rm=0,i}function rb(i,s,a){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~a}function ab(i){if(sm){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}sm=!1}ho=0,Xe=fe=zt=null,Fu=!1,Yd=rm=0,Uu=null}function an(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?zt.memoizedState=Xe=i:Xe=Xe.next=i,Xe}function Ye(){if(fe===null){var i=zt.alternate;i=i!==null?i.memoizedState:null}else i=fe.next;var s=Xe===null?zt.memoizedState:Xe.next;if(s!==null)Xe=s,fe=i;else{if(i===null)throw zt.alternate===null?Error(n(467)):Error(n(310));fe=i,i={memoizedState:fe.memoizedState,baseState:fe.baseState,baseQueue:fe.baseQueue,queue:fe.queue,next:null},Xe===null?zt.memoizedState=Xe=i:Xe=Xe.next=i}return Xe}var am;am=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function $d(i){var s=Yd;return Yd+=1,Uu===null&&(Uu=[]),i=UE(Uu,i,s),s=zt,(Xe===null?s.memoizedState:Xe.next)===null&&(s=s.alternate,x.H=s===null||s.memoizedState===null?Ul:fo),i}function om(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return $d(i);if(i.$$typeof===S)return Mi(i)}throw Error(n(438,String(i)))}function ob(i){var s=null,a=zt.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var u=zt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=am(),zt.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(i),u=0;u<i;u++)a[u]=Y;return s.index++,a}function jr(i,s){return typeof s=="function"?s(i):s}function lm(i){var s=Ye();return lb(s,fe,i)}function lb(i,s,a){var u=i.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=a;var g=i.baseQueue,v=u.pending;if(v!==null){if(g!==null){var w=g.next;g.next=v.next,v.next=w}s.baseQueue=g=v,u.pending=null}if(v=i.baseState,g===null)i.memoizedState=v;else{s=g.next;var k=w=null,B=null,K=s,nt=!1;do{var ut=K.lane&-536870913;if(ut!==K.lane?(Zt&ut)===ut:(ho&ut)===ut){var tt=K.revertLane;if(tt===0)B!==null&&(B=B.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ut===Iu&&(nt=!0);else if((ho&tt)===tt){K=K.next,tt===Iu&&(nt=!0);continue}else ut={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},B===null?(k=B=ut,w=v):B=B.next=ut,zt.lanes|=tt,Eo|=tt;ut=K.action,Fl&&a(v,ut),v=K.hasEagerState?K.eagerState:a(v,ut)}else tt={lane:ut,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},B===null?(k=B=tt,w=v):B=B.next=tt,zt.lanes|=ut,Eo|=ut;K=K.next}while(K!==null&&K!==s);if(B===null?w=v:B.next=k,!bn(v,i.memoizedState)&&(hi=!0,nt&&(a=Pu,a!==null)))throw a;i.memoizedState=v,i.baseState=w,i.baseQueue=B,u.lastRenderedState=v}return g===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function cb(i){var s=Ye(),a=s.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=i;var u=a.dispatch,g=a.pending,v=s.memoizedState;if(g!==null){a.pending=null;var w=g=g.next;do v=i(v,w.action),w=w.next;while(w!==g);bn(v,s.memoizedState)||(hi=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),a.lastRenderedState=v}return[v,u]}function WE(i,s,a){var u=zt,g=Ye(),v=ee;if(v){if(a===void 0)throw Error(n(407));a=a()}else a=s();var w=!bn((fe||g).memoizedState,a);if(w&&(g.memoizedState=a,hi=!0),g=g.queue,db(JE.bind(null,u,g,i),[i]),g.getSnapshot!==s||w||Xe!==null&&Xe.memoizedState.tag&1){if(u.flags|=2048,ju(9,ZE.bind(null,u,g,a,s),{destroy:void 0},null),be===null)throw Error(n(349));v||ho&60||QE(u,s,a)}return a}function QE(i,s,a){i.flags|=16384,i={getSnapshot:s,value:a},s=zt.updateQueue,s===null?(s=am(),zt.updateQueue=s,s.stores=[i]):(a=s.stores,a===null?s.stores=[i]:a.push(i))}function ZE(i,s,a,u){s.value=a,s.getSnapshot=u,tS(s)&&eS(i)}function JE(i,s,a){return a(function(){tS(s)&&eS(i)})}function tS(i){var s=i.getSnapshot;i=i.value;try{var a=s();return!bn(i,a)}catch{return!0}}function eS(i){var s=lo(i,2);s!==null&&qi(s,i,2)}function ub(i){var s=an();if(typeof i=="function"){var a=i;if(i=a(),Fl){Us(!0);try{a()}finally{Us(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jr,lastRenderedState:i},s}function iS(i,s,a,u){return i.baseState=a,lb(i,fe,typeof u=="function"?u:jr)}function W2(i,s,a,u,g){if(hm(i))throw Error(n(485));if(i=s.action,i!==null){var v={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){v.listeners.push(w)}};x.T!==null?a(!0):v.isTransition=!1,u(v),a=s.pending,a===null?(v.next=s.pending=v,nS(s,v)):(v.next=a.next,s.pending=a.next=v)}}function nS(i,s){var a=s.action,u=s.payload,g=i.state;if(s.isTransition){var v=x.T,w={};x.T=w;try{var k=a(g,u),B=x.S;B!==null&&B(w,k),sS(i,s,k)}catch(K){hb(i,s,K)}finally{x.T=v}}else try{v=a(g,u),sS(i,s,v)}catch(K){hb(i,s,K)}}function sS(i,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){rS(i,s,u)},function(u){return hb(i,s,u)}):rS(i,s,a)}function rS(i,s,a){s.status="fulfilled",s.value=a,aS(s),i.state=a,s=i.pending,s!==null&&(a=s.next,a===s?i.pending=null:(a=a.next,s.next=a,nS(i,a)))}function hb(i,s,a){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=a,aS(s),s=s.next;while(s!==u)}i.action=null}function aS(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function oS(i,s){return s}function lS(i,s){if(ee){var a=be.formState;if(a!==null){t:{var u=zt;if(ee){if(_i){e:{for(var g=_i,v=$s;g.nodeType!==8;){if(!v){g=null;break e}if(g=vs(g.nextSibling),g===null){g=null;break e}}v=g.data,g=v==="F!"||v==="F"?g:null}if(g){_i=vs(g.nextSibling),u=g.data==="F!";break t}}Nl(u)}u=!1}u&&(s=a[0])}}return a=an(),a.memoizedState=a.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oS,lastRenderedState:s},a.queue=u,a=CS.bind(null,zt,u),u.dispatch=a,u=ub(!1),v=vb.bind(null,zt,!1,u.queue),u=an(),g={state:s,dispatch:null,action:i,pending:null},u.queue=g,a=W2.bind(null,zt,g,v,a),g.dispatch=a,u.memoizedState=i,[s,a,!1]}function cS(i){var s=Ye();return uS(s,fe,i)}function uS(i,s,a){s=lb(i,s,oS)[0],i=lm(jr)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?$d(s):s;var u=Ye(),g=u.queue,v=g.dispatch;return a!==u.memoizedState&&(zt.flags|=2048,ju(9,Q2.bind(null,g,a),{destroy:void 0},null)),[s,v,i]}function Q2(i,s){i.action=s}function hS(i){var s=Ye(),a=fe;if(a!==null)return uS(s,a,i);Ye(),s=s.memoizedState,a=Ye();var u=a.queue.dispatch;return a.memoizedState=i,[s,u,!1]}function ju(i,s,a,u){return i={tag:i,create:s,inst:a,deps:u,next:null},s=zt.updateQueue,s===null&&(s=am(),zt.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=i.next=i:(u=a.next,a.next=i,i.next=u,s.lastEffect=i),i}function dS(){return Ye().memoizedState}function cm(i,s,a,u){var g=an();zt.flags|=i,g.memoizedState=ju(1|s,a,{destroy:void 0},u===void 0?null:u)}function um(i,s,a,u){var g=Ye();u=u===void 0?null:u;var v=g.memoizedState.inst;fe!==null&&u!==null&&ib(u,fe.memoizedState.deps)?g.memoizedState=ju(s,a,v,u):(zt.flags|=i,g.memoizedState=ju(1|s,a,v,u))}function fS(i,s){cm(8390656,8,i,s)}function db(i,s){um(2048,8,i,s)}function pS(i,s){return um(4,2,i,s)}function gS(i,s){return um(4,4,i,s)}function mS(i,s){if(typeof s=="function"){i=i();var a=s(i);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function vS(i,s,a){a=a!=null?a.concat([i]):null,um(4,4,mS.bind(null,s,i),a)}function fb(){}function yS(i,s){var a=Ye();s=s===void 0?null:s;var u=a.memoizedState;return s!==null&&ib(s,u[1])?u[0]:(a.memoizedState=[i,s],i)}function bS(i,s){var a=Ye();s=s===void 0?null:s;var u=a.memoizedState;if(s!==null&&ib(s,u[1]))return u[0];if(u=i(),Fl){Us(!0);try{i()}finally{Us(!1)}}return a.memoizedState=[u,s],u}function pb(i,s,a){return a===void 0||ho&1073741824?i.memoizedState=s:(i.memoizedState=a,i=Aw(),zt.lanes|=i,Eo|=i,a)}function _S(i,s,a,u){return bn(a,s)?a:Nu.current!==null?(i=pb(i,a,u),bn(i,s)||(hi=!0),i):ho&42?(i=Aw(),zt.lanes|=i,Eo|=i,s):(hi=!0,i.memoizedState=a)}function AS(i,s,a,u,g){var v=ft.p;ft.p=v!==0&&8>v?v:8;var w=x.T,k={};x.T=k,vb(i,!1,s,a);try{var B=g(),K=x.S;if(K!==null&&K(k,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var nt=Y2(B,u);Kd(i,s,nt,Sn(i))}else Kd(i,s,u,Sn(i))}catch(ut){Kd(i,s,{then:function(){},status:"rejected",reason:ut},Sn())}finally{ft.p=v,x.T=w}}function Z2(){}function gb(i,s,a,u){if(i.tag!==5)throw Error(n(476));var g=ES(i).queue;AS(i,g,s,Rt,a===null?Z2:function(){return SS(i),a(u)})}function ES(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:Rt,baseState:Rt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jr,lastRenderedState:Rt},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jr,lastRenderedState:a},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function SS(i){var s=ES(i).next.queue;Kd(i,s,{},Sn())}function mb(){return Mi(mf)}function wS(){return Ye().memoizedState}function TS(){return Ye().memoizedState}function J2(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var a=Sn();i=mo(a);var u=vo(s,i,a);u!==null&&(qi(u,s,a),Zd(u,s,a)),s={cache:Jy()},i.payload=s;return}s=s.return}}function tD(i,s,a){var u=Sn();a={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},hm(i)?RS(s,a):(a=Xy(i,s,a,u),a!==null&&(qi(a,i,u),xS(a,s,u)))}function CS(i,s,a){var u=Sn();Kd(i,s,a,u)}function Kd(i,s,a,u){var g={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(hm(i))RS(s,g);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var w=s.lastRenderedState,k=v(w,a);if(g.hasEagerState=!0,g.eagerState=k,bn(k,w))return $g(i,s,g,0),be===null&&Yg(),!1}catch{}finally{}if(a=Xy(i,s,g,u),a!==null)return qi(a,i,u),xS(a,s,u),!0}return!1}function vb(i,s,a,u){if(u={lane:2,revertLane:a0(),action:u,hasEagerState:!1,eagerState:null,next:null},hm(i)){if(s)throw Error(n(479))}else s=Xy(i,a,u,2),s!==null&&qi(s,i,2)}function hm(i){var s=i.alternate;return i===zt||s!==null&&s===zt}function RS(i,s){Fu=sm=!0;var a=i.pending;a===null?s.next=s:(s.next=a.next,a.next=s),i.pending=s}function xS(i,s,a){if(a&4194176){var u=s.lanes;u&=i.pendingLanes,a|=u,s.lanes=a,Wa(i,a)}}var Ws={readContext:Mi,use:om,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useLayoutEffect:Ve,useInsertionEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useSyncExternalStore:Ve,useId:Ve};Ws.useCacheRefresh=Ve,Ws.useMemoCache=Ve,Ws.useHostTransitionStatus=Ve,Ws.useFormState=Ve,Ws.useActionState=Ve,Ws.useOptimistic=Ve;var Ul={readContext:Mi,use:om,useCallback:function(i,s){return an().memoizedState=[i,s===void 0?null:s],i},useContext:Mi,useEffect:fS,useImperativeHandle:function(i,s,a){a=a!=null?a.concat([i]):null,cm(4194308,4,mS.bind(null,s,i),a)},useLayoutEffect:function(i,s){return cm(4194308,4,i,s)},useInsertionEffect:function(i,s){cm(4,2,i,s)},useMemo:function(i,s){var a=an();s=s===void 0?null:s;var u=i();if(Fl){Us(!0);try{i()}finally{Us(!1)}}return a.memoizedState=[u,s],u},useReducer:function(i,s,a){var u=an();if(a!==void 0){var g=a(s);if(Fl){Us(!0);try{a(s)}finally{Us(!1)}}}else g=s;return u.memoizedState=u.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},u.queue=i,i=i.dispatch=tD.bind(null,zt,i),[u.memoizedState,i]},useRef:function(i){var s=an();return i={current:i},s.memoizedState=i},useState:function(i){i=ub(i);var s=i.queue,a=CS.bind(null,zt,s);return s.dispatch=a,[i.memoizedState,a]},useDebugValue:fb,useDeferredValue:function(i,s){var a=an();return pb(a,i,s)},useTransition:function(){var i=ub(!1);return i=AS.bind(null,zt,i.queue,!0,!1),an().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,a){var u=zt,g=an();if(ee){if(a===void 0)throw Error(n(407));a=a()}else{if(a=s(),be===null)throw Error(n(349));Zt&60||QE(u,s,a)}g.memoizedState=a;var v={value:a,getSnapshot:s};return g.queue=v,fS(JE.bind(null,u,v,i),[i]),u.flags|=2048,ju(9,ZE.bind(null,u,v,a,s),{destroy:void 0},null),a},useId:function(){var i=an(),s=be.identifierPrefix;if(ee){var a=Fr,u=Pr;a=(u&~(1<<32-zi(u)-1)).toString(32)+a,s=":"+s+"R"+a,a=rm++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=$2++,s=":"+s+"r"+a.toString(32)+":";return i.memoizedState=s},useCacheRefresh:function(){return an().memoizedState=J2.bind(null,zt)}};Ul.useMemoCache=ob,Ul.useHostTransitionStatus=mb,Ul.useFormState=lS,Ul.useActionState=lS,Ul.useOptimistic=function(i){var s=an();s.memoizedState=s.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=vb.bind(null,zt,!0,a),a.dispatch=s,[i,s]};var fo={readContext:Mi,use:om,useCallback:yS,useContext:Mi,useEffect:db,useImperativeHandle:vS,useInsertionEffect:pS,useLayoutEffect:gS,useMemo:bS,useReducer:lm,useRef:dS,useState:function(){return lm(jr)},useDebugValue:fb,useDeferredValue:function(i,s){var a=Ye();return _S(a,fe.memoizedState,i,s)},useTransition:function(){var i=lm(jr)[0],s=Ye().memoizedState;return[typeof i=="boolean"?i:$d(i),s]},useSyncExternalStore:WE,useId:wS};fo.useCacheRefresh=TS,fo.useMemoCache=ob,fo.useHostTransitionStatus=mb,fo.useFormState=cS,fo.useActionState=cS,fo.useOptimistic=function(i,s){var a=Ye();return iS(a,fe,i,s)};var jl={readContext:Mi,use:om,useCallback:yS,useContext:Mi,useEffect:db,useImperativeHandle:vS,useInsertionEffect:pS,useLayoutEffect:gS,useMemo:bS,useReducer:cb,useRef:dS,useState:function(){return cb(jr)},useDebugValue:fb,useDeferredValue:function(i,s){var a=Ye();return fe===null?pb(a,i,s):_S(a,fe.memoizedState,i,s)},useTransition:function(){var i=cb(jr)[0],s=Ye().memoizedState;return[typeof i=="boolean"?i:$d(i),s]},useSyncExternalStore:WE,useId:wS};jl.useCacheRefresh=TS,jl.useMemoCache=ob,jl.useHostTransitionStatus=mb,jl.useFormState=hS,jl.useActionState=hS,jl.useOptimistic=function(i,s){var a=Ye();return fe!==null?iS(a,fe,i,s):(a.baseState=i,[i,a.queue.dispatch])};function yb(i,s,a,u){s=i.memoizedState,a=a(u,s),a=a==null?s:I({},s,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var bb={isMounted:function(i){return(i=i._reactInternals)?ct(i)===i:!1},enqueueSetState:function(i,s,a){i=i._reactInternals;var u=Sn(),g=mo(u);g.payload=s,a!=null&&(g.callback=a),s=vo(i,g,u),s!==null&&(qi(s,i,u),Zd(s,i,u))},enqueueReplaceState:function(i,s,a){i=i._reactInternals;var u=Sn(),g=mo(u);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=vo(i,g,u),s!==null&&(qi(s,i,u),Zd(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var a=Sn(),u=mo(a);u.tag=2,s!=null&&(u.callback=s),s=vo(i,u,a),s!==null&&(qi(s,i,a),Zd(s,i,a))}};function DS(i,s,a,u,g,v,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,v,w):s.prototype&&s.prototype.isPureReactComponent?!Pd(a,u)||!Pd(g,v):!0}function MS(i,s,a,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,u),s.state!==i&&bb.enqueueReplaceState(s,s.state,null)}function Hl(i,s){var a=s;if("ref"in s){a={};for(var u in s)u!=="ref"&&(a[u]=s[u])}if(i=i.defaultProps){a===s&&(a=I({},a));for(var g in i)a[g]===void 0&&(a[g]=i[g])}return a}var dm=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function OS(i){dm(i)}function kS(i){console.error(i)}function LS(i){dm(i)}function fm(i,s){try{var a=i.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function NS(i,s,a){try{var u=i.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function _b(i,s,a){return a=mo(a),a.tag=3,a.payload={element:null},a.callback=function(){fm(i,s)},a}function IS(i){return i=mo(i),i.tag=3,i}function PS(i,s,a,u){var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var v=u.value;i.payload=function(){return g(v)},i.callback=function(){NS(s,a,u)}}var w=a.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(i.callback=function(){NS(s,a,u),typeof g!="function"&&(So===null?So=new Set([this]):So.add(this));var k=u.stack;this.componentDidCatch(u.value,{componentStack:k!==null?k:""})})}function eD(i,s,a,u,g){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=a.alternate,s!==null&&Qd(s,a,g,!0),a=Yn.current,a!==null){switch(a.tag){case 13:return Ks===null?e0():a.alternate===null&&Pe===0&&(Pe=3),a.flags&=-257,a.flags|=65536,a.lanes=g,u===Wy?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([u]):s.add(u),n0(i,u,g)),!1;case 22:return a.flags|=65536,u===Wy?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([u]):a.add(u)),n0(i,u,g)),!1}throw Error(n(435,a.tag))}return n0(i,u,g),e0(),!1}if(ee)return s=Yn.current,s!==null?(!(s.flags&65536)&&(s.flags|=256),s.flags|=65536,s.lanes=g,u!==Ky&&(i=Error(n(422),{cause:u}),Hd(Gn(i,a)))):(u!==Ky&&(s=Error(n(423),{cause:u}),Hd(Gn(s,a))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,u=Gn(u,a),g=_b(i.stateNode,u,g),Ib(i,g),Pe!==4&&(Pe=2)),!1;var v=Error(n(520),{cause:u});if(v=Gn(v,a),of===null?of=[v]:of.push(v),Pe!==4&&(Pe=2),s===null)return!0;u=Gn(u,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,i=g&-g,a.lanes|=i,i=_b(a.stateNode,u,i),Ib(a,i),!1;case 1:if(s=a.type,v=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(So===null||!So.has(v))))return a.flags|=65536,g&=-g,a.lanes|=g,g=IS(g),PS(g,i,a,u),Ib(a,g),!1}a=a.return}while(a!==null);return!1}var FS=Error(n(461)),hi=!1;function Ai(i,s,a,u){s.child=i===null?zE(s,null,a,u):Il(s,i.child,a,u)}function US(i,s,a,u,g){a=a.render;var v=s.ref;if("ref"in u){var w={};for(var k in u)k!=="ref"&&(w[k]=u[k])}else w=u;return zl(s),u=nb(i,s,a,w,v,g),k=sb(),i!==null&&!hi?(rb(i,s,g),Hr(i,s,g)):(ee&&k&&Yy(s),s.flags|=1,Ai(i,s,u,g),s.child)}function jS(i,s,a,u,g){if(i===null){var v=a.type;return typeof v=="function"&&!Vb(v)&&v.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=v,HS(i,s,v,u,g)):(i=ym(a.type,null,u,s,s.mode,g),i.ref=s.ref,i.return=s,s.child=i)}if(v=i.child,!Db(i,g)){var w=v.memoizedProps;if(a=a.compare,a=a!==null?a:Pd,a(w,u)&&i.ref===s.ref)return Hr(i,s,g)}return s.flags|=1,i=Ao(v,u),i.ref=s.ref,i.return=s,s.child=i}function HS(i,s,a,u,g){if(i!==null){var v=i.memoizedProps;if(Pd(v,u)&&i.ref===s.ref)if(hi=!1,s.pendingProps=u=v,Db(i,g))i.flags&131072&&(hi=!0);else return s.lanes=i.lanes,Hr(i,s,g)}return Ab(i,s,a,u,g)}function BS(i,s,a){var u=s.pendingProps,g=u.children,v=(s.stateNode._pendingVisibility&2)!==0,w=i!==null?i.memoizedState:null;if(Wd(i,s),u.mode==="hidden"||v){if(s.flags&128){if(u=w!==null?w.baseLanes|a:a,i!==null){for(g=s.child=i.child,v=0;g!==null;)v=v|g.lanes|g.childLanes,g=g.sibling;s.childLanes=v&~u}else s.childLanes=0,s.child=null;return zS(i,s,u,a)}if(a&536870912)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&nm(s,w!==null?w.cachePool:null),w!==null?VE(s,w):Qy(),GE(s);else return s.lanes=s.childLanes=536870912,zS(i,s,w!==null?w.baseLanes|a:a,a)}else w!==null?(nm(s,w.cachePool),VE(s,w),uo(),s.memoizedState=null):(i!==null&&nm(s,null),Qy(),uo());return Ai(i,s,g,a),s.child}function zS(i,s,a,u){var g=eb();return g=g===null?null:{parent:Je._currentValue,pool:g},s.memoizedState={baseLanes:a,cachePool:g},i!==null&&nm(s,null),Qy(),GE(s),i!==null&&Qd(i,s,u,!0),null}function Wd(i,s){var a=s.ref;if(a===null)i!==null&&i.ref!==null&&(s.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(n(284));(i===null||i.ref!==a)&&(s.flags|=2097664)}}function Ab(i,s,a,u,g){return zl(s),a=nb(i,s,a,u,void 0,g),u=sb(),i!==null&&!hi?(rb(i,s,g),Hr(i,s,g)):(ee&&u&&Yy(s),s.flags|=1,Ai(i,s,a,g),s.child)}function VS(i,s,a,u,g,v){return zl(s),s.updateQueue=null,a=KE(s,u,a,g),$E(i),u=sb(),i!==null&&!hi?(rb(i,s,v),Hr(i,s,v)):(ee&&u&&Yy(s),s.flags|=1,Ai(i,s,a,v),s.child)}function GS(i,s,a,u,g){if(zl(s),s.stateNode===null){var v=Mu,w=a.contextType;typeof w=="object"&&w!==null&&(v=Mi(w)),v=new a(u,v),s.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=bb,s.stateNode=v,v._reactInternals=s,v=s.stateNode,v.props=u,v.state=s.memoizedState,v.refs={},Lb(s),w=a.contextType,v.context=typeof w=="object"&&w!==null?Mi(w):Mu,v.state=s.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(yb(s,a,w,u),v.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(w=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),w!==v.state&&bb.enqueueReplaceState(v,v.state,null),tf(s,u,v,g),Jd(),v.state=s.memoizedState),typeof v.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){v=s.stateNode;var k=s.memoizedProps,B=Hl(a,k);v.props=B;var K=v.context,nt=a.contextType;w=Mu,typeof nt=="object"&&nt!==null&&(w=Mi(nt));var ut=a.getDerivedStateFromProps;nt=typeof ut=="function"||typeof v.getSnapshotBeforeUpdate=="function",k=s.pendingProps!==k,nt||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(k||K!==w)&&MS(s,v,u,w),go=!1;var tt=s.memoizedState;v.state=tt,tf(s,u,v,g),Jd(),K=s.memoizedState,k||tt!==K||go?(typeof ut=="function"&&(yb(s,a,ut,u),K=s.memoizedState),(B=go||DS(s,a,B,u,tt,K,w))?(nt||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(s.flags|=4194308)):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=K),v.props=u,v.state=K,v.context=w,u=B):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{v=s.stateNode,Nb(i,s),w=s.memoizedProps,nt=Hl(a,w),v.props=nt,ut=s.pendingProps,tt=v.context,K=a.contextType,B=Mu,typeof K=="object"&&K!==null&&(B=Mi(K)),k=a.getDerivedStateFromProps,(K=typeof k=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(w!==ut||tt!==B)&&MS(s,v,u,B),go=!1,tt=s.memoizedState,v.state=tt,tf(s,u,v,g),Jd();var it=s.memoizedState;w!==ut||tt!==it||go||i!==null&&i.dependencies!==null&&pm(i.dependencies)?(typeof k=="function"&&(yb(s,a,k,u),it=s.memoizedState),(nt=go||DS(s,a,nt,u,tt,it,B)||i!==null&&i.dependencies!==null&&pm(i.dependencies))?(K||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,it,B),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,it,B)),typeof v.componentDidUpdate=="function"&&(s.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof v.componentDidUpdate!="function"||w===i.memoizedProps&&tt===i.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&tt===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=it),v.props=u,v.state=it,v.context=B,u=nt):(typeof v.componentDidUpdate!="function"||w===i.memoizedProps&&tt===i.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&tt===i.memoizedState||(s.flags|=1024),u=!1)}return v=u,Wd(i,s),u=(s.flags&128)!==0,v||u?(v=s.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:v.render(),s.flags|=1,i!==null&&u?(s.child=Il(s,i.child,null,g),s.child=Il(s,null,a,g)):Ai(i,s,a,g),s.memoizedState=v.state,i=s.child):i=Hr(i,s,g),i}function qS(i,s,a,u){return jd(),s.flags|=256,Ai(i,s,a,u),s.child}var Eb={dehydrated:null,treeContext:null,retryLane:0};function Sb(i){return{baseLanes:i,cachePool:YE()}}function wb(i,s,a){return i=i!==null?i.childLanes&~a:0,s&&(i|=Qn),i}function XS(i,s,a){var u=s.pendingProps,g=!1,v=(s.flags&128)!==0,w;if((w=v)||(w=i!==null&&i.memoizedState===null?!1:(Ze.current&2)!==0),w&&(g=!0,s.flags&=-129),w=(s.flags&32)!==0,s.flags&=-33,i===null){if(ee){if(g?co(s):uo(),ee){var k=_i,B;if(B=k){t:{for(B=k,k=$s;B.nodeType!==8;){if(!k){k=null;break t}if(B=vs(B.nextSibling),B===null){k=null;break t}}k=B}k!==null?(s.memoizedState={dehydrated:k,treeContext:kl!==null?{id:Pr,overflow:Fr}:null,retryLane:536870912},B=Wn(18,null,null,0),B.stateNode=k,B.return=s,s.child=B,Gi=s,_i=null,B=!0):B=!1}B||Nl(s)}if(k=s.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return k.data==="$!"?s.lanes=16:s.lanes=536870912,null;Ur(s)}return k=u.children,u=u.fallback,g?(uo(),g=s.mode,k=Cb({mode:"hidden",children:k},g),u=Gl(u,g,a,null),k.return=s,u.return=s,k.sibling=u,s.child=k,g=s.child,g.memoizedState=Sb(a),g.childLanes=wb(i,w,a),s.memoizedState=Eb,u):(co(s),Tb(s,k))}if(B=i.memoizedState,B!==null&&(k=B.dehydrated,k!==null)){if(v)s.flags&256?(co(s),s.flags&=-257,s=Rb(i,s,a)):s.memoizedState!==null?(uo(),s.child=i.child,s.flags|=128,s=null):(uo(),g=u.fallback,k=s.mode,u=Cb({mode:"visible",children:u.children},k),g=Gl(g,k,a,null),g.flags|=2,u.return=s,g.return=s,u.sibling=g,s.child=u,Il(s,i.child,null,a),u=s.child,u.memoizedState=Sb(a),u.childLanes=wb(i,w,a),s.memoizedState=Eb,s=g);else if(co(s),k.data==="$!"){if(w=k.nextSibling&&k.nextSibling.dataset,w)var K=w.dgst;w=K,u=Error(n(419)),u.stack="",u.digest=w,Hd({value:u,source:null,stack:null}),s=Rb(i,s,a)}else if(hi||Qd(i,s,a,!1),w=(a&i.childLanes)!==0,hi||w){if(w=be,w!==null){if(u=a&-a,u&42)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=u&(w.suspendedLanes|a)?0:u,u!==0&&u!==B.retryLane)throw B.retryLane=u,lo(i,u),qi(w,i,u),FS}k.data==="$?"||e0(),s=Rb(i,s,a)}else k.data==="$?"?(s.flags|=128,s.child=i.child,s=mD.bind(null,i),k._reactRetry=s,s=null):(i=B.treeContext,_i=vs(k.nextSibling),Gi=s,ee=!0,gs=null,$s=!1,i!==null&&(qn[Xn++]=Pr,qn[Xn++]=Fr,qn[Xn++]=kl,Pr=i.id,Fr=i.overflow,kl=s),s=Tb(s,u.children),s.flags|=4096);return s}return g?(uo(),g=u.fallback,k=s.mode,B=i.child,K=B.sibling,u=Ao(B,{mode:"hidden",children:u.children}),u.subtreeFlags=B.subtreeFlags&31457280,K!==null?g=Ao(K,g):(g=Gl(g,k,a,null),g.flags|=2),g.return=s,u.return=s,u.sibling=g,s.child=u,u=g,g=s.child,k=i.child.memoizedState,k===null?k=Sb(a):(B=k.cachePool,B!==null?(K=Je._currentValue,B=B.parent!==K?{parent:K,pool:K}:B):B=YE(),k={baseLanes:k.baseLanes|a,cachePool:B}),g.memoizedState=k,g.childLanes=wb(i,w,a),s.memoizedState=Eb,u):(co(s),a=i.child,i=a.sibling,a=Ao(a,{mode:"visible",children:u.children}),a.return=s,a.sibling=null,i!==null&&(w=s.deletions,w===null?(s.deletions=[i],s.flags|=16):w.push(i)),s.child=a,s.memoizedState=null,a)}function Tb(i,s){return s=Cb({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Cb(i,s){return yw(i,s,0,null)}function Rb(i,s,a){return Il(s,i.child,null,a),i=Tb(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function YS(i,s,a){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),Ob(i.return,s,a)}function xb(i,s,a,u,g){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:g}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=u,v.tail=a,v.tailMode=g)}function $S(i,s,a){var u=s.pendingProps,g=u.revealOrder,v=u.tail;if(Ai(i,s,u.children,a),u=Ze.current,u&2)u=u&1|2,s.flags|=128;else{if(i!==null&&i.flags&128)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&YS(i,a,s);else if(i.tag===19)YS(i,a,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(Tt(Ze,u),g){case"forwards":for(a=s.child,g=null;a!==null;)i=a.alternate,i!==null&&im(i)===null&&(g=a),a=a.sibling;a=g,a===null?(g=s.child,s.child=null):(g=a.sibling,a.sibling=null),xb(s,!1,g,a,v);break;case"backwards":for(a=null,g=s.child,s.child=null;g!==null;){if(i=g.alternate,i!==null&&im(i)===null){s.child=g;break}i=g.sibling,g.sibling=a,a=g,g=i}xb(s,!0,a,null,v);break;case"together":xb(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Hr(i,s,a){if(i!==null&&(s.dependencies=i.dependencies),Eo|=s.lanes,!(a&s.childLanes))if(i!==null){if(Qd(i,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(n(153));if(s.child!==null){for(i=s.child,a=Ao(i,i.pendingProps),s.child=a,a.return=s;i.sibling!==null;)i=i.sibling,a=a.sibling=Ao(i,i.pendingProps),a.return=s;a.sibling=null}return s.child}function Db(i,s){return i.lanes&s?!0:(i=i.dependencies,!!(i!==null&&pm(i)))}function iD(i,s,a){switch(s.tag){case 3:Ee(s,s.stateNode.containerInfo),po(s,Je,i.memoizedState.cache),jd();break;case 27:case 5:Pn(s);break;case 4:Ee(s,s.stateNode.containerInfo);break;case 10:po(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(co(s),s.flags|=128,null):a&s.child.childLanes?XS(i,s,a):(co(s),i=Hr(i,s,a),i!==null?i.sibling:null);co(s);break;case 19:var g=(i.flags&128)!==0;if(u=(a&s.childLanes)!==0,u||(Qd(i,s,a,!1),u=(a&s.childLanes)!==0),g){if(u)return $S(i,s,a);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Tt(Ze,Ze.current),u)break;return null;case 22:case 23:return s.lanes=0,BS(i,s,a);case 24:po(s,Je,i.memoizedState.cache)}return Hr(i,s,a)}function KS(i,s,a){if(i!==null)if(i.memoizedProps!==s.pendingProps)hi=!0;else{if(!Db(i,a)&&!(s.flags&128))return hi=!1,iD(i,s,a);hi=!!(i.flags&131072)}else hi=!1,ee&&s.flags&1048576&&LE(s,Qg,s.index);switch(s.lanes=0,s.tag){case 16:t:{i=s.pendingProps;var u=s.elementType,g=u._init;if(u=g(u._payload),s.type=u,typeof u=="function")Vb(u)?(i=Hl(u,i),s.tag=1,s=GS(null,s,u,i,a)):(s.tag=0,s=Ab(null,s,u,i,a));else{if(u!=null){if(g=u.$$typeof,g===C){s.tag=11,s=US(null,s,u,i,a);break t}else if(g===P){s.tag=14,s=jS(null,s,u,i,a);break t}}throw s=D(u)||u,Error(n(306,s,""))}}return s;case 0:return Ab(i,s,s.type,s.pendingProps,a);case 1:return u=s.type,g=Hl(u,s.pendingProps),GS(i,s,u,g,a);case 3:t:{if(Ee(s,s.stateNode.containerInfo),i===null)throw Error(n(387));var v=s.pendingProps;g=s.memoizedState,u=g.element,Nb(i,s),tf(s,v,null,a);var w=s.memoizedState;if(v=w.cache,po(s,Je,v),v!==g.cache&&kb(s,[Je],a,!0),Jd(),v=w.element,g.isDehydrated)if(g={element:v,isDehydrated:!1,cache:w.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=qS(i,s,v,a);break t}else if(v!==u){u=Gn(Error(n(424)),s),Hd(u),s=qS(i,s,v,a);break t}else for(_i=vs(s.stateNode.containerInfo.firstChild),Gi=s,ee=!0,gs=null,$s=!0,a=zE(s,null,v,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(jd(),v===u){s=Hr(i,s,a);break t}Ai(i,s,v,a)}s=s.child}return s;case 26:return Wd(i,s),i===null?(a=Zw(s.type,null,s.pendingProps,null))?s.memoizedState=a:ee||(a=s.type,i=s.pendingProps,u=Mm(Bt.current).createElement(a),u[ai]=s,u[oi]=i,Ei(u,a,i),Re(u),s.stateNode=u):s.memoizedState=Zw(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Pn(s),i===null&&ee&&(u=s.stateNode=Kw(s.type,s.pendingProps,Bt.current),Gi=s,$s=!0,_i=vs(u.firstChild)),u=s.pendingProps.children,i!==null||ee?Ai(i,s,u,a):s.child=Il(s,null,u,a),Wd(i,s),s.child;case 5:return i===null&&ee&&((g=u=_i)&&(u=kD(u,s.type,s.pendingProps,$s),u!==null?(s.stateNode=u,Gi=s,_i=vs(u.firstChild),$s=!1,g=!0):g=!1),g||Nl(s)),Pn(s),g=s.type,v=s.pendingProps,w=i!==null?i.memoizedProps:null,u=v.children,g0(g,v)?u=null:w!==null&&g0(g,w)&&(s.flags|=32),s.memoizedState!==null&&(g=nb(i,s,K2,null,null,a),mf._currentValue=g),Wd(i,s),Ai(i,s,u,a),s.child;case 6:return i===null&&ee&&((i=a=_i)&&(a=LD(a,s.pendingProps,$s),a!==null?(s.stateNode=a,Gi=s,_i=null,i=!0):i=!1),i||Nl(s)),null;case 13:return XS(i,s,a);case 4:return Ee(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=Il(s,null,u,a):Ai(i,s,u,a),s.child;case 11:return US(i,s,s.type,s.pendingProps,a);case 7:return Ai(i,s,s.pendingProps,a),s.child;case 8:return Ai(i,s,s.pendingProps.children,a),s.child;case 12:return Ai(i,s,s.pendingProps.children,a),s.child;case 10:return u=s.pendingProps,po(s,s.type,u.value),Ai(i,s,u.children,a),s.child;case 9:return g=s.type._context,u=s.pendingProps.children,zl(s),g=Mi(g),u=u(g),s.flags|=1,Ai(i,s,u,a),s.child;case 14:return jS(i,s,s.type,s.pendingProps,a);case 15:return HS(i,s,s.type,s.pendingProps,a);case 19:return $S(i,s,a);case 22:return BS(i,s,a);case 24:return zl(s),u=Mi(Je),i===null?(g=eb(),g===null&&(g=be,v=Jy(),g.pooledCache=v,v.refCount++,v!==null&&(g.pooledCacheLanes|=a),g=v),s.memoizedState={parent:u,cache:g},Lb(s),po(s,Je,g)):(i.lanes&a&&(Nb(i,s),tf(s,null,null,a),Jd()),g=i.memoizedState,v=s.memoizedState,g.parent!==u?(g={parent:u,cache:u},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),po(s,Je,u)):(u=v.cache,po(s,Je,u),u!==g.cache&&kb(s,[Je],a,!0))),Ai(i,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(n(156,s.tag))}var Mb=Pt(null),Bl=null,Br=null;function po(i,s,a){Tt(Mb,s._currentValue),s._currentValue=a}function zr(i){i._currentValue=Mb.current,Wt(Mb)}function Ob(i,s,a){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===a)break;i=i.return}}function kb(i,s,a,u){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var v=g.dependencies;if(v!==null){var w=g.child;v=v.firstContext;t:for(;v!==null;){var k=v;v=g;for(var B=0;B<s.length;B++)if(k.context===s[B]){v.lanes|=a,k=v.alternate,k!==null&&(k.lanes|=a),Ob(v.return,a,i),u||(w=null);break t}v=k.next}}else if(g.tag===18){if(w=g.return,w===null)throw Error(n(341));w.lanes|=a,v=w.alternate,v!==null&&(v.lanes|=a),Ob(w,a,i),w=null}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===i){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}}function Qd(i,s,a,u){i=null;for(var g=s,v=!1;g!==null;){if(!v){if(g.flags&524288)v=!0;else if(g.flags&262144)break}if(g.tag===10){var w=g.alternate;if(w===null)throw Error(n(387));if(w=w.memoizedProps,w!==null){var k=g.type;bn(g.pendingProps.value,w.value)||(i!==null?i.push(k):i=[k])}}else if(g===oe.current){if(w=g.alternate,w===null)throw Error(n(387));w.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(mf):i=[mf])}g=g.return}i!==null&&kb(s,i,a,u),s.flags|=262144}function pm(i){for(i=i.firstContext;i!==null;){if(!bn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function zl(i){Bl=i,Br=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Mi(i){return WS(Bl,i)}function gm(i,s){return Bl===null&&zl(i),WS(i,s)}function WS(i,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Br===null){if(i===null)throw Error(n(308));Br=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Br=Br.next=s;return a}var go=!1;function Lb(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nb(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function mo(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function vo(i,s,a){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,De&2){var g=u.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),u.pending=s,s=Kg(i),OE(i,null,a),s}return $g(i,u,s,a),Kg(i)}function Zd(i,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194176)!==0)){var u=s.lanes;u&=i.pendingLanes,a|=u,s.lanes=a,Wa(i,a)}}function Ib(i,s){var a=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var g=null,v=null;if(a=a.firstBaseUpdate,a!==null){do{var w={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};v===null?g=v=w:v=v.next=w,a=a.next}while(a!==null);v===null?g=v=s:v=v.next=s}else g=v=s;a={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:u.shared,callbacks:u.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=s:i.next=s,a.lastBaseUpdate=s}var Pb=!1;function Jd(){if(Pb){var i=Pu;if(i!==null)throw i}}function tf(i,s,a,u){Pb=!1;var g=i.updateQueue;go=!1;var v=g.firstBaseUpdate,w=g.lastBaseUpdate,k=g.shared.pending;if(k!==null){g.shared.pending=null;var B=k,K=B.next;B.next=null,w===null?v=K:w.next=K,w=B;var nt=i.alternate;nt!==null&&(nt=nt.updateQueue,k=nt.lastBaseUpdate,k!==w&&(k===null?nt.firstBaseUpdate=K:k.next=K,nt.lastBaseUpdate=B))}if(v!==null){var ut=g.baseState;w=0,nt=K=B=null,k=v;do{var tt=k.lane&-536870913,it=tt!==k.lane;if(it?(Zt&tt)===tt:(u&tt)===tt){tt!==0&&tt===Iu&&(Pb=!0),nt!==null&&(nt=nt.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});t:{var Et=i,Nt=k;tt=s;var Fe=a;switch(Nt.tag){case 1:if(Et=Nt.payload,typeof Et=="function"){ut=Et.call(Fe,ut,tt);break t}ut=Et;break t;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=Nt.payload,tt=typeof Et=="function"?Et.call(Fe,ut,tt):Et,tt==null)break t;ut=I({},ut,tt);break t;case 2:go=!0}}tt=k.callback,tt!==null&&(i.flags|=64,it&&(i.flags|=8192),it=g.callbacks,it===null?g.callbacks=[tt]:it.push(tt))}else it={lane:tt,tag:k.tag,payload:k.payload,callback:k.callback,next:null},nt===null?(K=nt=it,B=ut):nt=nt.next=it,w|=tt;if(k=k.next,k===null){if(k=g.shared.pending,k===null)break;it=k,k=it.next,it.next=null,g.lastBaseUpdate=it,g.shared.pending=null}}while(!0);nt===null&&(B=ut),g.baseState=B,g.firstBaseUpdate=K,g.lastBaseUpdate=nt,v===null&&(g.shared.lanes=0),Eo|=w,i.lanes=w,i.memoizedState=ut}}function QS(i,s){if(typeof i!="function")throw Error(n(191,i));i.call(s)}function ZS(i,s){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)QS(a[i],s)}function ef(i,s){try{var a=s.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var g=u.next;a=g;do{if((a.tag&i)===i){u=void 0;var v=a.create,w=a.inst;u=v(),w.destroy=u}a=a.next}while(a!==g)}}catch(k){ve(s,s.return,k)}}function yo(i,s,a){try{var u=s.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var v=g.next;u=v;do{if((u.tag&i)===i){var w=u.inst,k=w.destroy;if(k!==void 0){w.destroy=void 0,g=s;var B=a;try{k()}catch(K){ve(g,B,K)}}}u=u.next}while(u!==v)}}catch(K){ve(s,s.return,K)}}function JS(i){var s=i.updateQueue;if(s!==null){var a=i.stateNode;try{ZS(s,a)}catch(u){ve(i,i.return,u)}}}function tw(i,s,a){a.props=Hl(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(u){ve(i,s,u)}}function Vl(i,s){try{var a=i.ref;if(a!==null){var u=i.stateNode;switch(i.tag){case 26:case 27:case 5:var g=u;break;default:g=u}typeof a=="function"?i.refCleanup=a(g):a.current=g}}catch(v){ve(i,s,v)}}function _n(i,s){var a=i.ref,u=i.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(g){ve(i,s,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(g){ve(i,s,g)}else a.current=null}function ew(i){var s=i.type,a=i.memoizedProps,u=i.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break t;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(g){ve(i,i.return,g)}}function iw(i,s,a){try{var u=i.stateNode;RD(u,i.type,a,s),u[oi]=s}catch(g){ve(i,i.return,g)}}function nw(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function Fb(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||nw(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Ub(i,s,a){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(i,s):a.insertBefore(i,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(i,a)):(s=a,s.appendChild(i)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Dm));else if(u!==4&&u!==27&&(i=i.child,i!==null))for(Ub(i,s,a),i=i.sibling;i!==null;)Ub(i,s,a),i=i.sibling}function mm(i,s,a){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?a.insertBefore(i,s):a.appendChild(i);else if(u!==4&&u!==27&&(i=i.child,i!==null))for(mm(i,s,a),i=i.sibling;i!==null;)mm(i,s,a),i=i.sibling}var Vr=!1,Ie=!1,jb=!1,sw=typeof WeakSet=="function"?WeakSet:Set,di=null,rw=!1;function nD(i,s){if(i=i.containerInfo,f0=Pm,i=EE(i),By(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else t:{a=(a=i.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var g=u.anchorOffset,v=u.focusNode;u=u.focusOffset;try{a.nodeType,v.nodeType}catch{a=null;break t}var w=0,k=-1,B=-1,K=0,nt=0,ut=i,tt=null;e:for(;;){for(var it;ut!==a||g!==0&&ut.nodeType!==3||(k=w+g),ut!==v||u!==0&&ut.nodeType!==3||(B=w+u),ut.nodeType===3&&(w+=ut.nodeValue.length),(it=ut.firstChild)!==null;)tt=ut,ut=it;for(;;){if(ut===i)break e;if(tt===a&&++K===g&&(k=w),tt===v&&++nt===u&&(B=w),(it=ut.nextSibling)!==null)break;ut=tt,tt=ut.parentNode}ut=it}a=k===-1||B===-1?null:{start:k,end:B}}else a=null}a=a||{start:0,end:0}}else a=null;for(p0={focusedElem:i,selectionRange:a},Pm=!1,di=s;di!==null;)if(s=di,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,di=i;else for(;di!==null;){switch(s=di,v=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if(i&1024&&v!==null){i=void 0,a=s,g=v.memoizedProps,v=v.memoizedState,u=a.stateNode;try{var Et=Hl(a.type,g,a.elementType===a.type);i=u.getSnapshotBeforeUpdate(Et,v),u.__reactInternalSnapshotBeforeUpdate=i}catch(Nt){ve(a,a.return,Nt)}}break;case 3:if(i&1024){if(i=s.stateNode.containerInfo,a=i.nodeType,a===9)y0(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":y0(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(i&1024)throw Error(n(163))}if(i=s.sibling,i!==null){i.return=s.return,di=i;break}di=s.return}return Et=rw,rw=!1,Et}function aw(i,s,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:qr(i,a),u&4&&ef(5,a);break;case 1:if(qr(i,a),u&4)if(i=a.stateNode,s===null)try{i.componentDidMount()}catch(k){ve(a,a.return,k)}else{var g=Hl(a.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(g,s,i.__reactInternalSnapshotBeforeUpdate)}catch(k){ve(a,a.return,k)}}u&64&&JS(a),u&512&&Vl(a,a.return);break;case 3:if(qr(i,a),u&64&&(u=a.updateQueue,u!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{ZS(u,i)}catch(k){ve(a,a.return,k)}}break;case 26:qr(i,a),u&512&&Vl(a,a.return);break;case 27:case 5:qr(i,a),s===null&&u&4&&ew(a),u&512&&Vl(a,a.return);break;case 12:qr(i,a);break;case 13:qr(i,a),u&4&&cw(i,a);break;case 22:if(g=a.memoizedState!==null||Vr,!g){s=s!==null&&s.memoizedState!==null||Ie;var v=Vr,w=Ie;Vr=g,(Ie=s)&&!w?bo(i,a,(a.subtreeFlags&8772)!==0):qr(i,a),Vr=v,Ie=w}u&512&&(a.memoizedProps.mode==="manual"?Vl(a,a.return):_n(a,a.return));break;default:qr(i,a)}}function ow(i){var s=i.alternate;s!==null&&(i.alternate=null,ow(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&bl(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var $e=null,An=!1;function Gr(i,s,a){for(a=a.child;a!==null;)lw(i,s,a),a=a.sibling}function lw(i,s,a){if(Di&&typeof Di.onCommitFiberUnmount=="function")try{Di.onCommitFiberUnmount(qa,a)}catch{}switch(a.tag){case 26:Ie||_n(a,s),Gr(i,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ie||_n(a,s);var u=$e,g=An;for($e=a.stateNode,Gr(i,s,a),a=a.stateNode,s=a.attributes;s.length;)a.removeAttributeNode(s[0]);bl(a),$e=u,An=g;break;case 5:Ie||_n(a,s);case 6:g=$e;var v=An;if($e=null,Gr(i,s,a),$e=g,An=v,$e!==null)if(An)try{i=$e,u=a.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)}catch(w){ve(a,s,w)}else try{$e.removeChild(a.stateNode)}catch(w){ve(a,s,w)}break;case 18:$e!==null&&(An?(s=$e,a=a.stateNode,s.nodeType===8?v0(s.parentNode,a):s.nodeType===1&&v0(s,a),_f(s)):v0($e,a.stateNode));break;case 4:u=$e,g=An,$e=a.stateNode.containerInfo,An=!0,Gr(i,s,a),$e=u,An=g;break;case 0:case 11:case 14:case 15:Ie||yo(2,a,s),Ie||yo(4,a,s),Gr(i,s,a);break;case 1:Ie||(_n(a,s),u=a.stateNode,typeof u.componentWillUnmount=="function"&&tw(a,s,u)),Gr(i,s,a);break;case 21:Gr(i,s,a);break;case 22:Ie||_n(a,s),Ie=(u=Ie)||a.memoizedState!==null,Gr(i,s,a),Ie=u;break;default:Gr(i,s,a)}}function cw(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{_f(i)}catch(a){ve(s,s.return,a)}}function sD(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new sw),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new sw),s;default:throw Error(n(435,i.tag))}}function Hb(i,s){var a=sD(i);s.forEach(function(u){var g=vD.bind(null,i,u);a.has(u)||(a.add(u),u.then(g,g))})}function $n(i,s){var a=s.deletions;if(a!==null)for(var u=0;u<a.length;u++){var g=a[u],v=i,w=s,k=w;t:for(;k!==null;){switch(k.tag){case 27:case 5:$e=k.stateNode,An=!1;break t;case 3:$e=k.stateNode.containerInfo,An=!0;break t;case 4:$e=k.stateNode.containerInfo,An=!0;break t}k=k.return}if($e===null)throw Error(n(160));lw(v,w,g),$e=null,An=!1,v=g.alternate,v!==null&&(v.return=null),g.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)uw(s,i),s=s.sibling}var ms=null;function uw(i,s){var a=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:$n(s,i),Kn(i),u&4&&(yo(3,i,i.return),ef(3,i),yo(5,i,i.return));break;case 1:$n(s,i),Kn(i),u&512&&(Ie||a===null||_n(a,a.return)),u&64&&Vr&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var g=ms;if($n(s,i),Kn(i),u&512&&(Ie||a===null||_n(a,a.return)),u&4){var v=a!==null?a.memoizedState:null;if(u=i.memoizedState,a===null)if(u===null)if(i.stateNode===null){t:{u=i.type,a=i.memoizedProps,g=g.ownerDocument||g;e:switch(u){case"title":v=g.getElementsByTagName("title")[0],(!v||v[Ja]||v[ai]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=g.createElement(u),g.head.insertBefore(v,g.querySelector("head > title"))),Ei(v,u,a),v[ai]=i,Re(v),u=v;break t;case"link":var w=eT("link","href",g).get(u+(a.href||""));if(w){for(var k=0;k<w.length;k++)if(v=w[k],v.getAttribute("href")===(a.href==null?null:a.href)&&v.getAttribute("rel")===(a.rel==null?null:a.rel)&&v.getAttribute("title")===(a.title==null?null:a.title)&&v.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){w.splice(k,1);break e}}v=g.createElement(u),Ei(v,u,a),g.head.appendChild(v);break;case"meta":if(w=eT("meta","content",g).get(u+(a.content||""))){for(k=0;k<w.length;k++)if(v=w[k],v.getAttribute("content")===(a.content==null?null:""+a.content)&&v.getAttribute("name")===(a.name==null?null:a.name)&&v.getAttribute("property")===(a.property==null?null:a.property)&&v.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&v.getAttribute("charset")===(a.charSet==null?null:a.charSet)){w.splice(k,1);break e}}v=g.createElement(u),Ei(v,u,a),g.head.appendChild(v);break;default:throw Error(n(468,u))}v[ai]=i,Re(v),u=v}i.stateNode=u}else iT(g,i.type,i.stateNode);else i.stateNode=tT(g,u,i.memoizedProps);else v!==u?(v===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):v.count--,u===null?iT(g,i.type,i.stateNode):tT(g,u,i.memoizedProps)):u===null&&i.stateNode!==null&&iw(i,i.memoizedProps,a.memoizedProps)}break;case 27:if(u&4&&i.alternate===null){g=i.stateNode,v=i.memoizedProps;try{for(var B=g.firstChild;B;){var K=B.nextSibling,nt=B.nodeName;B[Ja]||nt==="HEAD"||nt==="BODY"||nt==="SCRIPT"||nt==="STYLE"||nt==="LINK"&&B.rel.toLowerCase()==="stylesheet"||g.removeChild(B),B=K}for(var ut=i.type,tt=g.attributes;tt.length;)g.removeAttributeNode(tt[0]);Ei(g,ut,v),g[ai]=i,g[oi]=v}catch(Et){ve(i,i.return,Et)}}case 5:if($n(s,i),Kn(i),u&512&&(Ie||a===null||_n(a,a.return)),i.flags&32){g=i.stateNode;try{jn(g,"")}catch(Et){ve(i,i.return,Et)}}u&4&&i.stateNode!=null&&(g=i.memoizedProps,iw(i,g,a!==null?a.memoizedProps:g)),u&1024&&(jb=!0);break;case 6:if($n(s,i),Kn(i),u&4){if(i.stateNode===null)throw Error(n(162));u=i.memoizedProps,a=i.stateNode;try{a.nodeValue=u}catch(Et){ve(i,i.return,Et)}}break;case 3:if(Lm=null,g=ms,ms=Om(s.containerInfo),$n(s,i),ms=g,Kn(i),u&4&&a!==null&&a.memoizedState.isDehydrated)try{_f(s.containerInfo)}catch(Et){ve(i,i.return,Et)}jb&&(jb=!1,hw(i));break;case 4:u=ms,ms=Om(i.stateNode.containerInfo),$n(s,i),Kn(i),ms=u;break;case 12:$n(s,i),Kn(i);break;case 13:$n(s,i),Kn(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Kb=xi()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Hb(i,u)));break;case 22:if(u&512&&(Ie||a===null||_n(a,a.return)),B=i.memoizedState!==null,K=a!==null&&a.memoizedState!==null,nt=Vr,ut=Ie,Vr=nt||B,Ie=ut||K,$n(s,i),Ie=ut,Vr=nt,Kn(i),s=i.stateNode,s._current=i,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,u&8192&&(s._visibility=B?s._visibility&-2:s._visibility|1,B&&(s=Vr||Ie,a===null||K||s||Hu(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))t:for(a=null,s=i;;){if(s.tag===5||s.tag===26||s.tag===27){if(a===null){K=a=s;try{if(g=K.stateNode,B)v=g.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{w=K.stateNode,k=K.memoizedProps.style;var it=k!=null&&k.hasOwnProperty("display")?k.display:null;w.style.display=it==null||typeof it=="boolean"?"":(""+it).trim()}}catch(Et){ve(K,K.return,Et)}}}else if(s.tag===6){if(a===null){K=s;try{K.stateNode.nodeValue=B?"":K.memoizedProps}catch(Et){ve(K,K.return,Et)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,Hb(i,a))));break;case 19:$n(s,i),Kn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Hb(i,u)));break;case 21:break;default:$n(s,i),Kn(i)}}function Kn(i){var s=i.flags;if(s&2){try{if(i.tag!==27){t:{for(var a=i.return;a!==null;){if(nw(a)){var u=a;break t}a=a.return}throw Error(n(160))}switch(u.tag){case 27:var g=u.stateNode,v=Fb(i);mm(i,v,g);break;case 5:var w=u.stateNode;u.flags&32&&(jn(w,""),u.flags&=-33);var k=Fb(i);mm(i,k,w);break;case 3:case 4:var B=u.stateNode.containerInfo,K=Fb(i);Ub(i,K,B);break;default:throw Error(n(161))}}}catch(nt){ve(i,i.return,nt)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function hw(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;hw(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function qr(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)aw(i,s.alternate,s),s=s.sibling}function Hu(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:yo(4,s,s.return),Hu(s);break;case 1:_n(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&tw(s,s.return,a),Hu(s);break;case 26:case 27:case 5:_n(s,s.return),Hu(s);break;case 22:_n(s,s.return),s.memoizedState===null&&Hu(s);break;default:Hu(s)}i=i.sibling}}function bo(i,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,g=i,v=s,w=v.flags;switch(v.tag){case 0:case 11:case 15:bo(g,v,a),ef(4,v);break;case 1:if(bo(g,v,a),u=v,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(K){ve(u,u.return,K)}if(u=v,g=u.updateQueue,g!==null){var k=u.stateNode;try{var B=g.shared.hiddenCallbacks;if(B!==null)for(g.shared.hiddenCallbacks=null,g=0;g<B.length;g++)QS(B[g],k)}catch(K){ve(u,u.return,K)}}a&&w&64&&JS(v),Vl(v,v.return);break;case 26:case 27:case 5:bo(g,v,a),a&&u===null&&w&4&&ew(v),Vl(v,v.return);break;case 12:bo(g,v,a);break;case 13:bo(g,v,a),a&&w&4&&cw(g,v);break;case 22:v.memoizedState===null&&bo(g,v,a),Vl(v,v.return);break;default:bo(g,v,a)}s=s.sibling}}function Bb(i,s){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&qd(a))}function zb(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&qd(i))}function _o(i,s,a,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)dw(i,s,a,u),s=s.sibling}function dw(i,s,a,u){var g=s.flags;switch(s.tag){case 0:case 11:case 15:_o(i,s,a,u),g&2048&&ef(9,s);break;case 3:_o(i,s,a,u),g&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&qd(i)));break;case 12:if(g&2048){_o(i,s,a,u),i=s.stateNode;try{var v=s.memoizedProps,w=v.id,k=v.onPostCommit;typeof k=="function"&&k(w,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(B){ve(s,s.return,B)}}else _o(i,s,a,u);break;case 23:break;case 22:v=s.stateNode,s.memoizedState!==null?v._visibility&4?_o(i,s,a,u):nf(i,s):v._visibility&4?_o(i,s,a,u):(v._visibility|=4,Bu(i,s,a,u,(s.subtreeFlags&10256)!==0)),g&2048&&Bb(s.alternate,s);break;case 24:_o(i,s,a,u),g&2048&&zb(s.alternate,s);break;default:_o(i,s,a,u)}}function Bu(i,s,a,u,g){for(g=g&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var v=i,w=s,k=a,B=u,K=w.flags;switch(w.tag){case 0:case 11:case 15:Bu(v,w,k,B,g),ef(8,w);break;case 23:break;case 22:var nt=w.stateNode;w.memoizedState!==null?nt._visibility&4?Bu(v,w,k,B,g):nf(v,w):(nt._visibility|=4,Bu(v,w,k,B,g)),g&&K&2048&&Bb(w.alternate,w);break;case 24:Bu(v,w,k,B,g),g&&K&2048&&zb(w.alternate,w);break;default:Bu(v,w,k,B,g)}s=s.sibling}}function nf(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=i,u=s,g=u.flags;switch(u.tag){case 22:nf(a,u),g&2048&&Bb(u.alternate,u);break;case 24:nf(a,u),g&2048&&zb(u.alternate,u);break;default:nf(a,u)}s=s.sibling}}var sf=8192;function zu(i){if(i.subtreeFlags&sf)for(i=i.child;i!==null;)fw(i),i=i.sibling}function fw(i){switch(i.tag){case 26:zu(i),i.flags&sf&&i.memoizedState!==null&&XD(ms,i.memoizedState,i.memoizedProps);break;case 5:zu(i);break;case 3:case 4:var s=ms;ms=Om(i.stateNode.containerInfo),zu(i),ms=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=sf,sf=16777216,zu(i),sf=s):zu(i));break;default:zu(i)}}function pw(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function rf(i){var s=i.deletions;if(i.flags&16){if(s!==null)for(var a=0;a<s.length;a++){var u=s[a];di=u,mw(u,i)}pw(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)gw(i),i=i.sibling}function gw(i){switch(i.tag){case 0:case 11:case 15:rf(i),i.flags&2048&&yo(9,i,i.return);break;case 3:rf(i);break;case 12:rf(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&4&&(i.return===null||i.return.tag!==13)?(s._visibility&=-5,vm(i)):rf(i);break;default:rf(i)}}function vm(i){var s=i.deletions;if(i.flags&16){if(s!==null)for(var a=0;a<s.length;a++){var u=s[a];di=u,mw(u,i)}pw(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:yo(8,s,s.return),vm(s);break;case 22:a=s.stateNode,a._visibility&4&&(a._visibility&=-5,vm(s));break;default:vm(s)}i=i.sibling}}function mw(i,s){for(;di!==null;){var a=di;switch(a.tag){case 0:case 11:case 15:yo(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:qd(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,di=u;else t:for(a=i;di!==null;){u=di;var g=u.sibling,v=u.return;if(ow(u),u===a){di=null;break t}if(g!==null){g.return=v,di=g;break t}di=v}}}function rD(i,s,a,u){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(i,s,a,u){return new rD(i,s,a,u)}function Vb(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ao(i,s){var a=i.alternate;return a===null?(a=Wn(i.tag,s,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=s,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&31457280,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,s=i.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function vw(i,s){i.flags&=31457282;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,s=a.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function ym(i,s,a,u,g,v){var w=0;if(u=i,typeof i=="function")Vb(i)&&(w=1);else if(typeof i=="string")w=GD(i,a,He.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case p:return Gl(a.children,g,v,s);case m:w=8,g|=24;break;case y:return i=Wn(12,a,s,g|2),i.elementType=y,i.lanes=v,i;case M:return i=Wn(13,a,s,g),i.elementType=M,i.lanes=v,i;case j:return i=Wn(19,a,s,g),i.elementType=j,i.lanes=v,i;case G:return yw(a,g,v,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case _:case S:w=10;break t;case A:w=9;break t;case C:w=11;break t;case P:w=14;break t;case z:w=16,u=null;break t}w=29,a=Error(n(130,i===null?"null":typeof i,"")),u=null}return s=Wn(w,a,s,g),s.elementType=i,s.type=u,s.lanes=v,s}function Gl(i,s,a,u){return i=Wn(7,i,u,s),i.lanes=a,i}function yw(i,s,a,u){i=Wn(22,i,u,s),i.elementType=G,i.lanes=a;var g={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var v=g._current;if(v===null)throw Error(n(456));if(!(g._pendingVisibility&2)){var w=lo(v,2);w!==null&&(g._pendingVisibility|=2,qi(w,v,2))}},attach:function(){var v=g._current;if(v===null)throw Error(n(456));if(g._pendingVisibility&2){var w=lo(v,2);w!==null&&(g._pendingVisibility&=-3,qi(w,v,2))}}};return i.stateNode=g,i}function Gb(i,s,a){return i=Wn(6,i,null,s),i.lanes=a,i}function qb(i,s,a){return s=Wn(4,i.children!==null?i.children:[],i.key,s),s.lanes=a,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function Xr(i){i.flags|=4}function bw(i,s){if(s.type!=="stylesheet"||s.state.loading&4)i.flags&=-16777217;else if(i.flags|=16777216,!nT(s)){if(s=Yn.current,s!==null&&((Zt&4194176)===Zt?Ks!==null:(Zt&62914560)!==Zt&&!(Zt&536870912)||s!==Ks))throw zd=Wy,PE;i.flags|=8192}}function bm(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?$a():536870912,i.lanes|=s,Gu|=s)}function af(i,s){if(!ee)switch(i.tailMode){case"hidden":s=i.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function xe(i){var s=i.alternate!==null&&i.alternate.child===i.child,a=0,u=0;if(s)for(var g=i.child;g!==null;)a|=g.lanes|g.childLanes,u|=g.subtreeFlags&31457280,u|=g.flags&31457280,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)a|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=u,i.childLanes=a,s}function aD(i,s,a){var u=s.pendingProps;switch($y(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xe(s),null;case 1:return xe(s),null;case 3:return a=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),zr(Je),de(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(Ud(s)?Xr(s):i===null||i.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,gs!==null&&(Jb(gs),gs=null))),xe(s),null;case 26:return a=s.memoizedState,i===null?(Xr(s),a!==null?(xe(s),bw(s,a)):(xe(s),s.flags&=-16777217)):a?a!==i.memoizedState?(Xr(s),xe(s),bw(s,a)):(xe(s),s.flags&=-16777217):(i.memoizedProps!==u&&Xr(s),xe(s),s.flags&=-16777217),null;case 27:Fn(s),a=Bt.current;var g=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==u&&Xr(s);else{if(!u){if(s.stateNode===null)throw Error(n(166));return xe(s),null}i=He.current,Ud(s)?NE(s):(i=Kw(g,u,a),s.stateNode=i,Xr(s))}return xe(s),null;case 5:if(Fn(s),a=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&Xr(s);else{if(!u){if(s.stateNode===null)throw Error(n(166));return xe(s),null}if(i=He.current,Ud(s))NE(s);else{switch(g=Mm(Bt.current),i){case 1:i=g.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=g.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=g.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=g.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":i=g.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?g.createElement("select",{is:u.is}):g.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?g.createElement(a,{is:u.is}):g.createElement(a)}}i[ai]=s,i[oi]=u;t:for(g=s.child;g!==null;){if(g.tag===5||g.tag===6)i.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===s)break t;for(;g.sibling===null;){if(g.return===null||g.return===s)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}s.stateNode=i;t:switch(Ei(i,a,u),a){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&Xr(s)}}return xe(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&Xr(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(n(166));if(i=Bt.current,Ud(s)){if(i=s.stateNode,a=s.memoizedProps,u=null,g=Gi,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}i[ai]=s,i=!!(i.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||Vw(i.nodeValue,a)),i||Nl(s)}else i=Mm(i).createTextNode(u),i[ai]=s,s.stateNode=i}return xe(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=Ud(s),u!==null&&u.dehydrated!==null){if(i===null){if(!g)throw Error(n(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(n(317));g[ai]=s}else jd(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;xe(s),g=!1}else gs!==null&&(Jb(gs),gs=null),g=!0;if(!g)return s.flags&256?(Ur(s),s):(Ur(s),null)}if(Ur(s),s.flags&128)return s.lanes=a,s;if(a=u!==null,i=i!==null&&i.memoizedState!==null,a){u=s.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool);var v=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),v!==g&&(u.flags|=2048)}return a!==i&&a&&(s.child.flags|=8192),bm(s,s.updateQueue),xe(s),null;case 4:return de(),i===null&&u0(s.stateNode.containerInfo),xe(s),null;case 10:return zr(s.type),xe(s),null;case 19:if(Wt(Ze),g=s.memoizedState,g===null)return xe(s),null;if(u=(s.flags&128)!==0,v=g.rendering,v===null)if(u)af(g,!1);else{if(Pe!==0||i!==null&&i.flags&128)for(i=s.child;i!==null;){if(v=im(i),v!==null){for(s.flags|=128,af(g,!1),i=v.updateQueue,s.updateQueue=i,bm(s,i),s.subtreeFlags=0,i=a,a=s.child;a!==null;)vw(a,i),a=a.sibling;return Tt(Ze,Ze.current&1|2),s.child}i=i.sibling}g.tail!==null&&xi()>_m&&(s.flags|=128,u=!0,af(g,!1),s.lanes=4194304)}else{if(!u)if(i=im(v),i!==null){if(s.flags|=128,u=!0,i=i.updateQueue,s.updateQueue=i,bm(s,i),af(g,!0),g.tail===null&&g.tailMode==="hidden"&&!v.alternate&&!ee)return xe(s),null}else 2*xi()-g.renderingStartTime>_m&&a!==536870912&&(s.flags|=128,u=!0,af(g,!1),s.lanes=4194304);g.isBackwards?(v.sibling=s.child,s.child=v):(i=g.last,i!==null?i.sibling=v:s.child=v,g.last=v)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=xi(),s.sibling=null,i=Ze.current,Tt(Ze,u?i&1|2:i&1),s):(xe(s),null);case 22:case 23:return Ur(s),Zy(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?a&536870912&&!(s.flags&128)&&(xe(s),s.subtreeFlags&6&&(s.flags|=8192)):xe(s),a=s.updateQueue,a!==null&&bm(s,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==a&&(s.flags|=2048),i!==null&&Wt(Pl),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),zr(Je),xe(s),null;case 25:return null}throw Error(n(156,s.tag))}function oD(i,s){switch($y(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return zr(Je),de(),i=s.flags,i&65536&&!(i&128)?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Fn(s),null;case 13:if(Ur(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(n(340));jd()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Wt(Ze),null;case 4:return de(),null;case 10:return zr(s.type),null;case 22:case 23:return Ur(s),Zy(),i!==null&&Wt(Pl),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return zr(Je),null;case 25:return null;default:return null}}function _w(i,s){switch($y(s),s.tag){case 3:zr(Je),de();break;case 26:case 27:case 5:Fn(s);break;case 4:de();break;case 13:Ur(s);break;case 19:Wt(Ze);break;case 10:zr(s.type);break;case 22:case 23:Ur(s),Zy(),i!==null&&Wt(Pl);break;case 24:zr(Je)}}var lD={getCacheForType:function(i){var s=Mi(Je),a=s.data.get(i);return a===void 0&&(a=i(),s.data.set(i,a)),a}},cD=typeof WeakMap=="function"?WeakMap:Map,De=0,be=null,Xt=null,Zt=0,_e=0,En=null,Yr=!1,Vu=!1,Xb=!1,$r=0,Pe=0,Eo=0,ql=0,Yb=0,Qn=0,Gu=0,of=null,Qs=null,$b=!1,Kb=0,_m=1/0,Am=null,So=null,Em=!1,Xl=null,lf=0,Wb=0,Qb=null,cf=0,Zb=null;function Sn(){if(De&2&&Zt!==0)return Zt&-Zt;if(x.T!==null){var i=Iu;return i!==0?i:a0()}return xg()}function Aw(){Qn===0&&(Qn=!(Zt&536870912)||ee?Ad():536870912);var i=Yn.current;return i!==null&&(i.flags|=32),Qn}function qi(i,s,a){(i===be&&_e===2||i.cancelPendingCommit!==null)&&(qu(i,0),Kr(i,Zt,Qn,!1)),ze(i,a),(!(De&2)||i!==be)&&(i===be&&(!(De&2)&&(ql|=a),Pe===4&&Kr(i,Zt,Qn,!1)),Zs(i))}function Ew(i,s,a){if(De&6)throw Error(n(327));var u=!a&&(s&60)===0&&(s&i.expiredLanes)===0||Ya(i,s),g=u?dD(i,s):i0(i,s,!0),v=u;do{if(g===0){Vu&&!u&&Kr(i,s,0,!1);break}else if(g===6)Kr(i,s,0,!Yr);else{if(a=i.current.alternate,v&&!uD(a)){g=i0(i,s,!1),v=!1;continue}if(g===2){if(v=s,i.errorRecoveryDisabledLanes&v)var w=0;else w=i.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){s=w;t:{var k=i;g=of;var B=k.current.memoizedState.isDehydrated;if(B&&(qu(k,w).flags|=256),w=i0(k,w,!1),w!==2){if(Xb&&!B){k.errorRecoveryDisabledLanes|=v,ql|=v,g=4;break t}v=Qs,Qs=g,v!==null&&Jb(v)}g=w}if(v=!1,g!==2)continue}}if(g===1){qu(i,0),Kr(i,s,0,!0);break}t:{switch(u=i,g){case 0:case 1:throw Error(n(345));case 4:if((s&4194176)===s){Kr(u,s,Qn,!Yr);break t}break;case 2:Qs=null;break;case 3:case 5:break;default:throw Error(n(329))}if(u.finishedWork=a,u.finishedLanes=s,(s&62914560)===s&&(v=Kb+300-xi(),10<v)){if(Kr(u,s,Qn,!Yr),ds(u,0)!==0)break t;u.timeoutHandle=Xw(Sw.bind(null,u,a,Qs,Am,$b,s,Qn,ql,Gu,Yr,2,-0,0),v);break t}Sw(u,a,Qs,Am,$b,s,Qn,ql,Gu,Yr,0,-0,0)}}break}while(!0);Zs(i)}function Jb(i){Qs===null?Qs=i:Qs.push.apply(Qs,i)}function Sw(i,s,a,u,g,v,w,k,B,K,nt,ut,tt){var it=s.subtreeFlags;if((it&8192||(it&16785408)===16785408)&&(gf={stylesheets:null,count:0,unsuspend:qD},fw(s),s=YD(),s!==null)){i.cancelPendingCommit=s(Mw.bind(null,i,a,u,g,w,k,B,1,ut,tt)),Kr(i,v,w,!K);return}Mw(i,a,u,g,w,k,B,nt,ut,tt)}function uD(i){for(var s=i;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var g=a[u],v=g.getSnapshot;g=g.value;try{if(!bn(v(),g))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Kr(i,s,a,u){s&=~Yb,s&=~ql,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var g=s;0<g;){var v=31-zi(g),w=1<<v;u[v]=-1,g&=~w}a!==0&&Ka(i,a,s)}function Sm(){return De&6?!0:(uf(0),!1)}function t0(){if(Xt!==null){if(_e===0)var i=Xt.return;else i=Xt,Br=Bl=null,ab(i),Lu=null,Vd=0,i=Xt;for(;i!==null;)_w(i.alternate,i),i=i.return;Xt=null}}function qu(i,s){i.finishedWork=null,i.finishedLanes=0;var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,DD(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),t0(),be=i,Xt=a=Ao(i.current,null),Zt=s,_e=0,En=null,Yr=!1,Vu=Ya(i,s),Xb=!1,Gu=Qn=Yb=ql=Eo=Pe=0,Qs=of=null,$b=!1,s&8&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var g=31-zi(u),v=1<<g;s|=i[g],u&=~v}return $r=s,Yg(),a}function ww(i,s){zt=null,x.H=Ws,s===Bd?(s=jE(),_e=3):s===PE?(s=jE(),_e=4):_e=s===FS?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,En=s,Xt===null&&(Pe=1,fm(i,Gn(s,i.current)))}function Tw(){var i=x.H;return x.H=Ws,i===null?Ws:i}function Cw(){var i=x.A;return x.A=lD,i}function e0(){Pe=4,Yr||(Zt&4194176)!==Zt&&Yn.current!==null||(Vu=!0),!(Eo&134217727)&&!(ql&134217727)||be===null||Kr(be,Zt,Qn,!1)}function i0(i,s,a){var u=De;De|=2;var g=Tw(),v=Cw();(be!==i||Zt!==s)&&(Am=null,qu(i,s)),s=!1;var w=Pe;t:do try{if(_e!==0&&Xt!==null){var k=Xt,B=En;switch(_e){case 8:t0(),w=6;break t;case 3:case 2:case 6:Yn.current===null&&(s=!0);var K=_e;if(_e=0,En=null,Xu(i,k,B,K),a&&Vu){w=0;break t}break;default:K=_e,_e=0,En=null,Xu(i,k,B,K)}}hD(),w=Pe;break}catch(nt){ww(i,nt)}while(!0);return s&&i.shellSuspendCounter++,Br=Bl=null,De=u,x.H=g,x.A=v,Xt===null&&(be=null,Zt=0,Yg()),w}function hD(){for(;Xt!==null;)Rw(Xt)}function dD(i,s){var a=De;De|=2;var u=Tw(),g=Cw();be!==i||Zt!==s?(Am=null,_m=xi()+500,qu(i,s)):Vu=Ya(i,s);t:do try{if(_e!==0&&Xt!==null){s=Xt;var v=En;e:switch(_e){case 1:_e=0,En=null,Xu(i,s,v,1);break;case 2:if(FE(v)){_e=0,En=null,xw(s);break}s=function(){_e===2&&be===i&&(_e=7),Zs(i)},v.then(s,s);break t;case 3:_e=7;break t;case 4:_e=5;break t;case 7:FE(v)?(_e=0,En=null,xw(s)):(_e=0,En=null,Xu(i,s,v,7));break;case 5:var w=null;switch(Xt.tag){case 26:w=Xt.memoizedState;case 5:case 27:var k=Xt;if(!w||nT(w)){_e=0,En=null;var B=k.sibling;if(B!==null)Xt=B;else{var K=k.return;K!==null?(Xt=K,wm(K)):Xt=null}break e}}_e=0,En=null,Xu(i,s,v,5);break;case 6:_e=0,En=null,Xu(i,s,v,6);break;case 8:t0(),Pe=6;break t;default:throw Error(n(462))}}fD();break}catch(nt){ww(i,nt)}while(!0);return Br=Bl=null,x.H=u,x.A=g,De=a,Xt!==null?0:(be=null,Zt=0,Yg(),Pe)}function fD(){for(;Xt!==null&&!vd();)Rw(Xt)}function Rw(i){var s=KS(i.alternate,i,$r);i.memoizedProps=i.pendingProps,s===null?wm(i):Xt=s}function xw(i){var s=i,a=s.alternate;switch(s.tag){case 15:case 0:s=VS(a,s,s.pendingProps,s.type,void 0,Zt);break;case 11:s=VS(a,s,s.pendingProps,s.type.render,s.ref,Zt);break;case 5:ab(s);default:_w(a,s),s=Xt=vw(s,$r),s=KS(a,s,$r)}i.memoizedProps=i.pendingProps,s===null?wm(i):Xt=s}function Xu(i,s,a,u){Br=Bl=null,ab(s),Lu=null,Vd=0;var g=s.return;try{if(eD(i,g,s,a,Zt)){Pe=1,fm(i,Gn(a,i.current)),Xt=null;return}}catch(v){if(g!==null)throw Xt=g,v;Pe=1,fm(i,Gn(a,i.current)),Xt=null;return}s.flags&32768?(ee||u===1?i=!0:Vu||Zt&536870912?i=!1:(Yr=i=!0,(u===2||u===3||u===6)&&(u=Yn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Dw(s,i)):wm(s)}function wm(i){var s=i;do{if(s.flags&32768){Dw(s,Yr);return}i=s.return;var a=aD(s.alternate,s,$r);if(a!==null){Xt=a;return}if(s=s.sibling,s!==null){Xt=s;return}Xt=s=i}while(s!==null);Pe===0&&(Pe=5)}function Dw(i,s){do{var a=oD(i.alternate,i);if(a!==null){a.flags&=32767,Xt=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(i=i.sibling,i!==null)){Xt=i;return}Xt=i=a}while(i!==null);Pe=6,Xt=null}function Mw(i,s,a,u,g,v,w,k,B,K){var nt=x.T,ut=ft.p;try{ft.p=2,x.T=null,pD(i,s,a,u,ut,g,v,w,k,B,K)}finally{x.T=nt,ft.p=ut}}function pD(i,s,a,u,g,v,w,k){do Yu();while(Xl!==null);if(De&6)throw Error(n(327));var B=i.finishedWork;if(u=i.finishedLanes,B===null)return null;if(i.finishedWork=null,i.finishedLanes=0,B===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var K=B.lanes|B.childLanes;if(K|=qy,Cg(i,u,K,v,w,k),i===be&&(Xt=be=null,Zt=0),!(B.subtreeFlags&10256)&&!(B.flags&10256)||Em||(Em=!0,Wb=K,Qb=a,yD(en,function(){return Yu(),null})),a=(B.flags&15990)!==0,B.subtreeFlags&15990||a?(a=x.T,x.T=null,v=ft.p,ft.p=2,w=De,De|=4,nD(i,B),uw(B,i),U2(p0,i.containerInfo),Pm=!!f0,p0=f0=null,i.current=B,aw(i,B.alternate,B),ml(),De=w,ft.p=v,x.T=a):i.current=B,Em?(Em=!1,Xl=i,lf=u):Ow(i,K),K=i.pendingLanes,K===0&&(So=null),yd(B.stateNode),Zs(i),s!==null)for(g=i.onRecoverableError,B=0;B<s.length;B++)K=s[B],g(K.value,{componentStack:K.stack});return lf&3&&Yu(),K=i.pendingLanes,u&4194218&&K&42?i===Zb?cf++:(cf=0,Zb=i):cf=0,uf(0),null}function Ow(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,qd(s)))}function Yu(){if(Xl!==null){var i=Xl,s=Wb;Wb=0;var a=Rg(lf),u=x.T,g=ft.p;try{if(ft.p=32>a?32:a,x.T=null,Xl===null)var v=!1;else{a=Qb,Qb=null;var w=Xl,k=lf;if(Xl=null,lf=0,De&6)throw Error(n(331));var B=De;if(De|=4,gw(w.current),dw(w,w.current,k,a),De=B,uf(0,!1),Di&&typeof Di.onPostCommitFiberRoot=="function")try{Di.onPostCommitFiberRoot(qa,w)}catch{}v=!0}return v}finally{ft.p=g,x.T=u,Ow(i,s)}}return!1}function kw(i,s,a){s=Gn(a,s),s=_b(i.stateNode,s,2),i=vo(i,s,2),i!==null&&(ze(i,2),Zs(i))}function ve(i,s,a){if(i.tag===3)kw(i,i,a);else for(;s!==null;){if(s.tag===3){kw(s,i,a);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(So===null||!So.has(u))){i=Gn(a,i),a=IS(2),u=vo(s,a,2),u!==null&&(PS(a,u,s,i),ze(u,2),Zs(u));break}}s=s.return}}function n0(i,s,a){var u=i.pingCache;if(u===null){u=i.pingCache=new cD;var g=new Set;u.set(s,g)}else g=u.get(s),g===void 0&&(g=new Set,u.set(s,g));g.has(a)||(Xb=!0,g.add(a),i=gD.bind(null,i,s,a),s.then(i,i))}function gD(i,s,a){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,be===i&&(Zt&a)===a&&(Pe===4||Pe===3&&(Zt&62914560)===Zt&&300>xi()-Kb?!(De&2)&&qu(i,0):Yb|=a,Gu===Zt&&(Gu=0)),Zs(i)}function Lw(i,s){s===0&&(s=$a()),i=lo(i,s),i!==null&&(ze(i,s),Zs(i))}function mD(i){var s=i.memoizedState,a=0;s!==null&&(a=s.retryLane),Lw(i,a)}function vD(i,s){var a=0;switch(i.tag){case 13:var u=i.stateNode,g=i.memoizedState;g!==null&&(a=g.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(n(314))}u!==null&&u.delete(s),Lw(i,a)}function yD(i,s){return wr(i,s)}var Tm=null,$u=null,s0=!1,Cm=!1,r0=!1,Yl=0;function Zs(i){i!==$u&&i.next===null&&($u===null?Tm=$u=i:$u=$u.next=i),Cm=!0,s0||(s0=!0,_D(bD))}function uf(i,s){if(!r0&&Cm){r0=!0;do for(var a=!1,u=Tm;u!==null;){if(i!==0){var g=u.pendingLanes;if(g===0)var v=0;else{var w=u.suspendedLanes,k=u.pingedLanes;v=(1<<31-zi(42|i)+1)-1,v&=g&~(w&~k),v=v&201326677?v&201326677|1:v?v|2:0}v!==0&&(a=!0,Pw(u,v))}else v=Zt,v=ds(u,u===be?v:0),!(v&3)||Ya(u,v)||(a=!0,Pw(u,v));u=u.next}while(a);r0=!1}}function bD(){Cm=s0=!1;var i=0;Yl!==0&&(xD()&&(i=Yl),Yl=0);for(var s=xi(),a=null,u=Tm;u!==null;){var g=u.next,v=Nw(u,s);v===0?(u.next=null,a===null?Tm=g:a.next=g,g===null&&($u=a)):(a=u,(i!==0||v&3)&&(Cm=!0)),u=g}uf(i)}function Nw(i,s){for(var a=i.suspendedLanes,u=i.pingedLanes,g=i.expirationTimes,v=i.pendingLanes&-62914561;0<v;){var w=31-zi(v),k=1<<w,B=g[w];B===-1?(!(k&a)||k&u)&&(g[w]=_d(k,s)):B<=s&&(i.expiredLanes|=k),v&=~k}if(s=be,a=Zt,a=ds(i,i===s?a:0),u=i.callbackNode,a===0||i===s&&_e===2||i.cancelPendingCommit!==null)return u!==null&&u!==null&&us(u),i.callbackNode=null,i.callbackPriority=0;if(!(a&3)||Ya(i,a)){if(s=a&-a,s===i.callbackPriority)return s;switch(u!==null&&us(u),Rg(a)){case 2:case 8:a=Se;break;case 32:a=en;break;case 268435456:a=Cr;break;default:a=en}return u=Iw.bind(null,i),a=wr(a,u),i.callbackPriority=s,i.callbackNode=a,s}return u!==null&&u!==null&&us(u),i.callbackPriority=2,i.callbackNode=null,2}function Iw(i,s){var a=i.callbackNode;if(Yu()&&i.callbackNode!==a)return null;var u=Zt;return u=ds(i,i===be?u:0),u===0?null:(Ew(i,u,s),Nw(i,xi()),i.callbackNode!=null&&i.callbackNode===a?Iw.bind(null,i):null)}function Pw(i,s){if(Yu())return null;Ew(i,s,!0)}function _D(i){MD(function(){De&6?wr(Be,i):i()})}function a0(){return Yl===0&&(Yl=Ad()),Yl}function Fw(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:zs(""+i)}function Uw(i,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,i.id&&a.setAttribute("form",i.id),s.parentNode.insertBefore(a,s),i=new FormData(i),a.parentNode.removeChild(a),i}function AD(i,s,a,u,g){if(s==="submit"&&a&&a.stateNode===g){var v=Fw((g[oi]||null).action),w=u.submitter;w&&(s=(s=w[oi]||null)?Fw(s.formAction):w.getAttribute("formAction"),s!==null&&(v=s,w=null));var k=new _u("action","action",null,u,g);i.push({event:k,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Yl!==0){var B=w?Uw(g,w):new FormData(g);gb(a,{pending:!0,data:B,method:g.method,action:v},null,B)}}else typeof v=="function"&&(k.preventDefault(),B=w?Uw(g,w):new FormData(g),gb(a,{pending:!0,data:B,method:g.method,action:v},v,B))},currentTarget:g}]})}}for(var o0=0;o0<ME.length;o0++){var l0=ME[o0],ED=l0.toLowerCase(),SD=l0[0].toUpperCase()+l0.slice(1);ps(ED,"on"+SD)}ps(TE,"onAnimationEnd"),ps(CE,"onAnimationIteration"),ps(RE,"onAnimationStart"),ps("dblclick","onDoubleClick"),ps("focusin","onFocus"),ps("focusout","onBlur"),ps(H2,"onTransitionRun"),ps(B2,"onTransitionStart"),ps(z2,"onTransitionCancel"),ps(xE,"onTransitionEnd"),nn("onMouseEnter",["mouseout","mouseover"]),nn("onMouseLeave",["mouseout","mouseover"]),nn("onPointerEnter",["pointerout","pointerover"]),nn("onPointerLeave",["pointerout","pointerover"]),vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hf));function jw(i,s){s=(s&4)!==0;for(var a=0;a<i.length;a++){var u=i[a],g=u.event;u=u.listeners;t:{var v=void 0;if(s)for(var w=u.length-1;0<=w;w--){var k=u[w],B=k.instance,K=k.currentTarget;if(k=k.listener,B!==v&&g.isPropagationStopped())break t;v=k,g.currentTarget=K;try{v(g)}catch(nt){dm(nt)}g.currentTarget=null,v=B}else for(w=0;w<u.length;w++){if(k=u[w],B=k.instance,K=k.currentTarget,k=k.listener,B!==v&&g.isPropagationStopped())break t;v=k,g.currentTarget=K;try{v(g)}catch(nt){dm(nt)}g.currentTarget=null,v=B}}}}function $t(i,s){var a=s[yl];a===void 0&&(a=s[yl]=new Set);var u=i+"__bubble";a.has(u)||(Hw(s,i,2,!1),a.add(u))}function c0(i,s,a){var u=0;s&&(u|=4),Hw(a,i,u,s)}var Rm="_reactListening"+Math.random().toString(36).slice(2);function u0(i){if(!i[Rm]){i[Rm]=!0,Sd.forEach(function(a){a!=="selectionchange"&&(wD.has(a)||c0(a,!1,i),c0(a,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Rm]||(s[Rm]=!0,c0("selectionchange",!1,s))}}function Hw(i,s,a,u){switch(cT(s)){case 2:var g=WD;break;case 8:g=QD;break;default:g=S0}a=g.bind(null,s,a,i),g=void 0,!Bn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),u?g!==void 0?i.addEventListener(s,a,{capture:!0,passive:g}):i.addEventListener(s,a,!0):g!==void 0?i.addEventListener(s,a,{passive:g}):i.addEventListener(s,a,!1)}function h0(i,s,a,u,g){var v=u;if(!(s&1)&&!(s&2)&&u!==null)t:for(;;){if(u===null)return;var w=u.tag;if(w===3||w===4){var k=u.stateNode.containerInfo;if(k===g||k.nodeType===8&&k.parentNode===g)break;if(w===4)for(w=u.return;w!==null;){var B=w.tag;if((B===3||B===4)&&(B=w.stateNode.containerInfo,B===g||B.nodeType===8&&B.parentNode===g))return;w=w.return}for(;k!==null;){if(w=fs(k),w===null)return;if(B=w.tag,B===5||B===6||B===26||B===27){u=v=w;continue t}k=k.parentNode}}u=u.return}kg(function(){var K=v,nt=bu(a),ut=[];t:{var tt=DE.get(i);if(tt!==void 0){var it=_u,Et=i;switch(i){case"keypress":if(Gs(a)===0)break t;case"keydown":case"keyup":it=Cu;break;case"focusin":Et="focus",it=Su;break;case"focusout":Et="blur",it=Su;break;case"beforeblur":case"afterblur":it=Su;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":it=zn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":it=Fy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":it=Hg;break;case TE:case CE:case RE:it=wu;break;case xE:it=zg;break;case"scroll":case"scrollend":it=Lg;break;case"wheel":it=sn;break;case"copy":case"cut":case"paste":it=Tu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":it=Id;break;case"toggle":case"beforetoggle":it=qg}var Nt=(s&4)!==0,Fe=!Nt&&(i==="scroll"||i==="scrollend"),Q=Nt?tt!==null?tt+"Capture":null:tt;Nt=[];for(var $=K,J;$!==null;){var lt=$;if(J=lt.stateNode,lt=lt.tag,lt!==5&&lt!==26&&lt!==27||J===null||Q===null||(lt=Sl($,Q),lt!=null&&Nt.push(df($,lt,J))),Fe)break;$=$.return}0<Nt.length&&(tt=new it(tt,Et,null,a,nt),ut.push({event:tt,listeners:Nt}))}}if(!(s&7)){t:{if(tt=i==="mouseover"||i==="pointerover",it=i==="mouseout"||i==="pointerout",tt&&a!==Hn&&(Et=a.relatedTarget||a.fromElement)&&(fs(Et)||Et[Za]))break t;if((it||tt)&&(tt=nt.window===nt?nt:(tt=nt.ownerDocument)?tt.defaultView||tt.parentWindow:window,it?(Et=a.relatedTarget||a.toElement,it=K,Et=Et?fs(Et):null,Et!==null&&(Fe=ct(Et),Nt=Et.tag,Et!==Fe||Nt!==5&&Nt!==27&&Nt!==6)&&(Et=null)):(it=null,Et=K),it!==Et)){if(Nt=zn,lt="onMouseLeave",Q="onMouseEnter",$="mouse",(i==="pointerout"||i==="pointerover")&&(Nt=Id,lt="onPointerLeave",Q="onPointerEnter",$="pointer"),Fe=it==null?tt:to(it),J=Et==null?tt:to(Et),tt=new Nt(lt,$+"leave",it,a,nt),tt.target=Fe,tt.relatedTarget=J,lt=null,fs(nt)===K&&(Nt=new Nt(Q,$+"enter",Et,a,nt),Nt.target=J,Nt.relatedTarget=Fe,lt=Nt),Fe=lt,it&&Et)e:{for(Nt=it,Q=Et,$=0,J=Nt;J;J=Ku(J))$++;for(J=0,lt=Q;lt;lt=Ku(lt))J++;for(;0<$-J;)Nt=Ku(Nt),$--;for(;0<J-$;)Q=Ku(Q),J--;for(;$--;){if(Nt===Q||Q!==null&&Nt===Q.alternate)break e;Nt=Ku(Nt),Q=Ku(Q)}Nt=null}else Nt=null;it!==null&&Bw(ut,tt,it,Nt,!1),Et!==null&&Fe!==null&&Bw(ut,Fe,Et,Nt,!0)}}t:{if(tt=K?to(K):window,it=tt.nodeName&&tt.nodeName.toLowerCase(),it==="select"||it==="input"&&tt.type==="file")var bt=pE;else if(Nr(tt))if(gE)bt=P2;else{bt=N2;var Gt=L2}else it=tt.nodeName,!it||it.toLowerCase()!=="input"||tt.type!=="checkbox"&&tt.type!=="radio"?K&&xd(K.elementType)&&(bt=pE):bt=I2;if(bt&&(bt=bt(i,K))){rn(ut,bt,a,nt);break t}Gt&&Gt(i,tt,K),i==="focusout"&&K&&tt.type==="number"&&K.memoizedProps.value!=null&&yu(tt,"number",tt.value)}switch(Gt=K?to(K):window,i){case"focusin":(Nr(Gt)||Gt.contentEditable==="true")&&(Ru=Gt,zy=K,Fd=null);break;case"focusout":Fd=zy=Ru=null;break;case"mousedown":Vy=!0;break;case"contextmenu":case"mouseup":case"dragend":Vy=!1,SE(ut,a,nt);break;case"selectionchange":if(j2)break;case"keydown":case"keyup":SE(ut,a,nt)}var wt;if(f)t:{switch(i){case"compositionstart":var Dt="onCompositionStart";break t;case"compositionend":Dt="onCompositionEnd";break t;case"compositionupdate":Dt="onCompositionUpdate";break t}Dt=void 0}else Te?dt(i,a)&&(Dt="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(Dt="onCompositionStart");Dt&&(N&&a.locale!=="ko"&&(Te||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&Te&&(wt=Md()):(Vs=nt,ao="value"in Vs?Vs.value:Vs.textContent,Te=!0)),Gt=xm(K,Dt),0<Gt.length&&(Dt=new Ld(Dt,i,null,a,nt),ut.push({event:Dt,listeners:Gt}),wt?Dt.data=wt:(wt=se(a),wt!==null&&(Dt.data=wt)))),(wt=E?Qt(i,a):ci(i,a))&&(Dt=xm(K,"onBeforeInput"),0<Dt.length&&(Gt=new Ld("onBeforeInput","beforeinput",null,a,nt),ut.push({event:Gt,listeners:Dt}),Gt.data=wt)),AD(ut,i,K,a,nt)}jw(ut,s)})}function df(i,s,a){return{instance:i,listener:s,currentTarget:a}}function xm(i,s){for(var a=s+"Capture",u=[];i!==null;){var g=i,v=g.stateNode;g=g.tag,g!==5&&g!==26&&g!==27||v===null||(g=Sl(i,a),g!=null&&u.unshift(df(i,g,v)),g=Sl(i,s),g!=null&&u.push(df(i,g,v))),i=i.return}return u}function Ku(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Bw(i,s,a,u,g){for(var v=s._reactName,w=[];a!==null&&a!==u;){var k=a,B=k.alternate,K=k.stateNode;if(k=k.tag,B!==null&&B===u)break;k!==5&&k!==26&&k!==27||K===null||(B=K,g?(K=Sl(a,v),K!=null&&w.unshift(df(a,K,B))):g||(K=Sl(a,v),K!=null&&w.push(df(a,K,B)))),a=a.return}w.length!==0&&i.push({event:s,listeners:w})}var TD=/\r\n?/g,CD=/\u0000|\uFFFD/g;function zw(i){return(typeof i=="string"?i:""+i).replace(TD,`
`).replace(CD,"")}function Vw(i,s){return s=zw(s),zw(i)===s}function Dm(){}function pe(i,s,a,u,g,v){switch(a){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||jn(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&jn(i,""+u);break;case"className":no(i,"class",u);break;case"tabIndex":no(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":no(i,a,u);break;case"style":Og(i,u,v);break;case"data":if(s!=="object"){no(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||a!=="href")){i.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(a);break}u=zs(""+u),i.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(a==="formAction"?(s!=="input"&&pe(i,s,"name",g.name,g,null),pe(i,s,"formEncType",g.formEncType,g,null),pe(i,s,"formMethod",g.formMethod,g,null),pe(i,s,"formTarget",g.formTarget,g,null)):(pe(i,s,"encType",g.encType,g,null),pe(i,s,"method",g.method,g,null),pe(i,s,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(a);break}u=zs(""+u),i.setAttribute(a,u);break;case"onClick":u!=null&&(i.onclick=Dm);break;case"onScroll":u!=null&&$t("scroll",i);break;case"onScrollEnd":u!=null&&$t("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(n(61));if(a=u.__html,a!=null){if(g.children!=null)throw Error(n(60));i.innerHTML=a}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}a=zs(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,""+u):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":u===!0?i.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,u):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(a,u):i.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(a):i.setAttribute(a,u);break;case"popover":$t("beforetoggle",i),$t("toggle",i),io(i,"popover",u);break;case"xlinkActuate":Un(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Un(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Un(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Un(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Un(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Un(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Un(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Un(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Un(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":io(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Iy.get(a)||a,io(i,a,u))}}function d0(i,s,a,u,g,v){switch(a){case"style":Og(i,u,v);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(n(61));if(a=u.__html,a!=null){if(g.children!=null)throw Error(n(60));i.innerHTML=a}}break;case"children":typeof u=="string"?jn(i,u):(typeof u=="number"||typeof u=="bigint")&&jn(i,""+u);break;case"onScroll":u!=null&&$t("scroll",i);break;case"onScrollEnd":u!=null&&$t("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Dm);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!mu.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(g=a.endsWith("Capture"),s=a.slice(2,g?a.length-7:void 0),v=i[oi]||null,v=v!=null?v[a]:null,typeof v=="function"&&i.removeEventListener(s,v,g),typeof u=="function")){typeof v!="function"&&v!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(s,u,g);break t}a in i?i[a]=u:u===!0?i.setAttribute(a,""):io(i,a,u)}}}function Ei(i,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$t("error",i),$t("load",i);var u=!1,g=!1,v;for(v in a)if(a.hasOwnProperty(v)){var w=a[v];if(w!=null)switch(v){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:pe(i,s,v,w,a,null)}}g&&pe(i,s,"srcSet",a.srcSet,a,null),u&&pe(i,s,"src",a.src,a,null);return;case"input":$t("invalid",i);var k=v=w=g=null,B=null,K=null;for(u in a)if(a.hasOwnProperty(u)){var nt=a[u];if(nt!=null)switch(u){case"name":g=nt;break;case"type":w=nt;break;case"checked":B=nt;break;case"defaultChecked":K=nt;break;case"value":v=nt;break;case"defaultValue":k=nt;break;case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(n(137,s));break;default:pe(i,s,u,nt,a,null)}}Al(i,v,k,B,K,w,g,!1),_l(i);return;case"select":$t("invalid",i),u=w=v=null;for(g in a)if(a.hasOwnProperty(g)&&(k=a[g],k!=null))switch(g){case"value":v=k;break;case"defaultValue":w=k;break;case"multiple":u=k;default:pe(i,s,g,k,a,null)}s=v,a=w,i.multiple=!!u,s!=null?te(i,!!u,s,!1):a!=null&&te(i,!!u,a,!0);return;case"textarea":$t("invalid",i),v=g=u=null;for(w in a)if(a.hasOwnProperty(w)&&(k=a[w],k!=null))switch(w){case"value":u=k;break;case"defaultValue":g=k;break;case"children":v=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(n(91));break;default:pe(i,s,w,k,a,null)}ro(i,u,g,v),_l(i);return;case"option":for(B in a)if(a.hasOwnProperty(B)&&(u=a[B],u!=null))switch(B){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:pe(i,s,B,u,a,null)}return;case"dialog":$t("cancel",i),$t("close",i);break;case"iframe":case"object":$t("load",i);break;case"video":case"audio":for(u=0;u<hf.length;u++)$t(hf[u],i);break;case"image":$t("error",i),$t("load",i);break;case"details":$t("toggle",i);break;case"embed":case"source":case"link":$t("error",i),$t("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in a)if(a.hasOwnProperty(K)&&(u=a[K],u!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:pe(i,s,K,u,a,null)}return;default:if(xd(s)){for(nt in a)a.hasOwnProperty(nt)&&(u=a[nt],u!==void 0&&d0(i,s,nt,u,a,void 0));return}}for(k in a)a.hasOwnProperty(k)&&(u=a[k],u!=null&&pe(i,s,k,u,a,null))}function RD(i,s,a,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,v=null,w=null,k=null,B=null,K=null,nt=null;for(it in a){var ut=a[it];if(a.hasOwnProperty(it)&&ut!=null)switch(it){case"checked":break;case"value":break;case"defaultValue":B=ut;default:u.hasOwnProperty(it)||pe(i,s,it,null,u,ut)}}for(var tt in u){var it=u[tt];if(ut=a[tt],u.hasOwnProperty(tt)&&(it!=null||ut!=null))switch(tt){case"type":v=it;break;case"name":g=it;break;case"checked":K=it;break;case"defaultChecked":nt=it;break;case"value":w=it;break;case"defaultValue":k=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(n(137,s));break;default:it!==ut&&pe(i,s,tt,it,u,ut)}}so(i,w,k,B,K,nt,v,g);return;case"select":it=w=k=tt=null;for(v in a)if(B=a[v],a.hasOwnProperty(v)&&B!=null)switch(v){case"value":break;case"multiple":it=B;default:u.hasOwnProperty(v)||pe(i,s,v,null,u,B)}for(g in u)if(v=u[g],B=a[g],u.hasOwnProperty(g)&&(v!=null||B!=null))switch(g){case"value":tt=v;break;case"defaultValue":k=v;break;case"multiple":w=v;default:v!==B&&pe(i,s,g,v,u,B)}s=k,a=w,u=it,tt!=null?te(i,!!a,tt,!1):!!u!=!!a&&(s!=null?te(i,!!a,s,!0):te(i,!!a,a?[]:"",!1));return;case"textarea":it=tt=null;for(k in a)if(g=a[k],a.hasOwnProperty(k)&&g!=null&&!u.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:pe(i,s,k,null,u,g)}for(w in u)if(g=u[w],v=a[w],u.hasOwnProperty(w)&&(g!=null||v!=null))switch(w){case"value":tt=g;break;case"defaultValue":it=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(n(91));break;default:g!==v&&pe(i,s,w,g,u,v)}El(i,tt,it);return;case"option":for(var Et in a)if(tt=a[Et],a.hasOwnProperty(Et)&&tt!=null&&!u.hasOwnProperty(Et))switch(Et){case"selected":i.selected=!1;break;default:pe(i,s,Et,null,u,tt)}for(B in u)if(tt=u[B],it=a[B],u.hasOwnProperty(B)&&tt!==it&&(tt!=null||it!=null))switch(B){case"selected":i.selected=tt&&typeof tt!="function"&&typeof tt!="symbol";break;default:pe(i,s,B,tt,u,it)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Nt in a)tt=a[Nt],a.hasOwnProperty(Nt)&&tt!=null&&!u.hasOwnProperty(Nt)&&pe(i,s,Nt,null,u,tt);for(K in u)if(tt=u[K],it=a[K],u.hasOwnProperty(K)&&tt!==it&&(tt!=null||it!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(n(137,s));break;default:pe(i,s,K,tt,u,it)}return;default:if(xd(s)){for(var Fe in a)tt=a[Fe],a.hasOwnProperty(Fe)&&tt!==void 0&&!u.hasOwnProperty(Fe)&&d0(i,s,Fe,void 0,u,tt);for(nt in u)tt=u[nt],it=a[nt],!u.hasOwnProperty(nt)||tt===it||tt===void 0&&it===void 0||d0(i,s,nt,tt,u,it);return}}for(var Q in a)tt=a[Q],a.hasOwnProperty(Q)&&tt!=null&&!u.hasOwnProperty(Q)&&pe(i,s,Q,null,u,tt);for(ut in u)tt=u[ut],it=a[ut],!u.hasOwnProperty(ut)||tt===it||tt==null&&it==null||pe(i,s,ut,tt,u,it)}var f0=null,p0=null;function Mm(i){return i.nodeType===9?i:i.ownerDocument}function Gw(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qw(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function g0(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var m0=null;function xD(){var i=window.event;return i&&i.type==="popstate"?i===m0?!1:(m0=i,!0):(m0=null,!1)}var Xw=typeof setTimeout=="function"?setTimeout:void 0,DD=typeof clearTimeout=="function"?clearTimeout:void 0,Yw=typeof Promise=="function"?Promise:void 0,MD=typeof queueMicrotask=="function"?queueMicrotask:typeof Yw<"u"?function(i){return Yw.resolve(null).then(i).catch(OD)}:Xw;function OD(i){setTimeout(function(){throw i})}function v0(i,s){var a=s,u=0;do{var g=a.nextSibling;if(i.removeChild(a),g&&g.nodeType===8)if(a=g.data,a==="/$"){if(u===0){i.removeChild(g),_f(s);return}u--}else a!=="$"&&a!=="$?"&&a!=="$!"||u++;a=g}while(a);_f(s)}function y0(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":y0(a),bl(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function kD(i,s,a,u){for(;i.nodeType===1;){var g=a;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Ja])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(v=i.getAttribute("rel"),v==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(v!==g.rel||i.getAttribute("href")!==(g.href==null?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(v=i.getAttribute("src"),(v!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&v&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var v=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===v)return i}else return i;if(i=vs(i.nextSibling),i===null)break}return null}function LD(i,s,a){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=vs(i.nextSibling),i===null))return null;return i}function vs(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}function $w(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return i;s--}else a==="/$"&&s++}i=i.previousSibling}return null}function Kw(i,s,a){switch(s=Mm(a),i){case"html":if(i=s.documentElement,!i)throw Error(n(452));return i;case"head":if(i=s.head,!i)throw Error(n(453));return i;case"body":if(i=s.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}var Zn=new Map,Ww=new Set;function Om(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var Wr=ft.d;ft.d={f:ND,r:ID,D:PD,C:FD,L:UD,m:jD,X:BD,S:HD,M:zD};function ND(){var i=Wr.f(),s=Sm();return i||s}function ID(i){var s=Rr(i);s!==null&&s.tag===5&&s.type==="form"?SS(s):Wr.r(i)}var Wu=typeof document>"u"?null:document;function Qw(i,s,a){var u=Wu;if(u&&typeof s=="string"&&s){var g=Ne(s);g='link[rel="'+i+'"][href="'+g+'"]',typeof a=="string"&&(g+='[crossorigin="'+a+'"]'),Ww.has(g)||(Ww.add(g),i={rel:i,crossOrigin:a,href:s},u.querySelector(g)===null&&(s=u.createElement("link"),Ei(s,"link",i),Re(s),u.head.appendChild(s)))}}function PD(i){Wr.D(i),Qw("dns-prefetch",i,null)}function FD(i,s){Wr.C(i,s),Qw("preconnect",i,s)}function UD(i,s,a){Wr.L(i,s,a);var u=Wu;if(u&&i&&s){var g='link[rel="preload"][as="'+Ne(s)+'"]';s==="image"&&a&&a.imageSrcSet?(g+='[imagesrcset="'+Ne(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(g+='[imagesizes="'+Ne(a.imageSizes)+'"]')):g+='[href="'+Ne(i)+'"]';var v=g;switch(s){case"style":v=Qu(i);break;case"script":v=Zu(i)}Zn.has(v)||(i=I({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:i,as:s},a),Zn.set(v,i),u.querySelector(g)!==null||s==="style"&&u.querySelector(ff(v))||s==="script"&&u.querySelector(pf(v))||(s=u.createElement("link"),Ei(s,"link",i),Re(s),u.head.appendChild(s)))}}function jD(i,s){Wr.m(i,s);var a=Wu;if(a&&i){var u=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+Ne(u)+'"][href="'+Ne(i)+'"]',v=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Zu(i)}if(!Zn.has(v)&&(i=I({rel:"modulepreload",href:i},s),Zn.set(v,i),a.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(pf(v)))return}u=a.createElement("link"),Ei(u,"link",i),Re(u),a.head.appendChild(u)}}}function HD(i,s,a){Wr.S(i,s,a);var u=Wu;if(u&&i){var g=eo(u).hoistableStyles,v=Qu(i);s=s||"default";var w=g.get(v);if(!w){var k={loading:0,preload:null};if(w=u.querySelector(ff(v)))k.loading=5;else{i=I({rel:"stylesheet",href:i,"data-precedence":s},a),(a=Zn.get(v))&&b0(i,a);var B=w=u.createElement("link");Re(B),Ei(B,"link",i),B._p=new Promise(function(K,nt){B.onload=K,B.onerror=nt}),B.addEventListener("load",function(){k.loading|=1}),B.addEventListener("error",function(){k.loading|=2}),k.loading|=4,km(w,s,u)}w={type:"stylesheet",instance:w,count:1,state:k},g.set(v,w)}}}function BD(i,s){Wr.X(i,s);var a=Wu;if(a&&i){var u=eo(a).hoistableScripts,g=Zu(i),v=u.get(g);v||(v=a.querySelector(pf(g)),v||(i=I({src:i,async:!0},s),(s=Zn.get(g))&&_0(i,s),v=a.createElement("script"),Re(v),Ei(v,"link",i),a.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(g,v))}}function zD(i,s){Wr.M(i,s);var a=Wu;if(a&&i){var u=eo(a).hoistableScripts,g=Zu(i),v=u.get(g);v||(v=a.querySelector(pf(g)),v||(i=I({src:i,async:!0,type:"module"},s),(s=Zn.get(g))&&_0(i,s),v=a.createElement("script"),Re(v),Ei(v,"link",i),a.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(g,v))}}function Zw(i,s,a,u){var g=(g=Bt.current)?Om(g):null;if(!g)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Qu(a.href),a=eo(g).hoistableStyles,u=a.get(s),u||(u={type:"style",instance:null,count:0,state:null},a.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=Qu(a.href);var v=eo(g).hoistableStyles,w=v.get(i);if(w||(g=g.ownerDocument||g,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(i,w),(v=g.querySelector(ff(i)))&&!v._p&&(w.instance=v,w.state.loading=5),Zn.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Zn.set(i,a),v||VD(g,i,a,w.state))),s&&u===null)throw Error(n(528,""));return w}if(s&&u!==null)throw Error(n(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Zu(a),a=eo(g).hoistableScripts,u=a.get(s),u||(u={type:"script",instance:null,count:0,state:null},a.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function Qu(i){return'href="'+Ne(i)+'"'}function ff(i){return'link[rel="stylesheet"]['+i+"]"}function Jw(i){return I({},i,{"data-precedence":i.precedence,precedence:null})}function VD(i,s,a,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Ei(s,"link",a),Re(s),i.head.appendChild(s))}function Zu(i){return'[src="'+Ne(i)+'"]'}function pf(i){return"script[async]"+i}function tT(i,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+Ne(a.href)+'"]');if(u)return s.instance=u,Re(u),u;var g=I({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Re(u),Ei(u,"style",g),km(u,a.precedence,i),s.instance=u;case"stylesheet":g=Qu(a.href);var v=i.querySelector(ff(g));if(v)return s.state.loading|=4,s.instance=v,Re(v),v;u=Jw(a),(g=Zn.get(g))&&b0(u,g),v=(i.ownerDocument||i).createElement("link"),Re(v);var w=v;return w._p=new Promise(function(k,B){w.onload=k,w.onerror=B}),Ei(v,"link",u),s.state.loading|=4,km(v,a.precedence,i),s.instance=v;case"script":return v=Zu(a.src),(g=i.querySelector(pf(v)))?(s.instance=g,Re(g),g):(u=a,(g=Zn.get(v))&&(u=I({},a),_0(u,g)),i=i.ownerDocument||i,g=i.createElement("script"),Re(g),Ei(g,"link",u),i.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(n(443,s.type))}else s.type==="stylesheet"&&!(s.state.loading&4)&&(u=s.instance,s.state.loading|=4,km(u,a.precedence,i));return s.instance}function km(i,s,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,v=g,w=0;w<u.length;w++){var k=u[w];if(k.dataset.precedence===s)v=k;else if(v!==g)break}v?v.parentNode.insertBefore(i,v.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(i,s.firstChild))}function b0(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function _0(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Lm=null;function eT(i,s,a){if(Lm===null){var u=new Map,g=Lm=new Map;g.set(a,u)}else g=Lm,u=g.get(a),u||(u=new Map,g.set(a,u));if(u.has(i))return u;for(u.set(i,null),a=a.getElementsByTagName(i),g=0;g<a.length;g++){var v=a[g];if(!(v[Ja]||v[ai]||i==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var w=v.getAttribute(s)||"";w=i+w;var k=u.get(w);k?k.push(v):u.set(w,[v])}}return u}function iT(i,s,a){i=i.ownerDocument||i,i.head.insertBefore(a,s==="title"?i.querySelector("head > title"):null)}function GD(i,s,a){if(a===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function nT(i){return!(i.type==="stylesheet"&&!(i.state.loading&3))}var gf=null;function qD(){}function XD(i,s,a){if(gf===null)throw Error(n(475));var u=gf;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(s.state.loading&4)){if(s.instance===null){var g=Qu(a.href),v=i.querySelector(ff(g));if(v){i=v._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=Nm.bind(u),i.then(u,u)),s.state.loading|=4,s.instance=v,Re(v);return}v=i.ownerDocument||i,a=Jw(a),(g=Zn.get(g))&&b0(a,g),v=v.createElement("link"),Re(v);var w=v;w._p=new Promise(function(k,B){w.onload=k,w.onerror=B}),Ei(v,"link",a),s.instance=v}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,i),(i=s.state.preload)&&!(s.state.loading&3)&&(u.count++,s=Nm.bind(u),i.addEventListener("load",s),i.addEventListener("error",s))}}function YD(){if(gf===null)throw Error(n(475));var i=gf;return i.stylesheets&&i.count===0&&A0(i,i.stylesheets),0<i.count?function(s){var a=setTimeout(function(){if(i.stylesheets&&A0(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(a)}}:null}function Nm(){if(this.count--,this.count===0){if(this.stylesheets)A0(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Im=null;function A0(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Im=new Map,s.forEach($D,i),Im=null,Nm.call(i))}function $D(i,s){if(!(s.state.loading&4)){var a=Im.get(i);if(a)var u=a.get(null);else{a=new Map,Im.set(i,a);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<g.length;v++){var w=g[v];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(a.set(w.dataset.precedence,w),u=w)}u&&a.set(null,u)}g=s.instance,w=g.getAttribute("data-precedence"),v=a.get(w)||u,v===u&&a.set(null,g),a.set(w,g),this.count++,u=Nm.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),v?v.parentNode.insertBefore(g,v.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),s.state.loading|=4}}var mf={$$typeof:S,Provider:null,Consumer:null,_currentValue:Rt,_currentValue2:Rt,_threadCount:0};function KD(i,s,a,u,g,v,w,k){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pu(0),this.hiddenUpdates=pu(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=v,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function sT(i,s,a,u,g,v,w,k,B,K,nt,ut){return i=new KD(i,s,a,w,k,B,K,ut),s=1,v===!0&&(s|=24),v=Wn(3,null,null,s),i.current=v,v.stateNode=i,s=Jy(),s.refCount++,i.pooledCache=s,s.refCount++,v.memoizedState={element:u,isDehydrated:a,cache:s},Lb(v),i}function rT(i){return i?(i=Mu,i):Mu}function aT(i,s,a,u,g,v){g=rT(g),u.context===null?u.context=g:u.pendingContext=g,u=mo(s),u.payload={element:a},v=v===void 0?null:v,v!==null&&(u.callback=v),a=vo(i,u,s),a!==null&&(qi(a,i,s),Zd(a,i,s))}function oT(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<s?a:s}}function E0(i,s){oT(i,s),(i=i.alternate)&&oT(i,s)}function lT(i){if(i.tag===13){var s=lo(i,67108864);s!==null&&qi(s,i,67108864),E0(i,67108864)}}var Pm=!0;function WD(i,s,a,u){var g=x.T;x.T=null;var v=ft.p;try{ft.p=2,S0(i,s,a,u)}finally{ft.p=v,x.T=g}}function QD(i,s,a,u){var g=x.T;x.T=null;var v=ft.p;try{ft.p=8,S0(i,s,a,u)}finally{ft.p=v,x.T=g}}function S0(i,s,a,u){if(Pm){var g=w0(u);if(g===null)h0(i,s,u,Fm,a),uT(i,u);else if(JD(g,i,s,a,u))u.stopPropagation();else if(uT(i,u),s&4&&-1<ZD.indexOf(i)){for(;g!==null;){var v=Rr(g);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var w=hs(v.pendingLanes);if(w!==0){var k=v;for(k.pendingLanes|=2,k.entangledLanes|=2;w;){var B=1<<31-zi(w);k.entanglements[1]|=B,w&=~B}Zs(v),!(De&6)&&(_m=xi()+500,uf(0))}}break;case 13:k=lo(v,2),k!==null&&qi(k,v,2),Sm(),E0(v,2)}if(v=w0(u),v===null&&h0(i,s,u,Fm,a),v===g)break;g=v}g!==null&&u.stopPropagation()}else h0(i,s,u,null,a)}}function w0(i){return i=bu(i),T0(i)}var Fm=null;function T0(i){if(Fm=null,i=fs(i),i!==null){var s=ct(i);if(s===null)i=null;else{var a=s.tag;if(a===13){if(i=Ot(s),i!==null)return i;i=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Fm=i,null}function cT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fu()){case Be:return 2;case Se:return 8;case en:case Tr:return 32;case Cr:return 268435456;default:return 32}default:return 32}}var C0=!1,wo=null,To=null,Co=null,vf=new Map,yf=new Map,Ro=[],ZD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function uT(i,s){switch(i){case"focusin":case"focusout":wo=null;break;case"dragenter":case"dragleave":To=null;break;case"mouseover":case"mouseout":Co=null;break;case"pointerover":case"pointerout":vf.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":yf.delete(s.pointerId)}}function bf(i,s,a,u,g,v){return i===null||i.nativeEvent!==v?(i={blockedOn:s,domEventName:a,eventSystemFlags:u,nativeEvent:v,targetContainers:[g]},s!==null&&(s=Rr(s),s!==null&&lT(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),i)}function JD(i,s,a,u,g){switch(s){case"focusin":return wo=bf(wo,i,s,a,u,g),!0;case"dragenter":return To=bf(To,i,s,a,u,g),!0;case"mouseover":return Co=bf(Co,i,s,a,u,g),!0;case"pointerover":var v=g.pointerId;return vf.set(v,bf(vf.get(v)||null,i,s,a,u,g)),!0;case"gotpointercapture":return v=g.pointerId,yf.set(v,bf(yf.get(v)||null,i,s,a,u,g)),!0}return!1}function hT(i){var s=fs(i.target);if(s!==null){var a=ct(s);if(a!==null){if(s=a.tag,s===13){if(s=Ot(a),s!==null){i.blockedOn=s,Qa(i.priority,function(){if(a.tag===13){var u=Sn(),g=lo(a,u);g!==null&&qi(g,a,u),E0(a,u)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Um(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var a=w0(i.nativeEvent);if(a===null){a=i.nativeEvent;var u=new a.constructor(a.type,a);Hn=u,a.target.dispatchEvent(u),Hn=null}else return s=Rr(a),s!==null&&lT(s),i.blockedOn=a,!1;s.shift()}return!0}function dT(i,s,a){Um(i)&&a.delete(s)}function tM(){C0=!1,wo!==null&&Um(wo)&&(wo=null),To!==null&&Um(To)&&(To=null),Co!==null&&Um(Co)&&(Co=null),vf.forEach(dT),yf.forEach(dT)}function jm(i,s){i.blockedOn===s&&(i.blockedOn=null,C0||(C0=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,tM)))}var Hm=null;function fT(i){Hm!==i&&(Hm=i,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){Hm===i&&(Hm=null);for(var s=0;s<i.length;s+=3){var a=i[s],u=i[s+1],g=i[s+2];if(typeof u!="function"){if(T0(u||a)===null)continue;break}var v=Rr(a);v!==null&&(i.splice(s,3),s-=3,gb(v,{pending:!0,data:g,method:a.method,action:u},u,g))}}))}function _f(i){function s(B){return jm(B,i)}wo!==null&&jm(wo,i),To!==null&&jm(To,i),Co!==null&&jm(Co,i),vf.forEach(s),yf.forEach(s);for(var a=0;a<Ro.length;a++){var u=Ro[a];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Ro.length&&(a=Ro[0],a.blockedOn===null);)hT(a),a.blockedOn===null&&Ro.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var g=a[u],v=a[u+1],w=g[oi]||null;if(typeof v=="function")w||fT(a);else if(w){var k=null;if(v&&v.hasAttribute("formAction")){if(g=v,w=v[oi]||null)k=w.formAction;else if(T0(g)!==null)continue}else k=w.action;typeof k=="function"?a[u+1]=k:(a.splice(u,3),u-=3),fT(a)}}}function R0(i){this._internalRoot=i}Bm.prototype.render=R0.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(n(409));var a=s.current,u=Sn();aT(a,u,i,s,null,null)},Bm.prototype.unmount=R0.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;i.tag===0&&Yu(),aT(i.current,2,null,i,null,null),Sm(),s[Za]=null}};function Bm(i){this._internalRoot=i}Bm.prototype.unstable_scheduleHydration=function(i){if(i){var s=xg();i={blockedOn:null,target:i,priority:s};for(var a=0;a<Ro.length&&s!==0&&s<Ro[a].priority;a++);Ro.splice(a,0,i),a===0&&hT(i)}};var pT=t.version;if(pT!=="19.0.0")throw Error(n(527,pT,"19.0.0"));ft.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=ot(s),i=i!==null?pt(i):null,i=i===null?null:i.stateNode,i};var eM={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:x,findFiberByHostInstance:fs,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zm.isDisabled&&zm.supportsFiber)try{qa=zm.inject(eM),Di=zm}catch{}}return Ef.createRoot=function(i,s){if(!r(i))throw Error(n(299));var a=!1,u="",g=OS,v=kS,w=LS,k=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(k=s.unstable_transitionCallbacks)),s=sT(i,1,!1,null,null,a,u,g,v,w,k,null),i[Za]=s.current,u0(i.nodeType===8?i.parentNode:i),new R0(s)},Ef.hydrateRoot=function(i,s,a){if(!r(i))throw Error(n(299));var u=!1,g="",v=OS,w=kS,k=LS,B=null,K=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onUncaughtError!==void 0&&(v=a.onUncaughtError),a.onCaughtError!==void 0&&(w=a.onCaughtError),a.onRecoverableError!==void 0&&(k=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(B=a.unstable_transitionCallbacks),a.formState!==void 0&&(K=a.formState)),s=sT(i,1,!0,s,a??null,u,g,v,w,k,B,K),s.context=rT(null),a=s.current,u=Sn(),g=mo(u),g.callback=null,vo(a,g,u),s.current.lanes=u,ze(s,u),Zs(s),i[Za]=s.current,u0(i),new Bm(s)},Ef.version="19.0.0",Ef}var TT;function fM(){if(TT)return O0.exports;TT=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(t){console.error(t)}}return o(),O0.exports=dM(),O0.exports}var pM=fM(),CT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=function(o){const t=[];let e=0;for(let n=0;n<o.length;n++){let r=o.charCodeAt(n);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&n+1<o.length&&(o.charCodeAt(n+1)&64512)===56320?(r=65536+((r&1023)<<10)+(o.charCodeAt(++n)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},gM=function(o){const t=[];let e=0,n=0;for(;e<o.length;){const r=o[e++];if(r<128)t[n++]=String.fromCharCode(r);else if(r>191&&r<224){const l=o[e++];t[n++]=String.fromCharCode((r&31)<<6|l&63)}else if(r>239&&r<365){const l=o[e++],c=o[e++],h=o[e++],p=((r&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;t[n++]=String.fromCharCode(55296+(p>>10)),t[n++]=String.fromCharCode(56320+(p&1023))}else{const l=o[e++],c=o[e++];t[n++]=String.fromCharCode((r&15)<<12|(l&63)<<6|c&63)}}return t.join("")},nC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(o,t){if(!Array.isArray(o))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let r=0;r<o.length;r+=3){const l=o[r],c=r+1<o.length,h=c?o[r+1]:0,p=r+2<o.length,m=p?o[r+2]:0,y=l>>2,_=(l&3)<<4|h>>4;let A=(h&15)<<2|m>>6,S=m&63;p||(S=64,c||(A=64)),n.push(e[y],e[_],e[A],e[S])}return n.join("")},encodeString(o,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(o):this.encodeByteArray(iC(o),t)},decodeString(o,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(o):gM(this.decodeStringToByteArray(o,t))},decodeStringToByteArray(o,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let r=0;r<o.length;){const l=e[o.charAt(r++)],h=r<o.length?e[o.charAt(r)]:0;++r;const m=r<o.length?e[o.charAt(r)]:64;++r;const _=r<o.length?e[o.charAt(r)]:64;if(++r,l==null||h==null||m==null||_==null)throw new mM;const A=l<<2|h>>4;if(n.push(A),m!==64){const S=h<<4&240|m>>2;if(n.push(S),_!==64){const C=m<<6&192|_;n.push(C)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let o=0;o<this.ENCODED_VALS.length;o++)this.byteToCharMap_[o]=this.ENCODED_VALS.charAt(o),this.charToByteMap_[this.byteToCharMap_[o]]=o,this.byteToCharMapWebSafe_[o]=this.ENCODED_VALS_WEBSAFE.charAt(o),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[o]]=o,o>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(o)]=o,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(o)]=o)}}};class mM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vM=function(o){const t=iC(o);return nC.encodeByteArray(t,!0)},kv=function(o){return vM(o).replace(/\./g,"")},sC=function(o){try{return nC.decodeString(o,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM=()=>yM().__FIREBASE_DEFAULTS__,_M=()=>{if(typeof process>"u"||typeof CT>"u")return;const o=CT.__FIREBASE_DEFAULTS__;if(o)return JSON.parse(o)},AM=()=>{if(typeof document>"u")return;let o;try{o=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=o&&sC(o[1]);return t&&JSON.parse(t)},kA=()=>{try{return bM()||_M()||AM()}catch(o){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${o}`);return}},rC=o=>{var t,e;return(e=(t=kA())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[o]},aC=o=>{const t=rC(o);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),n]:[t.substring(0,e),n]},oC=()=>{var o;return(o=kA())===null||o===void 0?void 0:o.config},lC=o=>{var t;return(t=kA())===null||t===void 0?void 0:t[`_${o}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(o,t){if(o.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},n=t||"demo-project",r=o.iat||0,l=o.sub||o.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},o);return[kv(JSON.stringify(e)),kv(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function wM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TM(){const o=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof o=="object"&&o.id!==void 0}function CM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RM(){const o=tn();return o.indexOf("MSIE ")>=0||o.indexOf("Trident/")>=0}function xM(){try{return typeof indexedDB=="object"}catch{return!1}}function DM(){return new Promise((o,t)=>{try{let e=!0;const n="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(n);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(n),o(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{var l;t(((l=r.error)===null||l===void 0?void 0:l.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM="FirebaseError";class Ar extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name=MM,Object.setPrototypeOf(this,Ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pg.prototype.create)}}class pg{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){const n=e[0]||{},r=`${this.service}/${t}`,l=this.errors[t],c=l?OM(l,n):"Error",h=`${this.serviceName}: ${c} (${r}).`;return new Ar(r,h,n)}}function OM(o,t){return o.replace(kM,(e,n)=>{const r=t[n];return r!=null?String(r):`<${n}?>`})}const kM=/\{\$([^}]+)}/g;function LM(o){for(const t in o)if(Object.prototype.hasOwnProperty.call(o,t))return!1;return!0}function Lv(o,t){if(o===t)return!0;const e=Object.keys(o),n=Object.keys(t);for(const r of e){if(!n.includes(r))return!1;const l=o[r],c=t[r];if(RT(l)&&RT(c)){if(!Lv(l,c))return!1}else if(l!==c)return!1}for(const r of n)if(!e.includes(r))return!1;return!0}function RT(o){return o!==null&&typeof o=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(o){const t=[];for(const[e,n]of Object.entries(o))Array.isArray(n)?n.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function Cf(o){const t={};return o.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[r,l]=n.split("=");t[decodeURIComponent(r)]=decodeURIComponent(l)}}),t}function Rf(o){const t=o.indexOf("?");if(!t)return"";const e=o.indexOf("#",t);return o.substring(t,e>0?e:void 0)}function NM(o,t){const e=new IM(o,t);return e.subscribe.bind(e)}class IM{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(n=>{this.error(n)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,n){let r;if(t===void 0&&e===void 0&&n===void 0)throw new Error("Missing Observer.");PM(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:n},r.next===void 0&&(r.next=I0),r.error===void 0&&(r.error=I0),r.complete===void 0&&(r.complete=I0);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function PM(o,t){if(typeof o!="object"||o===null)return!1;for(const e of t)if(e in o&&typeof o[e]=="function")return!0;return!1}function I0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(o){return o&&o._delegate?o._delegate:o}class ul{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const n=new EM;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(jM(t))try{this.getOrInitializeService({instanceIdentifier:Kl})}catch{}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const l=this.getOrInitializeService({instanceIdentifier:r});n.resolve(l)}catch{}}}}clearInstance(t=Kl){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Kl){return this.instances.has(t)}getOptions(t=Kl){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);n===h&&c.resolve(r)}return r}onInit(t,e){var n;const r=this.normalizeInstanceIdentifier(e),l=(n=this.onInitCallbacks.get(r))!==null&&n!==void 0?n:new Set;l.add(t),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&t(c,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const r of n)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:UM(t),options:e}),this.instances.set(t,n),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=Kl){return this.component?this.component.multipleInstances?t:Kl:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UM(o){return o===Kl?void 0:o}function jM(o){return o.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new FM(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ae;(function(o){o[o.DEBUG=0]="DEBUG",o[o.VERBOSE=1]="VERBOSE",o[o.INFO=2]="INFO",o[o.WARN=3]="WARN",o[o.ERROR=4]="ERROR",o[o.SILENT=5]="SILENT"})(ae||(ae={}));const BM={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},zM=ae.INFO,VM={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},GM=(o,t,...e)=>{if(t<o.logLevel)return;const n=new Date().toISOString(),r=VM[t];if(r)console[r](`[${n}]  ${o.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class LA{constructor(t){this.name=t,this._logLevel=zM,this._logHandler=GM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ae))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?BM[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...t),this._logHandler(this,ae.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...t),this._logHandler(this,ae.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...t),this._logHandler(this,ae.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...t),this._logHandler(this,ae.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...t),this._logHandler(this,ae.ERROR,...t)}}const qM=(o,t)=>t.some(e=>o instanceof e);let xT,DT;function XM(){return xT||(xT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YM(){return DT||(DT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uC=new WeakMap,t_=new WeakMap,hC=new WeakMap,P0=new WeakMap,NA=new WeakMap;function $M(o){const t=new Promise((e,n)=>{const r=()=>{o.removeEventListener("success",l),o.removeEventListener("error",c)},l=()=>{e(ll(o.result)),r()},c=()=>{n(o.error),r()};o.addEventListener("success",l),o.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&uC.set(e,o)}).catch(()=>{}),NA.set(t,o),t}function KM(o){if(t_.has(o))return;const t=new Promise((e,n)=>{const r=()=>{o.removeEventListener("complete",l),o.removeEventListener("error",c),o.removeEventListener("abort",c)},l=()=>{e(),r()},c=()=>{n(o.error||new DOMException("AbortError","AbortError")),r()};o.addEventListener("complete",l),o.addEventListener("error",c),o.addEventListener("abort",c)});t_.set(o,t)}let e_={get(o,t,e){if(o instanceof IDBTransaction){if(t==="done")return t_.get(o);if(t==="objectStoreNames")return o.objectStoreNames||hC.get(o);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return ll(o[t])},set(o,t,e){return o[t]=e,!0},has(o,t){return o instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in o}};function WM(o){e_=o(e_)}function QM(o){return o===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const n=o.call(F0(this),t,...e);return hC.set(n,t.sort?t.sort():[t]),ll(n)}:YM().includes(o)?function(...t){return o.apply(F0(this),t),ll(uC.get(this))}:function(...t){return ll(o.apply(F0(this),t))}}function ZM(o){return typeof o=="function"?QM(o):(o instanceof IDBTransaction&&KM(o),qM(o,XM())?new Proxy(o,e_):o)}function ll(o){if(o instanceof IDBRequest)return $M(o);if(P0.has(o))return P0.get(o);const t=ZM(o);return t!==o&&(P0.set(o,t),NA.set(t,o)),t}const F0=o=>NA.get(o);function JM(o,t,{blocked:e,upgrade:n,blocking:r,terminated:l}={}){const c=indexedDB.open(o,t),h=ll(c);return n&&c.addEventListener("upgradeneeded",p=>{n(ll(c.result),p.oldVersion,p.newVersion,ll(c.transaction),p)}),e&&c.addEventListener("blocked",p=>e(p.oldVersion,p.newVersion,p)),h.then(p=>{l&&p.addEventListener("close",()=>l()),r&&p.addEventListener("versionchange",m=>r(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const tO=["get","getKey","getAll","getAllKeys","count"],eO=["put","add","delete","clear"],U0=new Map;function MT(o,t){if(!(o instanceof IDBDatabase&&!(t in o)&&typeof t=="string"))return;if(U0.get(t))return U0.get(t);const e=t.replace(/FromIndex$/,""),n=t!==e,r=eO.includes(e);if(!(e in(n?IDBIndex:IDBObjectStore).prototype)||!(r||tO.includes(e)))return;const l=async function(c,...h){const p=this.transaction(c,r?"readwrite":"readonly");let m=p.store;return n&&(m=m.index(h.shift())),(await Promise.all([m[e](...h),r&&p.done]))[0]};return U0.set(t,l),l}WM(o=>({...o,get:(t,e,n)=>MT(t,e)||o.get(t,e,n),has:(t,e)=>!!MT(t,e)||o.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(nO(e)){const n=e.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(e=>e).join(" ")}}function nO(o){const t=o.getComponent();return(t==null?void 0:t.type)==="VERSION"}const i_="@firebase/app",OT="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua=new LA("@firebase/app"),sO="@firebase/app-compat",rO="@firebase/analytics-compat",aO="@firebase/analytics",oO="@firebase/app-check-compat",lO="@firebase/app-check",cO="@firebase/auth",uO="@firebase/auth-compat",hO="@firebase/database",dO="@firebase/data-connect",fO="@firebase/database-compat",pO="@firebase/functions",gO="@firebase/functions-compat",mO="@firebase/installations",vO="@firebase/installations-compat",yO="@firebase/messaging",bO="@firebase/messaging-compat",_O="@firebase/performance",AO="@firebase/performance-compat",EO="@firebase/remote-config",SO="@firebase/remote-config-compat",wO="@firebase/storage",TO="@firebase/storage-compat",CO="@firebase/firestore",RO="@firebase/vertexai",xO="@firebase/firestore-compat",DO="firebase",MO="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="[DEFAULT]",OO={[i_]:"fire-core",[sO]:"fire-core-compat",[aO]:"fire-analytics",[rO]:"fire-analytics-compat",[lO]:"fire-app-check",[oO]:"fire-app-check-compat",[cO]:"fire-auth",[uO]:"fire-auth-compat",[hO]:"fire-rtdb",[dO]:"fire-data-connect",[fO]:"fire-rtdb-compat",[pO]:"fire-fn",[gO]:"fire-fn-compat",[mO]:"fire-iid",[vO]:"fire-iid-compat",[yO]:"fire-fcm",[bO]:"fire-fcm-compat",[_O]:"fire-perf",[AO]:"fire-perf-compat",[EO]:"fire-rc",[SO]:"fire-rc-compat",[wO]:"fire-gcs",[TO]:"fire-gcs-compat",[CO]:"fire-fst",[xO]:"fire-fst-compat",[RO]:"fire-vertex","fire-js":"fire-js",[DO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv=new Map,kO=new Map,s_=new Map;function kT(o,t){try{o.container.addComponent(t)}catch(e){Ua.debug(`Component ${t.name} failed to register with FirebaseApp ${o.name}`,e)}}function Jc(o){const t=o.name;if(s_.has(t))return Ua.debug(`There were multiple attempts to register component ${t}.`),!1;s_.set(t,o);for(const e of Nv.values())kT(e,o);for(const e of kO.values())kT(e,o);return!0}function py(o,t){const e=o.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),o.container.getProvider(t)}function fn(o){return o==null?!1:o.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cl=new pg("app","Firebase",LO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ul("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw cl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lu=MO;function dC(o,t={}){let e=o;typeof t!="object"&&(t={name:t});const n=Object.assign({name:n_,automaticDataCollectionEnabled:!1},t),r=n.name;if(typeof r!="string"||!r)throw cl.create("bad-app-name",{appName:String(r)});if(e||(e=oC()),!e)throw cl.create("no-options");const l=Nv.get(r);if(l){if(Lv(e,l.options)&&Lv(n,l.config))return l;throw cl.create("duplicate-app",{appName:r})}const c=new HM(r);for(const p of s_.values())c.addComponent(p);const h=new NO(e,n,c);return Nv.set(r,h),h}function IA(o=n_){const t=Nv.get(o);if(!t&&o===n_&&oC())return dC();if(!t)throw cl.create("no-app",{appName:o});return t}function yr(o,t,e){var n;let r=(n=OO[o])!==null&&n!==void 0?n:o;e&&(r+=`-${e}`);const l=r.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const h=[`Unable to register library "${r}" with version "${t}":`];l&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&h.push("and"),c&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ua.warn(h.join(" "));return}Jc(new ul(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO="firebase-heartbeat-database",PO=1,Wf="firebase-heartbeat-store";let j0=null;function fC(){return j0||(j0=JM(IO,PO,{upgrade:(o,t)=>{switch(t){case 0:try{o.createObjectStore(Wf)}catch(e){console.warn(e)}}}}).catch(o=>{throw cl.create("idb-open",{originalErrorMessage:o.message})})),j0}async function FO(o){try{const e=(await fC()).transaction(Wf),n=await e.objectStore(Wf).get(pC(o));return await e.done,n}catch(t){if(t instanceof Ar)Ua.warn(t.message);else{const e=cl.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ua.warn(e.message)}}}async function LT(o,t){try{const n=(await fC()).transaction(Wf,"readwrite");await n.objectStore(Wf).put(t,pC(o)),await n.done}catch(e){if(e instanceof Ar)Ua.warn(e.message);else{const n=cl.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});Ua.warn(n.message)}}}function pC(o){return`${o.name}!${o.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO=1024,jO=30;class HO{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new zO(e),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,e;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=NT();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:r}),this._heartbeatsCache.heartbeats.length>jO){const c=VO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Ua.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=NT(),{heartbeatsToSend:n,unsentEntries:r}=BO(this._heartbeatsCache.heartbeats),l=kv(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Ua.warn(e),""}}}function NT(){return new Date().toISOString().substring(0,10)}function BO(o,t=UO){const e=[];let n=o.slice();for(const r of o){const l=e.find(c=>c.agent===r.agent);if(l){if(l.dates.push(r.date),IT(e)>t){l.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),IT(e)>t){e.pop();break}n=n.slice(1)}return{heartbeatsToSend:e,unsentEntries:n}}class zO{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xM()?DM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await FO(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const r=await this.read();return LT(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const r=await this.read();return LT(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function IT(o){return kv(JSON.stringify({version:2,heartbeats:o})).length}function VO(o){if(o.length===0)return-1;let t=0,e=o[0].date;for(let n=1;n<o.length;n++)o[n].date<e&&(e=o[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GO(o){Jc(new ul("platform-logger",t=>new iO(t),"PRIVATE")),Jc(new ul("heartbeat",t=>new HO(t),"PRIVATE")),yr(i_,OT,o),yr(i_,OT,"esm2017"),yr("fire-js","")}GO("");var qO="firebase",XO="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yr(qO,XO,"app");function PA(o,t){var e={};for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&t.indexOf(n)<0&&(e[n]=o[n]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(o);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(o,n[r])&&(e[n[r]]=o[n[r]]);return e}function gC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const YO=gC,mC=new pg("auth","Firebase",gC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv=new LA("@firebase/auth");function $O(o,...t){Iv.logLevel<=ae.WARN&&Iv.warn(`Auth (${lu}): ${o}`,...t)}function Zm(o,...t){Iv.logLevel<=ae.ERROR&&Iv.error(`Auth (${lu}): ${o}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ls(o,...t){throw UA(o,...t)}function Ps(o,...t){return UA(o,...t)}function FA(o,t,e){const n=Object.assign(Object.assign({},YO()),{[t]:e});return new pg("auth","Firebase",n).create(t,{appName:o.name})}function Na(o){return FA(o,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function KO(o,t,e){const n=e;if(!(t instanceof n))throw n.name!==t.constructor.name&&ls(o,"argument-error"),FA(o,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function UA(o,...t){if(typeof o!="string"){const e=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=o.name),o._errorFactory.create(e,...n)}return mC.create(o,...t)}function Mt(o,t,...e){if(!o)throw UA(t,...e)}function Ma(o){const t="INTERNAL ASSERTION FAILED: "+o;throw Zm(t),new Error(t)}function ja(o,t){o||Ma(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(){var o;return typeof self<"u"&&((o=self.location)===null||o===void 0?void 0:o.href)||""}function WO(){return PT()==="http:"||PT()==="https:"}function PT(){var o;return typeof self<"u"&&((o=self.location)===null||o===void 0?void 0:o.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(WO()||TM()||"connection"in navigator)?navigator.onLine:!0}function ZO(){if(typeof navigator>"u")return null;const o=navigator;return o.languages&&o.languages[0]||o.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(t,e){this.shortDelay=t,this.longDelay=e,ja(e>t,"Short delay should be less than long delay!"),this.isMobile=SM()||CM()}get(){return QO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(o,t){ja(o.emulator,"Emulator should always be set here");const{url:e}=o.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{static initialize(t,e,n){this.fetchImpl=t,e&&(this.headersImpl=e),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ma("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ma("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ma("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk=new mg(3e4,6e4);function za(o,t){return o.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:o.tenantId}):t}async function Er(o,t,e,n,r={}){return yC(o,r,async()=>{let l={},c={};n&&(t==="GET"?c=n:l={body:JSON.stringify(n)});const h=gg(Object.assign({key:o.config.apiKey},c)).slice(1),p=await o._getAdditionalHeaders();p["Content-Type"]="application/json",o.languageCode&&(p["X-Firebase-Locale"]=o.languageCode);const m=Object.assign({method:t,headers:p},l);return wM()||(m.referrerPolicy="no-referrer"),vC.fetch()(bC(o,o.config.apiHost,e,h),m)})}async function yC(o,t,e){o._canInitEmulator=!1;const n=Object.assign(Object.assign({},JO),t);try{const r=new ik(o),l=await Promise.race([e(),r.promise]);r.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Vm(o,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const h=l.ok?c.errorMessage:c.error.message,[p,m]=h.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vm(o,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Vm(o,"email-already-in-use",c);if(p==="USER_DISABLED")throw Vm(o,"user-disabled",c);const y=n[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw FA(o,y,m);ls(o,y)}}catch(r){if(r instanceof Ar)throw r;ls(o,"network-request-failed",{message:String(r)})}}async function vg(o,t,e,n,r={}){const l=await Er(o,t,e,n,r);return"mfaPendingCredential"in l&&ls(o,"multi-factor-auth-required",{_serverResponse:l}),l}function bC(o,t,e,n){const r=`${t}${e}?${n}`;return o.config.emulator?jA(o.config,r):`${o.config.apiScheme}://${r}`}function ek(o){switch(o){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ik{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,n)=>{this.timer=setTimeout(()=>n(Ps(this.auth,"network-request-failed")),tk.get())})}}function Vm(o,t,e){const n={appName:o.name};e.email&&(n.email=e.email),e.phoneNumber&&(n.phoneNumber=e.phoneNumber);const r=Ps(o,t,n);return r.customData._tokenResponse=e,r}function FT(o){return o!==void 0&&o.enterprise!==void 0}class nk{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return ek(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function sk(o,t){return Er(o,"GET","/v2/recaptchaConfig",za(o,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rk(o,t){return Er(o,"POST","/v1/accounts:delete",t)}async function _C(o,t){return Er(o,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(o){if(o)try{const t=new Date(Number(o));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function ak(o,t=!1){const e=Fs(o),n=await e.getIdToken(t),r=HA(n);Mt(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const l=typeof r.firebase=="object"?r.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:r,token:n,authTime:Gf(H0(r.auth_time)),issuedAtTime:Gf(H0(r.iat)),expirationTime:Gf(H0(r.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function H0(o){return Number(o)*1e3}function HA(o){const[t,e,n]=o.split(".");if(t===void 0||e===void 0||n===void 0)return Zm("JWT malformed, contained fewer than 3 sections"),null;try{const r=sC(e);return r?JSON.parse(r):(Zm("Failed to decode base64 JWT payload"),null)}catch(r){return Zm("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function UT(o){const t=HA(o);return Mt(t,"internal-error"),Mt(typeof t.exp<"u","internal-error"),Mt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fd(o,t,e=!1){if(e)return t;try{return await t}catch(n){throw n instanceof Ar&&ok(n)&&o.auth.currentUser===o&&await o.auth.signOut(),n}}function ok({code:o}){return o==="auth/user-disabled"||o==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gf(this.lastLoginAt),this.creationTime=Gf(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pv(o){var t;const e=o.auth,n=await o.getIdToken(),r=await fd(o,_C(e,{idToken:n}));Mt(r==null?void 0:r.users.length,e,"internal-error");const l=r.users[0];o._notifyReloadListener(l);const c=!((t=l.providerUserInfo)===null||t===void 0)&&t.length?AC(l.providerUserInfo):[],h=uk(o.providerData,c),p=o.isAnonymous,m=!(o.email&&l.passwordHash)&&!(h!=null&&h.length),y=p?m:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new a_(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(o,_)}async function ck(o){const t=Fs(o);await Pv(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function uk(o,t){return[...o.filter(n=>!t.some(r=>r.providerId===n.providerId)),...t]}function AC(o){return o.map(t=>{var{providerId:e}=t,n=PA(t,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hk(o,t){const e=await yC(o,{},async()=>{const n=gg({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:l}=o.config,c=bC(o,r,"/v1/token",`key=${l}`),h=await o._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",vC.fetch()(c,{method:"POST",headers:h,body:n})});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function dk(o,t){return Er(o,"POST","/v2/accounts:revokeToken",za(o,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Mt(t.idToken,"internal-error"),Mt(typeof t.idToken<"u","internal-error"),Mt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):UT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Mt(t.length!==0,"internal-error");const e=UT(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Mt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:n,refreshToken:r,expiresIn:l}=await hk(t,e);this.updateTokensAndExpiration(n,r,Number(l))}updateTokensAndExpiration(t,e,n){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,e){const{refreshToken:n,accessToken:r,expirationTime:l}=e,c=new lh;return n&&(Mt(typeof n=="string","internal-error",{appName:t}),c.refreshToken=n),r&&(Mt(typeof r=="string","internal-error",{appName:t}),c.accessToken=r),l&&(Mt(typeof l=="number","internal-error",{appName:t}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new lh,this.toJSON())}_performRefresh(){return Ma("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Do(o,t){Mt(typeof o=="string"||typeof o>"u","internal-error",{appName:t})}class Oa{constructor(t){var{uid:e,auth:n,stsTokenManager:r}=t,l=PA(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new lk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new a_(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const e=await fd(this,this.stsTokenManager.getToken(this.auth,t));return Mt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return ak(this,t)}reload(){return ck(this)}_assign(t){this!==t&&(Mt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Oa(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){Mt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),e&&await Pv(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fn(this.auth.app))return Promise.reject(Na(this.auth));const t=await this.getIdToken();return await fd(this,rk(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var n,r,l,c,h,p,m,y;const _=(n=e.displayName)!==null&&n!==void 0?n:void 0,A=(r=e.email)!==null&&r!==void 0?r:void 0,S=(l=e.phoneNumber)!==null&&l!==void 0?l:void 0,C=(c=e.photoURL)!==null&&c!==void 0?c:void 0,M=(h=e.tenantId)!==null&&h!==void 0?h:void 0,j=(p=e._redirectEventId)!==null&&p!==void 0?p:void 0,P=(m=e.createdAt)!==null&&m!==void 0?m:void 0,z=(y=e.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:G,emailVerified:Y,isAnonymous:W,providerData:X,stsTokenManager:L}=e;Mt(G&&L,t,"internal-error");const D=lh.fromJSON(this.name,L);Mt(typeof G=="string",t,"internal-error"),Do(_,t.name),Do(A,t.name),Mt(typeof Y=="boolean",t,"internal-error"),Mt(typeof W=="boolean",t,"internal-error"),Do(S,t.name),Do(C,t.name),Do(M,t.name),Do(j,t.name),Do(P,t.name),Do(z,t.name);const x=new Oa({uid:G,auth:t,email:A,emailVerified:Y,displayName:_,isAnonymous:W,photoURL:C,phoneNumber:S,tenantId:M,stsTokenManager:D,createdAt:P,lastLoginAt:z});return X&&Array.isArray(X)&&(x.providerData=X.map(I=>Object.assign({},I))),j&&(x._redirectEventId=j),x}static async _fromIdTokenResponse(t,e,n=!1){const r=new lh;r.updateFromServerResponse(e);const l=new Oa({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:n});return await Pv(l),l}static async _fromGetAccountInfoResponse(t,e,n){const r=e.users[0];Mt(r.localId!==void 0,"internal-error");const l=r.providerUserInfo!==void 0?AC(r.providerUserInfo):[],c=!(r.email&&r.passwordHash)&&!(l!=null&&l.length),h=new lh;h.updateFromIdToken(n);const p=new Oa({uid:r.localId,auth:t,stsTokenManager:h,isAnonymous:c}),m={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:l,metadata:new a_(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT=new Map;function ka(o){ja(o instanceof Function,"Expected a class definition");let t=jT.get(o);return t?(ja(t instanceof o,"Instance stored in cache mismatched with class"),t):(t=new o,jT.set(o,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}EC.type="NONE";const HT=EC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(o,t,e){return`firebase:${o}:${t}:${e}`}class ch{constructor(t,e,n){this.persistence=t,this.auth=e,this.userKey=n;const{config:r,name:l}=this.auth;this.fullUserKey=Jm(this.userKey,r.apiKey,l),this.fullPersistenceKey=Jm("persistence",r.apiKey,l),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Oa._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,n="authUser"){if(!e.length)return new ch(ka(HT),t,n);const r=(await Promise.all(e.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=r[0]||ka(HT);const c=Jm(n,t.config.apiKey,t.name);let h=null;for(const m of e)try{const y=await m._get(c);if(y){const _=Oa._fromJSON(t,y);m!==l&&(h=_),l=m;break}}catch{}const p=r.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new ch(l,t,n):(l=p[0],h&&await l._set(c,h.toJSON()),await Promise.all(e.map(async m=>{if(m!==l)try{await m._remove(c)}catch{}})),new ch(l,t,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(o){const t=o.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(CC(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(SC(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(xC(t))return"Blackberry";if(DC(t))return"Webos";if(wC(t))return"Safari";if((t.includes("chrome/")||TC(t))&&!t.includes("edge/"))return"Chrome";if(RC(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=o.match(e);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function SC(o=tn()){return/firefox\//i.test(o)}function wC(o=tn()){const t=o.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function TC(o=tn()){return/crios\//i.test(o)}function CC(o=tn()){return/iemobile/i.test(o)}function RC(o=tn()){return/android/i.test(o)}function xC(o=tn()){return/blackberry/i.test(o)}function DC(o=tn()){return/webos/i.test(o)}function BA(o=tn()){return/iphone|ipad|ipod/i.test(o)||/macintosh/i.test(o)&&/mobile/i.test(o)}function fk(o=tn()){var t;return BA(o)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function pk(){return RM()&&document.documentMode===10}function MC(o=tn()){return BA(o)||RC(o)||DC(o)||xC(o)||/windows phone/i.test(o)||CC(o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(o,t=[]){let e;switch(o){case"Browser":e=BT(tn());break;case"Worker":e=`${BT(tn())}-${o}`;break;default:e=o}const n=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${lu}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const n=l=>new Promise((c,h)=>{try{const p=t(l);c(p)}catch(p){h(p)}});n.onAbort=e,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const n of this.queue)await n(t),n.onAbort&&e.push(n.onAbort)}catch(n){e.reverse();for(const r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mk(o,t={}){return Er(o,"GET","/v2/passwordPolicy",za(o,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vk=6;class yk{constructor(t){var e,n,r,l;const c=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=c.minPasswordLength)!==null&&e!==void 0?e:vk,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(n=t.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(l=t.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,n,r,l,c,h;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(e=p.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),p.isValid&&(p.isValid=(n=p.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(r=p.containsLowercaseLetter)!==null&&r!==void 0?r:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(h=p.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),p}validatePasswordLengthOptions(t,e){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(e.meetsMinPasswordLength=t.length>=n),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let n;for(let r=0;r<t.length;r++)n=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,e,n,r,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(t,e,n,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zT(this),this.idTokenSubscription=new zT(this),this.beforeStateQueue=new gk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=ka(e)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await ch.create(this,t),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await _C(this,{idToken:t}),n=await Oa._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(n)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(fn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,h=r==null?void 0:r._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===h)&&(p!=null&&p.user)&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Mt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Pv(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=ZO()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(fn(this.app))return Promise.reject(Na(this));const e=t?Fs(t):null;return e&&Mt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Mt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return fn(this.app)?Promise.reject(Na(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return fn(this.app)?Promise.reject(Na(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ka(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await mk(this),e=new yk(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new pg("auth","Firebase",t())}onAuthStateChanged(t,e,n){return this.registerStateListener(this.authStateSubscription,t,e,n)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,n){return this.registerStateListener(this.idTokenSubscription,t,e,n)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const n=this.onAuthStateChanged(()=>{n(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(n.tenantId=this.tenantId),await dk(this,n)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const n=await this.getOrInitRedirectPersistenceManager(e);return t===null?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&ka(t)||this._popupRedirectResolver;Mt(e,this,"argument-error"),this.redirectPersistenceManager=await ch.create(this,[ka(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,n;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,n,r){if(this._deleted)return()=>{};const l=typeof e=="function"?e:e.next.bind(e);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Mt(h,this,"internal-error"),h.then(()=>{c||l(this.currentUser)}),typeof e=="function"){const p=t.addObserver(e,n,r);return()=>{c=!0,p()}}else{const p=t.addObserver(e);return()=>{c=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Mt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=OC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;if(fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&$O(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Va(o){return Fs(o)}class zT{constructor(t){this.auth=t,this.observer=null,this.addObserver=NM(e=>this.observer=e)}get next(){return Mt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _k(o){gy=o}function kC(o){return gy.loadJS(o)}function Ak(){return gy.recaptchaEnterpriseScript}function Ek(){return gy.gapiScript}function Sk(o){return`__${o}${Math.floor(Math.random()*1e6)}`}class wk{constructor(){this.enterprise=new Tk}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class Tk{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const Ck="recaptcha-enterprise",LC="NO_RECAPTCHA";class Rk{constructor(t){this.type=Ck,this.auth=Va(t)}async verify(t="verify",e=!1){async function n(l){if(!e){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,h)=>{sk(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new nk(p);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,c(m.siteKey)}}).catch(p=>{h(p)})})}function r(l,c,h){const p=window.grecaptcha;FT(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:t}).then(m=>{c(m)}).catch(()=>{c(LC)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new wk().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{n(this.auth).then(h=>{if(!e&&FT(window.grecaptcha))r(h,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=Ak();p.length!==0&&(p+=h),kC(p).then(()=>{r(h,l,c)}).catch(m=>{c(m)})}}).catch(h=>{c(h)})})}}async function VT(o,t,e,n=!1,r=!1){const l=new Rk(o);let c;if(r)c=LC;else try{c=await l.verify(e)}catch{c=await l.verify(e,!0)}const h=Object.assign({},t);if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const p=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const p=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return n?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Fv(o,t,e,n,r){var l;if(!((l=o._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await VT(o,t,e,e==="getOobCode");return n(o,c)}else return n(o,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await VT(o,t,e,e==="getOobCode");return n(o,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xk(o,t){const e=py(o,"auth");if(e.isInitialized()){const r=e.getImmediate(),l=e.getOptions();if(Lv(l,t??{}))return r;ls(r,"already-initialized")}return e.initialize({options:t})}function Dk(o,t){const e=(t==null?void 0:t.persistence)||[],n=(Array.isArray(e)?e:[e]).map(ka);t!=null&&t.errorMap&&o._updateErrorMap(t.errorMap),o._initializeWithPersistence(n,t==null?void 0:t.popupRedirectResolver)}function Mk(o,t,e){const n=Va(o);Mt(n._canInitEmulator,n,"emulator-config-failed"),Mt(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");const r=!1,l=NC(t),{host:c,port:h}=Ok(t),p=h===null?"":`:${h}`;n.config.emulator={url:`${l}//${c}${p}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:c,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:r})}),kk()}function NC(o){const t=o.indexOf(":");return t<0?"":o.substr(0,t+1)}function Ok(o){const t=NC(o),e=/(\/\/)?([^?#/]+)/.exec(o.substr(t.length));if(!e)return{host:"",port:null};const n=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(n);if(r){const l=r[1];return{host:l,port:GT(n.substr(l.length+1))}}else{const[l,c]=n.split(":");return{host:l,port:GT(c)}}}function GT(o){if(!o)return null;const t=Number(o);return isNaN(t)?null:t}function kk(){function o(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",o):o())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Ma("not implemented")}_getIdTokenResponse(t){return Ma("not implemented")}_linkToIdToken(t,e){return Ma("not implemented")}_getReauthenticationResolver(t){return Ma("not implemented")}}async function Lk(o,t){return Er(o,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nk(o,t){return vg(o,"POST","/v1/accounts:signInWithPassword",za(o,t))}async function Ik(o,t){return Er(o,"POST","/v1/accounts:sendOobCode",za(o,t))}async function Pk(o,t){return Ik(o,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fk(o,t){return vg(o,"POST","/v1/accounts:signInWithEmailLink",za(o,t))}async function Uk(o,t){return vg(o,"POST","/v1/accounts:signInWithEmailLink",za(o,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf extends zA{constructor(t,e,n,r=null){super("password",n),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new Qf(t,e,"password")}static _fromEmailAndCode(t,e,n=null){return new Qf(t,e,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e!=null&&e.email&&(e!=null&&e.password)){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fv(t,e,"signInWithPassword",Nk);case"emailLink":return Fk(t,{email:this._email,oobCode:this._password});default:ls(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const n={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fv(t,n,"signUpPassword",Lk);case"emailLink":return Uk(t,{idToken:e,email:this._email,oobCode:this._password});default:ls(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uh(o,t){return vg(o,"POST","/v1/accounts:signInWithIdp",za(o,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk="http://localhost";class tu extends zA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new tu(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):ls("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:n,signInMethod:r}=e,l=PA(e,["providerId","signInMethod"]);if(!n||!r)return null;const c=new tu(n,r);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return uh(t,e)}_linkToIdToken(t,e){const n=this.buildRequest();return n.idToken=e,uh(t,n)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,uh(t,e)}buildRequest(){const t={requestUri:jk,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=gg(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(o){switch(o){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Bk(o){const t=Cf(Rf(o)).link,e=t?Cf(Rf(t)).deep_link_id:null,n=Cf(Rf(o)).deep_link_id;return(n?Cf(Rf(n)).link:null)||n||e||t||o}class VA{constructor(t){var e,n,r,l,c,h;const p=Cf(Rf(t)),m=(e=p.apiKey)!==null&&e!==void 0?e:null,y=(n=p.oobCode)!==null&&n!==void 0?n:null,_=Hk((r=p.mode)!==null&&r!==void 0?r:null);Mt(m&&y&&_,"argument-error"),this.apiKey=m,this.operation=_,this.code=y,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=p.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(h=p.tenantId)!==null&&h!==void 0?h:null}static parseLink(t){const e=Bk(t);try{return new VA(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(){this.providerId=md.PROVIDER_ID}static credential(t,e){return Qf._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const n=VA.parseLink(e);return Mt(n,"argument-error"),Qf._fromEmailAndCode(t,n.code,n.tenantId)}}md.PROVIDER_ID="password";md.EMAIL_PASSWORD_SIGN_IN_METHOD="password";md.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg extends GA{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko extends yg{constructor(){super("facebook.com")}static credential(t){return tu._fromParams({providerId:ko.PROVIDER_ID,signInMethod:ko.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ko.credentialFromTaggedObject(t)}static credentialFromError(t){return ko.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ko.credential(t.oauthAccessToken)}catch{return null}}}ko.FACEBOOK_SIGN_IN_METHOD="facebook.com";ko.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca extends yg{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return tu._fromParams({providerId:Ca.PROVIDER_ID,signInMethod:Ca.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Ca.credentialFromTaggedObject(t)}static credentialFromError(t){return Ca.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:n}=t;if(!e&&!n)return null;try{return Ca.credential(e,n)}catch{return null}}}Ca.GOOGLE_SIGN_IN_METHOD="google.com";Ca.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra extends yg{constructor(){super("github.com")}static credential(t){return tu._fromParams({providerId:Ra.PROVIDER_ID,signInMethod:Ra.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ra.credentialFromTaggedObject(t)}static credentialFromError(t){return Ra.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ra.credential(t.oauthAccessToken)}catch{return null}}}Ra.GITHUB_SIGN_IN_METHOD="github.com";Ra.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo extends yg{constructor(){super("twitter.com")}static credential(t,e){return tu._fromParams({providerId:Lo.PROVIDER_ID,signInMethod:Lo.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Lo.credentialFromTaggedObject(t)}static credentialFromError(t){return Lo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:n}=t;if(!e||!n)return null;try{return Lo.credential(e,n)}catch{return null}}}Lo.TWITTER_SIGN_IN_METHOD="twitter.com";Lo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zk(o,t){return vg(o,"POST","/v1/accounts:signUp",za(o,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,n,r=!1){const l=await Oa._fromIdTokenResponse(t,n,r),c=qT(n);return new eu({user:l,providerId:c,_tokenResponse:n,operationType:e})}static async _forOperation(t,e,n){await t._updateTokensIfNecessary(n,!0);const r=qT(n);return new eu({user:t,providerId:r,_tokenResponse:n,operationType:e})}}function qT(o){return o.providerId?o.providerId:"phoneNumber"in o?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv extends Ar{constructor(t,e,n,r){var l;super(e.code,e.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Uv.prototype),this.customData={appName:t.name,tenantId:(l=t.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:e.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,e,n,r){return new Uv(t,e,n,r)}}function IC(o,t,e,n){return(t==="reauthenticate"?e._getReauthenticationResolver(o):e._getIdTokenResponse(o)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Uv._fromErrorAndOperation(o,l,t,n):l})}async function Vk(o,t,e=!1){const n=await fd(o,t._linkToIdToken(o.auth,await o.getIdToken()),e);return eu._forOperation(o,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gk(o,t,e=!1){const{auth:n}=o;if(fn(n.app))return Promise.reject(Na(n));const r="reauthenticate";try{const l=await fd(o,IC(n,r,t,o),e);Mt(l.idToken,n,"internal-error");const c=HA(l.idToken);Mt(c,n,"internal-error");const{sub:h}=c;return Mt(o.uid===h,n,"user-mismatch"),eu._forOperation(o,r,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&ls(n,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PC(o,t,e=!1){if(fn(o.app))return Promise.reject(Na(o));const n="signIn",r=await IC(o,n,t),l=await eu._fromIdTokenResponse(o,n,r);return e||await o._updateCurrentUser(l.user),l}async function qk(o,t){return PC(Va(o),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FC(o){const t=Va(o);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Xk(o,t,e){const n=Va(o);await Fv(n,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Pk)}async function Yk(o,t,e){if(fn(o.app))return Promise.reject(Na(o));const n=Va(o),c=await Fv(n,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",zk).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&FC(o),p}),h=await eu._fromIdTokenResponse(n,"signIn",c);return await n._updateCurrentUser(h.user),h}function $k(o,t,e){return fn(o.app)?Promise.reject(Na(o)):qk(Fs(o),md.credential(t,e)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&FC(o),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kk(o,t){return Er(o,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wk(o,{displayName:t,photoURL:e}){if(t===void 0&&e===void 0)return;const n=Fs(o),l={idToken:await n.getIdToken(),displayName:t,photoUrl:e,returnSecureToken:!0},c=await fd(n,Kk(n.auth,l));n.displayName=c.displayName||null,n.photoURL=c.photoUrl||null;const h=n.providerData.find(({providerId:p})=>p==="password");h&&(h.displayName=n.displayName,h.photoURL=n.photoURL),await n._updateTokensIfNecessary(c)}function Qk(o,t,e,n){return Fs(o).onIdTokenChanged(t,e,n)}function Zk(o,t,e){return Fs(o).beforeAuthStateChanged(t,e)}function Jk(o,t,e,n){return Fs(o).onAuthStateChanged(t,e,n)}function tL(o){return Fs(o).signOut()}const jv="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(jv,"1"),this.storage.removeItem(jv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL=1e3,iL=10;class jC extends UC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=MC(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const n=this.storage.getItem(e),r=this.localCache[e];n!==r&&t(e,r,n)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,h,p)=>{this.notifyListeners(c,p)});return}const n=t.key;e?this.detachListener():this.stopPolling();const r=()=>{const c=this.storage.getItem(n);!e&&this.localCache[n]===c||this.notifyListeners(n,c)},l=this.storage.getItem(n);pk()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,iL):r()}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const r of Array.from(n))r(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:n}),!0)})},eL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}jC.type="LOCAL";const nL=jC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC extends UC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}HC.type="SESSION";const BC=HC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sL(o){return Promise.all(o.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(r=>r.isListeningto(t));if(e)return e;const n=new my(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:n,eventType:r,data:l}=e.data,c=this.handlersMap[r];if(!(c!=null&&c.size))return;e.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const h=Array.from(c).map(async m=>m(e.origin,l)),p=await sL(h);e.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:p})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}my.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(o="",t=10){let e="";for(let n=0;n<t;n++)e+=Math.floor(Math.random()*10);return o+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,n=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let l,c;return new Promise((h,p)=>{const m=qA("",20);r.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},n);c={messageChannel:r,onMessage(_){const A=_;if(A.data.eventId===m)switch(A.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(A.data.response);break;default:clearTimeout(y),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),r.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:m,data:e},[r.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(){return window}function aL(o){br().location.href=o}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(){return typeof br().WorkerGlobalScope<"u"&&typeof br().importScripts=="function"}async function oL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lL(){var o;return((o=navigator==null?void 0:navigator.serviceWorker)===null||o===void 0?void 0:o.controller)||null}function cL(){return zC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC="firebaseLocalStorageDb",uL=1,Hv="firebaseLocalStorage",GC="fbase_key";class bg{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function vy(o,t){return o.transaction([Hv],t?"readwrite":"readonly").objectStore(Hv)}function hL(){const o=indexedDB.deleteDatabase(VC);return new bg(o).toPromise()}function o_(){const o=indexedDB.open(VC,uL);return new Promise((t,e)=>{o.addEventListener("error",()=>{e(o.error)}),o.addEventListener("upgradeneeded",()=>{const n=o.result;try{n.createObjectStore(Hv,{keyPath:GC})}catch(r){e(r)}}),o.addEventListener("success",async()=>{const n=o.result;n.objectStoreNames.contains(Hv)?t(n):(n.close(),await hL(),t(await o_()))})})}async function XT(o,t,e){const n=vy(o,!0).put({[GC]:t,value:e});return new bg(n).toPromise()}async function dL(o,t){const e=vy(o,!1).get(t),n=await new bg(e).toPromise();return n===void 0?null:n.value}function YT(o,t){const e=vy(o,!0).delete(t);return new bg(e).toPromise()}const fL=800,pL=3;class qC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await o_(),this.db)}async _withRetries(t){let e=0;for(;;)try{const n=await this._openDb();return await t(n)}catch(n){if(e++>pL)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=my._getInstance(cL()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await oL(),!this.activeServiceWorker)return;this.sender=new rL(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((t=n[0])===null||t===void 0)&&t.fulfilled&&!((e=n[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||lL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await o_();return await XT(t,jv,"1"),await YT(t,jv),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(n=>XT(n,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(n=>dL(n,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>YT(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const l=vy(r,!1).getAll();return new bg(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],n=new Set;if(t.length!==0)for(const{fbase_key:r,value:l}of t)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(l)&&(this.notifyListeners(r,l),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const r of Array.from(n))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qC.type="LOCAL";const gL=qC;new mg(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(o,t){return t?ka(t):(Mt(o._popupRedirectResolver,o,"argument-error"),o._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA extends zA{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return uh(t,this._buildIdpRequest())}_linkToIdToken(t,e){return uh(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return uh(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function mL(o){return PC(o.auth,new XA(o),o.bypassAuthState)}function vL(o){const{auth:t,user:e}=o;return Mt(e,t,"internal-error"),Gk(e,new XA(o),o.bypassAuthState)}async function yL(o){const{auth:t,user:e}=o;return Mt(e,t,"internal-error"),Vk(e,new XA(o),o.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(t,e,n,r,l=!1){this.auth=t,this.resolver=n,this.user=r,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:n,postBody:r,tenantId:l,error:c,type:h}=t;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:e,sessionId:n,tenantId:l||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(p))}catch(m){this.reject(m)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return mL;case"linkViaPopup":case"linkViaRedirect":return yL;case"reauthViaPopup":case"reauthViaRedirect":return vL;default:ls(this.auth,"internal-error")}}resolve(t){ja(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ja(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL=new mg(2e3,1e4);async function $T(o,t,e){if(fn(o.app))return Promise.reject(Ps(o,"operation-not-supported-in-this-environment"));const n=Va(o);KO(o,t,GA);const r=XC(n,e);return new ic(n,"signInViaPopup",t,r).executeNotNull()}class ic extends YC{constructor(t,e,n,r,l){super(t,e,r,l),this.provider=n,this.authWindow=null,this.pollId=null,ic.currentPopupAction&&ic.currentPopupAction.cancel(),ic.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Mt(t,this.auth,"internal-error"),t}async onExecution(){ja(this.filter.length===1,"Popup operations only handle one event");const t=qA();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Ps(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Ps(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ic.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,n;if(!((n=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ps(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,bL.get())};t()}}ic.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L="pendingRedirect",tv=new Map;class AL extends YC{constructor(t,e,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,n),this.eventId=null}async execute(){let t=tv.get(this.auth._key());if(!t){try{const n=await EL(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(n)}catch(e){t=()=>Promise.reject(e)}tv.set(this.auth._key(),t)}return this.bypassAuthState||tv.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function EL(o,t){const e=TL(t),n=wL(o);if(!await n._isAvailable())return!1;const r=await n._get(e)==="true";return await n._remove(e),r}function SL(o,t){tv.set(o._key(),t)}function wL(o){return ka(o._redirectPersistence)}function TL(o){return Jm(_L,o.config.apiKey,o.name)}async function CL(o,t,e=!1){if(fn(o.app))return Promise.reject(Na(o));const n=Va(o),r=XC(n,t),c=await new AL(n,r,e).execute();return c&&!e&&(delete c.user._redirectEventId,await n._persistUserIfCurrent(c.user),await n._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL=10*60*1e3;class xL{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(e=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!DL(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var n;if(t.error&&!$C(t)){const r=((n=t.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";e.onError(Ps(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const n=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=RL&&this.cachedEventUids.clear(),this.cachedEventUids.has(KT(t))}saveEventToCache(t){this.cachedEventUids.add(KT(t)),this.lastProcessedEventTime=Date.now()}}function KT(o){return[o.type,o.eventId,o.sessionId,o.tenantId].filter(t=>t).join("-")}function $C({type:o,error:t}){return o==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function DL(o){switch(o.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $C(o);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ML(o,t={}){return Er(o,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kL=/^https?/;async function LL(o){if(o.config.emulator)return;const{authorizedDomains:t}=await ML(o);for(const e of t)try{if(NL(e))return}catch{}ls(o,"unauthorized-domain")}function NL(o){const t=r_(),{protocol:e,hostname:n}=new URL(t);if(o.startsWith("chrome-extension://")){const c=new URL(o);return c.hostname===""&&n===""?e==="chrome-extension:"&&o.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===n}if(!kL.test(e))return!1;if(OL.test(o))return n===o;const r=o.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL=new mg(3e4,6e4);function WT(){const o=br().___jsl;if(o!=null&&o.H){for(const t of Object.keys(o.H))if(o.H[t].r=o.H[t].r||[],o.H[t].L=o.H[t].L||[],o.H[t].r=[...o.H[t].L],o.CP)for(let e=0;e<o.CP.length;e++)o.CP[e]=null}}function PL(o){return new Promise((t,e)=>{var n,r,l;function c(){WT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{WT(),e(Ps(o,"network-request-failed"))},timeout:IL.get()})}if(!((r=(n=br().gapi)===null||n===void 0?void 0:n.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((l=br().gapi)===null||l===void 0)&&l.load)c();else{const h=Sk("iframefcb");return br()[h]=()=>{gapi.load?c():e(Ps(o,"network-request-failed"))},kC(`${Ek()}?onload=${h}`).catch(p=>e(p))}}).catch(t=>{throw ev=null,t})}let ev=null;function FL(o){return ev=ev||PL(o),ev}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL=new mg(5e3,15e3),jL="__/auth/iframe",HL="emulator/auth/iframe",BL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VL(o){const t=o.config;Mt(t.authDomain,o,"auth-domain-config-required");const e=t.emulator?jA(t,HL):`https://${o.config.authDomain}/${jL}`,n={apiKey:t.apiKey,appName:o.name,v:lu},r=zL.get(o.config.apiHost);r&&(n.eid=r);const l=o._getFrameworks();return l.length&&(n.fw=l.join(",")),`${e}?${gg(n).slice(1)}`}async function GL(o){const t=await FL(o),e=br().gapi;return Mt(e,o,"internal-error"),t.open({where:document.body,url:VL(o),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:BL,dontclear:!0},n=>new Promise(async(r,l)=>{await n.restyle({setHideOnLeave:!1});const c=Ps(o,"network-request-failed"),h=br().setTimeout(()=>{l(c)},UL.get());function p(){br().clearTimeout(h),r(n)}n.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},XL=500,YL=600,$L="_blank",KL="http://localhost";class QT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WL(o,t,e,n=XL,r=YL){const l=Math.max((window.screen.availHeight-r)/2,0).toString(),c=Math.max((window.screen.availWidth-n)/2,0).toString();let h="";const p=Object.assign(Object.assign({},qL),{width:n.toString(),height:r.toString(),top:l,left:c}),m=tn().toLowerCase();e&&(h=TC(m)?$L:e),SC(m)&&(t=t||KL,p.scrollbars="yes");const y=Object.entries(p).reduce((A,[S,C])=>`${A}${S}=${C},`,"");if(fk(m)&&h!=="_self")return QL(t||"",h),new QT(null);const _=window.open(t||"",h,y);Mt(_,o,"popup-blocked");try{_.focus()}catch{}return new QT(_)}function QL(o,t){const e=document.createElement("a");e.href=o,e.target=t;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL="__/auth/handler",JL="emulator/auth/handler",tN=encodeURIComponent("fac");async function ZT(o,t,e,n,r,l){Mt(o.config.authDomain,o,"auth-domain-config-required"),Mt(o.config.apiKey,o,"invalid-api-key");const c={apiKey:o.config.apiKey,appName:o.name,authType:e,redirectUrl:n,v:lu,eventId:r};if(t instanceof GA){t.setDefaultLanguage(o.languageCode),c.providerId=t.providerId||"",LM(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(t instanceof yg){const y=t.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}o.tenantId&&(c.tid=o.tenantId);const h=c;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const p=await o._getAppCheckToken(),m=p?`#${tN}=${encodeURIComponent(p)}`:"";return`${eN(o)}?${gg(h).slice(1)}${m}`}function eN({config:o}){return o.emulator?jA(o,JL):`https://${o.authDomain}/${ZL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="webStorageSupport";class iN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=BC,this._completeRedirectFn=CL,this._overrideRedirectResult=SL}async _openPopup(t,e,n,r){var l;ja((l=this.eventManagers[t._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await ZT(t,e,n,r_(),r);return WL(t,c,qA())}async _openRedirect(t,e,n,r){await this._originValidation(t);const l=await ZT(t,e,n,r_(),r);return aL(l),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:r,promise:l}=this.eventManagers[e];return r?Promise.resolve(r):(ja(l,"If manager is not set, promise should be"),l)}const n=this.initAndGetManager(t);return this.eventManagers[e]={promise:n},n.catch(()=>{delete this.eventManagers[e]}),n}async initAndGetManager(t){const e=await GL(t),n=new xL(t);return e.register("authEvent",r=>(Mt(r==null?void 0:r.authEvent,t,"invalid-auth-event"),{status:n.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=e,n}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(B0,{type:B0},r=>{var l;const c=(l=r==null?void 0:r[0])===null||l===void 0?void 0:l[B0];c!==void 0&&e(!!c),ls(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=LL(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return MC()||wC()||BA()}}const nN=iN;var JT="@firebase/auth",t1="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(n=>{t((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Mt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(o){switch(o){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aN(o){Jc(new ul("auth",(t,{options:e})=>{const n=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=n.options;Mt(c&&!c.includes(":"),"invalid-api-key",{appName:n.name});const p={apiKey:c,authDomain:h,clientPlatform:o,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:OC(o)},m=new bk(n,r,l,p);return Dk(m,e),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider("auth-internal").initialize()})),Jc(new ul("auth-internal",t=>{const e=Va(t.getProvider("auth").getImmediate());return(n=>new sN(n))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),yr(JT,t1,rN(o)),yr(JT,t1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN=5*60,lN=lC("authIdTokenMaxAge")||oN;let e1=null;const cN=o=>async t=>{const e=t&&await t.getIdTokenResult(),n=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(n&&n>lN)return;const r=e==null?void 0:e.token;e1!==r&&(e1=r,await fetch(o,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function uN(o=IA()){const t=py(o,"auth");if(t.isInitialized())return t.getImmediate();const e=xk(o,{popupRedirectResolver:nN,persistence:[gL,nL,BC]}),n=lC("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(n,location.origin);if(location.origin===l.origin){const c=cN(l.toString());Zk(e,c,()=>c(e.currentUser)),Qk(e,h=>c(h))}}const r=rC("auth");return r&&Mk(e,`http://${r}`),e}function hN(){var o,t;return(t=(o=document.getElementsByTagName("head"))===null||o===void 0?void 0:o[0])!==null&&t!==void 0?t:document}_k({loadJS(o){return new Promise((t,e)=>{const n=document.createElement("script");n.setAttribute("src",o),n.onload=t,n.onerror=r=>{const l=Ps("internal-error");l.customData=r,e(l)},n.type="text/javascript",n.charset="UTF-8",hN().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aN("Browser");var i1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var KC;(function(){var o;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(L,D){function x(){}x.prototype=D.prototype,L.D=D.prototype,L.prototype=new x,L.prototype.constructor=L,L.C=function(I,H,V){for(var U=Array(arguments.length-2),gt=2;gt<arguments.length;gt++)U[gt-2]=arguments[gt];return D.prototype[H].apply(I,U)}}function e(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(n,e),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(L,D,x){x||(x=0);var I=Array(16);if(typeof D=="string")for(var H=0;16>H;++H)I[H]=D.charCodeAt(x++)|D.charCodeAt(x++)<<8|D.charCodeAt(x++)<<16|D.charCodeAt(x++)<<24;else for(H=0;16>H;++H)I[H]=D[x++]|D[x++]<<8|D[x++]<<16|D[x++]<<24;D=L.g[0],x=L.g[1],H=L.g[2];var V=L.g[3],U=D+(V^x&(H^V))+I[0]+3614090360&4294967295;D=x+(U<<7&4294967295|U>>>25),U=V+(H^D&(x^H))+I[1]+3905402710&4294967295,V=D+(U<<12&4294967295|U>>>20),U=H+(x^V&(D^x))+I[2]+606105819&4294967295,H=V+(U<<17&4294967295|U>>>15),U=x+(D^H&(V^D))+I[3]+3250441966&4294967295,x=H+(U<<22&4294967295|U>>>10),U=D+(V^x&(H^V))+I[4]+4118548399&4294967295,D=x+(U<<7&4294967295|U>>>25),U=V+(H^D&(x^H))+I[5]+1200080426&4294967295,V=D+(U<<12&4294967295|U>>>20),U=H+(x^V&(D^x))+I[6]+2821735955&4294967295,H=V+(U<<17&4294967295|U>>>15),U=x+(D^H&(V^D))+I[7]+4249261313&4294967295,x=H+(U<<22&4294967295|U>>>10),U=D+(V^x&(H^V))+I[8]+1770035416&4294967295,D=x+(U<<7&4294967295|U>>>25),U=V+(H^D&(x^H))+I[9]+2336552879&4294967295,V=D+(U<<12&4294967295|U>>>20),U=H+(x^V&(D^x))+I[10]+4294925233&4294967295,H=V+(U<<17&4294967295|U>>>15),U=x+(D^H&(V^D))+I[11]+2304563134&4294967295,x=H+(U<<22&4294967295|U>>>10),U=D+(V^x&(H^V))+I[12]+1804603682&4294967295,D=x+(U<<7&4294967295|U>>>25),U=V+(H^D&(x^H))+I[13]+4254626195&4294967295,V=D+(U<<12&4294967295|U>>>20),U=H+(x^V&(D^x))+I[14]+2792965006&4294967295,H=V+(U<<17&4294967295|U>>>15),U=x+(D^H&(V^D))+I[15]+1236535329&4294967295,x=H+(U<<22&4294967295|U>>>10),U=D+(H^V&(x^H))+I[1]+4129170786&4294967295,D=x+(U<<5&4294967295|U>>>27),U=V+(x^H&(D^x))+I[6]+3225465664&4294967295,V=D+(U<<9&4294967295|U>>>23),U=H+(D^x&(V^D))+I[11]+643717713&4294967295,H=V+(U<<14&4294967295|U>>>18),U=x+(V^D&(H^V))+I[0]+3921069994&4294967295,x=H+(U<<20&4294967295|U>>>12),U=D+(H^V&(x^H))+I[5]+3593408605&4294967295,D=x+(U<<5&4294967295|U>>>27),U=V+(x^H&(D^x))+I[10]+38016083&4294967295,V=D+(U<<9&4294967295|U>>>23),U=H+(D^x&(V^D))+I[15]+3634488961&4294967295,H=V+(U<<14&4294967295|U>>>18),U=x+(V^D&(H^V))+I[4]+3889429448&4294967295,x=H+(U<<20&4294967295|U>>>12),U=D+(H^V&(x^H))+I[9]+568446438&4294967295,D=x+(U<<5&4294967295|U>>>27),U=V+(x^H&(D^x))+I[14]+3275163606&4294967295,V=D+(U<<9&4294967295|U>>>23),U=H+(D^x&(V^D))+I[3]+4107603335&4294967295,H=V+(U<<14&4294967295|U>>>18),U=x+(V^D&(H^V))+I[8]+1163531501&4294967295,x=H+(U<<20&4294967295|U>>>12),U=D+(H^V&(x^H))+I[13]+2850285829&4294967295,D=x+(U<<5&4294967295|U>>>27),U=V+(x^H&(D^x))+I[2]+4243563512&4294967295,V=D+(U<<9&4294967295|U>>>23),U=H+(D^x&(V^D))+I[7]+1735328473&4294967295,H=V+(U<<14&4294967295|U>>>18),U=x+(V^D&(H^V))+I[12]+2368359562&4294967295,x=H+(U<<20&4294967295|U>>>12),U=D+(x^H^V)+I[5]+4294588738&4294967295,D=x+(U<<4&4294967295|U>>>28),U=V+(D^x^H)+I[8]+2272392833&4294967295,V=D+(U<<11&4294967295|U>>>21),U=H+(V^D^x)+I[11]+1839030562&4294967295,H=V+(U<<16&4294967295|U>>>16),U=x+(H^V^D)+I[14]+4259657740&4294967295,x=H+(U<<23&4294967295|U>>>9),U=D+(x^H^V)+I[1]+2763975236&4294967295,D=x+(U<<4&4294967295|U>>>28),U=V+(D^x^H)+I[4]+1272893353&4294967295,V=D+(U<<11&4294967295|U>>>21),U=H+(V^D^x)+I[7]+4139469664&4294967295,H=V+(U<<16&4294967295|U>>>16),U=x+(H^V^D)+I[10]+3200236656&4294967295,x=H+(U<<23&4294967295|U>>>9),U=D+(x^H^V)+I[13]+681279174&4294967295,D=x+(U<<4&4294967295|U>>>28),U=V+(D^x^H)+I[0]+3936430074&4294967295,V=D+(U<<11&4294967295|U>>>21),U=H+(V^D^x)+I[3]+3572445317&4294967295,H=V+(U<<16&4294967295|U>>>16),U=x+(H^V^D)+I[6]+76029189&4294967295,x=H+(U<<23&4294967295|U>>>9),U=D+(x^H^V)+I[9]+3654602809&4294967295,D=x+(U<<4&4294967295|U>>>28),U=V+(D^x^H)+I[12]+3873151461&4294967295,V=D+(U<<11&4294967295|U>>>21),U=H+(V^D^x)+I[15]+530742520&4294967295,H=V+(U<<16&4294967295|U>>>16),U=x+(H^V^D)+I[2]+3299628645&4294967295,x=H+(U<<23&4294967295|U>>>9),U=D+(H^(x|~V))+I[0]+4096336452&4294967295,D=x+(U<<6&4294967295|U>>>26),U=V+(x^(D|~H))+I[7]+1126891415&4294967295,V=D+(U<<10&4294967295|U>>>22),U=H+(D^(V|~x))+I[14]+2878612391&4294967295,H=V+(U<<15&4294967295|U>>>17),U=x+(V^(H|~D))+I[5]+4237533241&4294967295,x=H+(U<<21&4294967295|U>>>11),U=D+(H^(x|~V))+I[12]+1700485571&4294967295,D=x+(U<<6&4294967295|U>>>26),U=V+(x^(D|~H))+I[3]+2399980690&4294967295,V=D+(U<<10&4294967295|U>>>22),U=H+(D^(V|~x))+I[10]+4293915773&4294967295,H=V+(U<<15&4294967295|U>>>17),U=x+(V^(H|~D))+I[1]+2240044497&4294967295,x=H+(U<<21&4294967295|U>>>11),U=D+(H^(x|~V))+I[8]+1873313359&4294967295,D=x+(U<<6&4294967295|U>>>26),U=V+(x^(D|~H))+I[15]+4264355552&4294967295,V=D+(U<<10&4294967295|U>>>22),U=H+(D^(V|~x))+I[6]+2734768916&4294967295,H=V+(U<<15&4294967295|U>>>17),U=x+(V^(H|~D))+I[13]+1309151649&4294967295,x=H+(U<<21&4294967295|U>>>11),U=D+(H^(x|~V))+I[4]+4149444226&4294967295,D=x+(U<<6&4294967295|U>>>26),U=V+(x^(D|~H))+I[11]+3174756917&4294967295,V=D+(U<<10&4294967295|U>>>22),U=H+(D^(V|~x))+I[2]+718787259&4294967295,H=V+(U<<15&4294967295|U>>>17),U=x+(V^(H|~D))+I[9]+3951481745&4294967295,L.g[0]=L.g[0]+D&4294967295,L.g[1]=L.g[1]+(H+(U<<21&4294967295|U>>>11))&4294967295,L.g[2]=L.g[2]+H&4294967295,L.g[3]=L.g[3]+V&4294967295}n.prototype.u=function(L,D){D===void 0&&(D=L.length);for(var x=D-this.blockSize,I=this.B,H=this.h,V=0;V<D;){if(H==0)for(;V<=x;)r(this,L,V),V+=this.blockSize;if(typeof L=="string"){for(;V<D;)if(I[H++]=L.charCodeAt(V++),H==this.blockSize){r(this,I),H=0;break}}else for(;V<D;)if(I[H++]=L[V++],H==this.blockSize){r(this,I),H=0;break}}this.h=H,this.o+=D},n.prototype.v=function(){var L=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);L[0]=128;for(var D=1;D<L.length-8;++D)L[D]=0;var x=8*this.o;for(D=L.length-8;D<L.length;++D)L[D]=x&255,x/=256;for(this.u(L),L=Array(16),D=x=0;4>D;++D)for(var I=0;32>I;I+=8)L[x++]=this.g[D]>>>I&255;return L};function l(L,D){var x=h;return Object.prototype.hasOwnProperty.call(x,L)?x[L]:x[L]=D(L)}function c(L,D){this.h=D;for(var x=[],I=!0,H=L.length-1;0<=H;H--){var V=L[H]|0;I&&V==D||(x[H]=V,I=!1)}this.g=x}var h={};function p(L){return-128<=L&&128>L?l(L,function(D){return new c([D|0],0>D?-1:0)}):new c([L|0],0>L?-1:0)}function m(L){if(isNaN(L)||!isFinite(L))return _;if(0>L)return j(m(-L));for(var D=[],x=1,I=0;L>=x;I++)D[I]=L/x|0,x*=4294967296;return new c(D,0)}function y(L,D){if(L.length==0)throw Error("number format error: empty string");if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(L.charAt(0)=="-")return j(y(L.substring(1),D));if(0<=L.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=m(Math.pow(D,8)),I=_,H=0;H<L.length;H+=8){var V=Math.min(8,L.length-H),U=parseInt(L.substring(H,H+V),D);8>V?(V=m(Math.pow(D,V)),I=I.j(V).add(m(U))):(I=I.j(x),I=I.add(m(U)))}return I}var _=p(0),A=p(1),S=p(16777216);o=c.prototype,o.m=function(){if(M(this))return-j(this).m();for(var L=0,D=1,x=0;x<this.g.length;x++){var I=this.i(x);L+=(0<=I?I:4294967296+I)*D,D*=4294967296}return L},o.toString=function(L){if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(C(this))return"0";if(M(this))return"-"+j(this).toString(L);for(var D=m(Math.pow(L,6)),x=this,I="";;){var H=Y(x,D).g;x=P(x,H.j(D));var V=((0<x.g.length?x.g[0]:x.h)>>>0).toString(L);if(x=H,C(x))return V+I;for(;6>V.length;)V="0"+V;I=V+I}},o.i=function(L){return 0>L?0:L<this.g.length?this.g[L]:this.h};function C(L){if(L.h!=0)return!1;for(var D=0;D<L.g.length;D++)if(L.g[D]!=0)return!1;return!0}function M(L){return L.h==-1}o.l=function(L){return L=P(this,L),M(L)?-1:C(L)?0:1};function j(L){for(var D=L.g.length,x=[],I=0;I<D;I++)x[I]=~L.g[I];return new c(x,~L.h).add(A)}o.abs=function(){return M(this)?j(this):this},o.add=function(L){for(var D=Math.max(this.g.length,L.g.length),x=[],I=0,H=0;H<=D;H++){var V=I+(this.i(H)&65535)+(L.i(H)&65535),U=(V>>>16)+(this.i(H)>>>16)+(L.i(H)>>>16);I=U>>>16,V&=65535,U&=65535,x[H]=U<<16|V}return new c(x,x[x.length-1]&-2147483648?-1:0)};function P(L,D){return L.add(j(D))}o.j=function(L){if(C(this)||C(L))return _;if(M(this))return M(L)?j(this).j(j(L)):j(j(this).j(L));if(M(L))return j(this.j(j(L)));if(0>this.l(S)&&0>L.l(S))return m(this.m()*L.m());for(var D=this.g.length+L.g.length,x=[],I=0;I<2*D;I++)x[I]=0;for(I=0;I<this.g.length;I++)for(var H=0;H<L.g.length;H++){var V=this.i(I)>>>16,U=this.i(I)&65535,gt=L.i(H)>>>16,At=L.i(H)&65535;x[2*I+2*H]+=U*At,z(x,2*I+2*H),x[2*I+2*H+1]+=V*At,z(x,2*I+2*H+1),x[2*I+2*H+1]+=U*gt,z(x,2*I+2*H+1),x[2*I+2*H+2]+=V*gt,z(x,2*I+2*H+2)}for(I=0;I<D;I++)x[I]=x[2*I+1]<<16|x[2*I];for(I=D;I<2*D;I++)x[I]=0;return new c(x,0)};function z(L,D){for(;(L[D]&65535)!=L[D];)L[D+1]+=L[D]>>>16,L[D]&=65535,D++}function G(L,D){this.g=L,this.h=D}function Y(L,D){if(C(D))throw Error("division by zero");if(C(L))return new G(_,_);if(M(L))return D=Y(j(L),D),new G(j(D.g),j(D.h));if(M(D))return D=Y(L,j(D)),new G(j(D.g),D.h);if(30<L.g.length){if(M(L)||M(D))throw Error("slowDivide_ only works with positive integers.");for(var x=A,I=D;0>=I.l(L);)x=W(x),I=W(I);var H=X(x,1),V=X(I,1);for(I=X(I,2),x=X(x,2);!C(I);){var U=V.add(I);0>=U.l(L)&&(H=H.add(x),V=U),I=X(I,1),x=X(x,1)}return D=P(L,H.j(D)),new G(H,D)}for(H=_;0<=L.l(D);){for(x=Math.max(1,Math.floor(L.m()/D.m())),I=Math.ceil(Math.log(x)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),V=m(x),U=V.j(D);M(U)||0<U.l(L);)x-=I,V=m(x),U=V.j(D);C(V)&&(V=A),H=H.add(V),L=P(L,U)}return new G(H,L)}o.A=function(L){return Y(this,L).h},o.and=function(L){for(var D=Math.max(this.g.length,L.g.length),x=[],I=0;I<D;I++)x[I]=this.i(I)&L.i(I);return new c(x,this.h&L.h)},o.or=function(L){for(var D=Math.max(this.g.length,L.g.length),x=[],I=0;I<D;I++)x[I]=this.i(I)|L.i(I);return new c(x,this.h|L.h)},o.xor=function(L){for(var D=Math.max(this.g.length,L.g.length),x=[],I=0;I<D;I++)x[I]=this.i(I)^L.i(I);return new c(x,this.h^L.h)};function W(L){for(var D=L.g.length+1,x=[],I=0;I<D;I++)x[I]=L.i(I)<<1|L.i(I-1)>>>31;return new c(x,L.h)}function X(L,D){var x=D>>5;D%=32;for(var I=L.g.length-x,H=[],V=0;V<I;V++)H[V]=0<D?L.i(V+x)>>>D|L.i(V+x+1)<<32-D:L.i(V+x);return new c(H,L.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=y,KC=c}).apply(typeof i1<"u"?i1:typeof self<"u"?self:typeof window<"u"?window:{});var Gm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var o,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,b,E){return f==Array.prototype||f==Object.prototype||(f[b]=E.value),f};function e(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gm=="object"&&Gm];for(var b=0;b<f.length;++b){var E=f[b];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var n=e(this);function r(f,b){if(b)t:{var E=n;f=f.split(".");for(var N=0;N<f.length-1;N++){var Z=f[N];if(!(Z in E))break t;E=E[Z]}f=f[f.length-1],N=E[f],b=b(N),b!=N&&b!=null&&t(E,f,{configurable:!0,writable:!0,value:b})}}function l(f,b){f instanceof String&&(f+="");var E=0,N=!1,Z={next:function(){if(!N&&E<f.length){var et=E++;return{value:b(et,f[et]),done:!1}}return N=!0,{done:!0,value:void 0}}};return Z[Symbol.iterator]=function(){return Z},Z}r("Array.prototype.values",function(f){return f||function(){return l(this,function(b,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function p(f){var b=typeof f;return b=b!="object"?b:f?Array.isArray(f)?"array":b:"null",b=="array"||b=="object"&&typeof f.length=="number"}function m(f){var b=typeof f;return b=="object"&&f!=null||b=="function"}function y(f,b,E){return f.call.apply(f.bind,arguments)}function _(f,b,E){if(!f)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var Z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Z,N),f.apply(b,Z)}}return function(){return f.apply(b,arguments)}}function A(f,b,E){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,A.apply(null,arguments)}function S(f,b){var E=Array.prototype.slice.call(arguments,1);return function(){var N=E.slice();return N.push.apply(N,arguments),f.apply(this,N)}}function C(f,b){function E(){}E.prototype=b.prototype,f.aa=b.prototype,f.prototype=new E,f.prototype.constructor=f,f.Qb=function(N,Z,et){for(var dt=Array(arguments.length-2),se=2;se<arguments.length;se++)dt[se-2]=arguments[se];return b.prototype[Z].apply(N,dt)}}function M(f){const b=f.length;if(0<b){const E=Array(b);for(let N=0;N<b;N++)E[N]=f[N];return E}return[]}function j(f,b){for(let E=1;E<arguments.length;E++){const N=arguments[E];if(p(N)){const Z=f.length||0,et=N.length||0;f.length=Z+et;for(let dt=0;dt<et;dt++)f[Z+dt]=N[dt]}else f.push(N)}}class P{constructor(b,E){this.i=b,this.j=E,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function z(f){return/^[\s\xa0]*$/.test(f)}function G(){var f=h.navigator;return f&&(f=f.userAgent)?f:""}function Y(f){return Y[" "](f),f}Y[" "]=function(){};var W=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function X(f,b,E){for(const N in f)b.call(E,f[N],N,f)}function L(f,b){for(const E in f)b.call(void 0,f[E],E,f)}function D(f){const b={};for(const E in f)b[E]=f[E];return b}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(f,b){let E,N;for(let Z=1;Z<arguments.length;Z++){N=arguments[Z];for(E in N)f[E]=N[E];for(let et=0;et<x.length;et++)E=x[et],Object.prototype.hasOwnProperty.call(N,E)&&(f[E]=N[E])}}function H(f){var b=1;f=f.split(":");const E=[];for(;0<b&&f.length;)E.push(f.shift()),b--;return f.length&&E.push(f.join(":")),E}function V(f){h.setTimeout(()=>{throw f},0)}function U(){var f=Ot;let b=null;return f.g&&(b=f.g,f.g=f.g.next,f.g||(f.h=null),b.next=null),b}class gt{constructor(){this.h=this.g=null}add(b,E){const N=At.get();N.set(b,E),this.h?this.h.next=N:this.g=N,this.h=N}}var At=new P(()=>new st,f=>f.reset());class st{constructor(){this.next=this.g=this.h=null}set(b,E){this.h=b,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let at,ct=!1,Ot=new gt,q=()=>{const f=h.Promise.resolve(void 0);at=()=>{f.then(ot)}};var ot=()=>{for(var f;f=U();){try{f.h.call(f.g)}catch(E){V(E)}var b=At;b.j(f),100>b.h&&(b.h++,f.next=b.g,b.g=f)}ct=!1};function pt(){this.s=this.s,this.C=this.C}pt.prototype.s=!1,pt.prototype.ma=function(){this.s||(this.s=!0,this.N())},pt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ht(f,b){this.type=f,this.g=this.target=b,this.defaultPrevented=!1}ht.prototype.h=function(){this.defaultPrevented=!0};var ft=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var f=!1,b=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};h.addEventListener("test",E,b),h.removeEventListener("test",E,b)}catch{}return f}();function Rt(f,b){if(ht.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var E=this.type=f.type,N=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=b,b=f.relatedTarget){if(W){t:{try{Y(b.nodeName);var Z=!0;break t}catch{}Z=!1}Z||(b=null)}}else E=="mouseover"?b=f.fromElement:E=="mouseout"&&(b=f.toElement);this.relatedTarget=b,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:_t[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Rt.aa.h.call(this)}}C(Rt,ht);var _t={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var xt="closure_listenable_"+(1e6*Math.random()|0),Pt=0;function Wt(f,b,E,N,Z){this.listener=f,this.proxy=null,this.src=b,this.type=E,this.capture=!!N,this.ha=Z,this.key=++Pt,this.da=this.fa=!1}function Tt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function He(f){this.src=f,this.g={},this.h=0}He.prototype.add=function(f,b,E,N,Z){var et=f.toString();f=this.g[et],f||(f=this.g[et]=[],this.h++);var dt=Bt(f,b,N,Z);return-1<dt?(b=f[dt],E||(b.fa=!1)):(b=new Wt(b,this.src,et,!!N,Z),b.fa=E,f.push(b)),b};function Bi(f,b){var E=b.type;if(E in f.g){var N=f.g[E],Z=Array.prototype.indexOf.call(N,b,void 0),et;(et=0<=Z)&&Array.prototype.splice.call(N,Z,1),et&&(Tt(b),f.g[E].length==0&&(delete f.g[E],f.h--))}}function Bt(f,b,E,N){for(var Z=0;Z<f.length;++Z){var et=f[Z];if(!et.da&&et.listener==b&&et.capture==!!E&&et.ha==N)return Z}return-1}var oe="closure_lm_"+(1e6*Math.random()|0),Ee={};function de(f,b,E,N,Z){if(Array.isArray(b)){for(var et=0;et<b.length;et++)de(f,b[et],E,N,Z);return null}return E=fu(E),f&&f[xt]?f.K(b,E,m(N)?!!N.capture:!1,Z):Pn(f,b,E,!1,N,Z)}function Pn(f,b,E,N,Z,et){if(!b)throw Error("Invalid event type");var dt=m(Z)?!!Z.capture:!!Z,se=ml(f);if(se||(f[oe]=se=new He(f)),E=se.add(b,E,N,dt,et),E.proxy)return E;if(N=Fn(),E.proxy=N,N.src=f,N.listener=E,f.addEventListener)ft||(Z=dt),Z===void 0&&(Z=!1),f.addEventListener(b.toString(),N,Z);else if(f.attachEvent)f.attachEvent(us(b.toString()),N);else if(f.addListener&&f.removeListener)f.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Fn(){function f(E){return b.call(f.src,f.listener,E)}const b=vd;return f}function Ga(f,b,E,N,Z){if(Array.isArray(b))for(var et=0;et<b.length;et++)Ga(f,b[et],E,N,Z);else N=m(N)?!!N.capture:!!N,E=fu(E),f&&f[xt]?(f=f.i,b=String(b).toString(),b in f.g&&(et=f.g[b],E=Bt(et,E,N,Z),-1<E&&(Tt(et[E]),Array.prototype.splice.call(et,E,1),et.length==0&&(delete f.g[b],f.h--)))):f&&(f=ml(f))&&(b=f.g[b.toString()],f=-1,b&&(f=Bt(b,E,N,Z)),(E=-1<f?b[f]:null)&&wr(E))}function wr(f){if(typeof f!="number"&&f&&!f.da){var b=f.src;if(b&&b[xt])Bi(b.i,f);else{var E=f.type,N=f.proxy;b.removeEventListener?b.removeEventListener(E,N,f.capture):b.detachEvent?b.detachEvent(us(E),N):b.addListener&&b.removeListener&&b.removeListener(N),(E=ml(b))?(Bi(E,f),E.h==0&&(E.src=null,b[oe]=null)):Tt(f)}}}function us(f){return f in Ee?Ee[f]:Ee[f]="on"+f}function vd(f,b){if(f.da)f=!0;else{b=new Rt(b,this);var E=f.listener,N=f.ha||f.src;f.fa&&wr(f),f=E.call(N,b)}return f}function ml(f){return f=f[oe],f instanceof He?f:null}var xi="__closure_events_fn_"+(1e9*Math.random()>>>0);function fu(f){return typeof f=="function"?f:(f[xi]||(f[xi]=function(b){return f.handleEvent(b)}),f[xi])}function Be(){pt.call(this),this.i=new He(this),this.M=this,this.F=null}C(Be,pt),Be.prototype[xt]=!0,Be.prototype.removeEventListener=function(f,b,E,N){Ga(this,f,b,E,N)};function Se(f,b){var E,N=f.F;if(N)for(E=[];N;N=N.F)E.push(N);if(f=f.M,N=b.type||b,typeof b=="string")b=new ht(b,f);else if(b instanceof ht)b.target=b.target||f;else{var Z=b;b=new ht(N,f),I(b,Z)}if(Z=!0,E)for(var et=E.length-1;0<=et;et--){var dt=b.g=E[et];Z=en(dt,N,!0,b)&&Z}if(dt=b.g=f,Z=en(dt,N,!0,b)&&Z,Z=en(dt,N,!1,b)&&Z,E)for(et=0;et<E.length;et++)dt=b.g=E[et],Z=en(dt,N,!1,b)&&Z}Be.prototype.N=function(){if(Be.aa.N.call(this),this.i){var f=this.i,b;for(b in f.g){for(var E=f.g[b],N=0;N<E.length;N++)Tt(E[N]);delete f.g[b],f.h--}}this.F=null},Be.prototype.K=function(f,b,E,N){return this.i.add(String(f),b,!1,E,N)},Be.prototype.L=function(f,b,E,N){return this.i.add(String(f),b,!0,E,N)};function en(f,b,E,N){if(b=f.i.g[String(b)],!b)return!0;b=b.concat();for(var Z=!0,et=0;et<b.length;++et){var dt=b[et];if(dt&&!dt.da&&dt.capture==E){var se=dt.listener,Te=dt.ha||dt.src;dt.fa&&Bi(f.i,dt),Z=se.call(Te,N)!==!1&&Z}}return Z&&!N.defaultPrevented}function Tr(f,b,E){if(typeof f=="function")E&&(f=A(f,E));else if(f&&typeof f.handleEvent=="function")f=A(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:h.setTimeout(f,b||0)}function Cr(f){f.g=Tr(()=>{f.g=null,f.i&&(f.i=!1,Cr(f))},f.l);const b=f.h;f.h=null,f.m.apply(null,b)}class My extends pt{constructor(b,E){super(),this.m=b,this.l=E,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Cr(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vl(f){pt.call(this),this.h=f,this.g={}}C(vl,pt);var qa=[];function Di(f){X(f.g,function(b,E){this.g.hasOwnProperty(E)&&wr(b)},f),f.g={}}vl.prototype.N=function(){vl.aa.N.call(this),Di(this)},vl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yd=h.JSON.stringify,Us=h.JSON.parse,zi=class{stringify(f){return h.JSON.stringify(f,void 0)}parse(f){return h.JSON.parse(f,void 0)}};function bd(){}bd.prototype.h=null;function Tg(f){return f.h||(f.h=f.i())}function Oy(){}var js={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xa(){ht.call(this,"d")}C(Xa,ht);function hs(){ht.call(this,"c")}C(hs,ht);var ds={},Ya=null;function _d(){return Ya=Ya||new Be}ds.La="serverreachability";function Ad(f){ht.call(this,ds.La,f)}C(Ad,ht);function $a(f){const b=_d();Se(b,new Ad(b))}ds.STAT_EVENT="statevent";function pu(f,b){ht.call(this,ds.STAT_EVENT,f),this.stat=b}C(pu,ht);function ze(f){const b=_d();Se(b,new pu(b,f))}ds.Ma="timingevent";function Cg(f,b){ht.call(this,ds.Ma,f),this.size=b}C(Cg,ht);function Ka(f,b){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){f()},b)}function Wa(){this.g=!0}Wa.prototype.xa=function(){this.g=!1};function Rg(f,b,E,N,Z,et){f.info(function(){if(f.g)if(et)for(var dt="",se=et.split("&"),Te=0;Te<se.length;Te++){var Qt=se[Te].split("=");if(1<Qt.length){var ci=Qt[0];Qt=Qt[1];var ui=ci.split("_");dt=2<=ui.length&&ui[1]=="type"?dt+(ci+"="+Qt+"&"):dt+(ci+"=redacted&")}}else dt=null;else dt=et;return"XMLHTTP REQ ("+N+") [attempt "+Z+"]: "+b+`
`+E+`
`+dt})}function xg(f,b,E,N,Z,et,dt){f.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+Z+"]: "+b+`
`+E+`
`+et+" "+dt})}function Qa(f,b,E,N){f.info(function(){return"XMLHTTP TEXT ("+b+"): "+ai(f,E)+(N?" "+N:"")})}function Hs(f,b){f.info(function(){return"TIMEOUT: "+b})}Wa.prototype.info=function(){};function ai(f,b){if(!f.g)return b;if(!b)return null;try{var E=JSON.parse(b);if(E){for(f=0;f<E.length;f++)if(Array.isArray(E[f])){var N=E[f];if(!(2>N.length)){var Z=N[1];if(Array.isArray(Z)&&!(1>Z.length)){var et=Z[0];if(et!="noop"&&et!="stop"&&et!="close")for(var dt=1;dt<Z.length;dt++)Z[dt]=""}}}}return yd(E)}catch{return b}}var oi={NO_ERROR:0,TIMEOUT:8},Za={},yl;function gu(){}C(gu,bd),gu.prototype.g=function(){return new XMLHttpRequest},gu.prototype.i=function(){return{}},yl=new gu;function Bs(f,b,E,N){this.j=f,this.i=b,this.l=E,this.R=N||1,this.U=new vl(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ed}function Ed(){this.i=null,this.g="",this.h=!1}var Ja={},bl={};function fs(f,b,E){f.L=1,f.v=El(Ne(b)),f.m=E,f.P=!0,Rr(f,null)}function Rr(f,b){f.F=Date.now(),Re(f),f.A=Ne(f.v);var E=f.A,N=f.R;Array.isArray(N)||(N=[String(N)]),Mr(E.i,"t",N),f.C=0,E=f.j.J,f.h=new Ed,f.g=zg(f.j,E?b:null,!f.m),0<f.O&&(f.M=new My(A(f.Y,f,f.g),f.O)),b=f.U,E=f.g,N=f.ca;var Z="readystatechange";Array.isArray(Z)||(Z&&(qa[0]=Z.toString()),Z=qa);for(var et=0;et<Z.length;et++){var dt=de(E,Z[et],N||b.handleEvent,!1,b.h||b);if(!dt)break;b.g[dt.key]=dt}b=f.H?D(f.H):{},f.m?(f.u||(f.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,b)):(f.u="GET",f.g.ea(f.A,f.u,null,b)),$a(),Rg(f.i,f.u,f.A,f.l,f.R,f.m)}Bs.prototype.ca=function(f){f=f.target;const b=this.M;b&&zn(f)==3?b.j():this.Y(f)},Bs.prototype.Y=function(f){try{if(f==this.g)t:{const ui=zn(this.g);var b=this.g.Ba();const Nr=this.g.Z();if(!(3>ui)&&(ui!=3||this.g&&(this.h.h||this.g.oa()||Ng(this.g)))){this.J||ui!=4||b==7||(b==8||0>=Nr?$a(3):$a(2)),mu(this);var E=this.g.Z();this.X=E;e:if(to(this)){var N=Ng(this.g);f="";var Z=N.length,et=zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){nn(this),vn(this);var dt="";break e}this.h.i=new h.TextDecoder}for(b=0;b<Z;b++)this.h.h=!0,f+=this.h.i.decode(N[b],{stream:!(et&&b==Z-1)});N.length=0,this.h.g+=f,this.C=0,dt=this.h.g}else dt=this.g.oa();if(this.o=E==200,xg(this.i,this.u,this.A,this.l,this.R,ui,E),this.o){if(this.T&&!this.K){e:{if(this.g){var se,Te=this.g;if((se=Te.g?Te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(se)){var Qt=se;break e}}Qt=null}if(E=Qt)Qa(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yn(this,E);else{this.o=!1,this.s=3,ze(12),nn(this),vn(this);break t}}if(this.P){E=!0;let rn;for(;!this.J&&this.C<dt.length;)if(rn=eo(this,dt),rn==bl){ui==4&&(this.s=4,ze(14),E=!1),Qa(this.i,this.l,null,"[Incomplete Response]");break}else if(rn==Ja){this.s=4,ze(15),Qa(this.i,this.l,dt,"[Invalid Chunk]"),E=!1;break}else Qa(this.i,this.l,rn,null),yn(this,rn);if(to(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ui!=4||dt.length!=0||this.h.h||(this.s=1,ze(16),E=!1),this.o=this.o&&E,!E)Qa(this.i,this.l,dt,"[Invalid Chunked Response]"),nn(this),vn(this);else if(0<dt.length&&!this.W){this.W=!0;var ci=this.j;ci.g==this&&ci.ba&&!ci.M&&(ci.j.info("Great, no buffering proxy detected. Bytes received: "+dt.length),Dl(ci),ci.M=!0,ze(11))}}else Qa(this.i,this.l,dt,null),yn(this,dt);ui==4&&nn(this),this.o&&!this.J&&(ui==4?jg(this.j,this):(this.o=!1,Re(this)))}else Fy(this.g),E==400&&0<dt.indexOf("Unknown SID")?(this.s=3,ze(12)):(this.s=0,ze(13)),nn(this),vn(this)}}}catch{}finally{}};function to(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function eo(f,b){var E=f.C,N=b.indexOf(`
`,E);return N==-1?bl:(E=Number(b.substring(E,N)),isNaN(E)?Ja:(N+=1,N+E>b.length?bl:(b=b.slice(N,N+E),f.C=N+E,b)))}Bs.prototype.cancel=function(){this.J=!0,nn(this)};function Re(f){f.S=Date.now()+f.I,Sd(f,f.I)}function Sd(f,b){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Ka(A(f.ba,f),b)}function mu(f){f.B&&(h.clearTimeout(f.B),f.B=null)}Bs.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Hs(this.i,this.A),this.L!=2&&($a(),ze(17)),nn(this),this.s=2,vn(this)):Sd(this,this.S-f)};function vn(f){f.j.G==0||f.J||jg(f.j,f)}function nn(f){mu(f);var b=f.M;b&&typeof b.ma=="function"&&b.ma(),f.M=null,Di(f.U),f.g&&(b=f.g,f.g=null,b.abort(),b.ma())}function yn(f,b){try{var E=f.j;if(E.G!=0&&(E.g==f||io(E.h,f))){if(!f.K&&io(E.h,f)&&E.G==3){try{var N=E.Da.g.parse(b)}catch{N=null}if(Array.isArray(N)&&N.length==3){var Z=N;if(Z[0]==0){t:if(!E.u){if(E.g)if(E.g.F+3e3<f.F)Cu(E),wu(E);else break t;Nd(E),ze(18)}}else E.za=Z[1],0<E.za-E.T&&37500>Z[2]&&E.F&&E.v==0&&!E.C&&(E.C=Ka(A(E.Za,E),6e3));if(1>=Dg(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Lr(E,11)}else if((f.K||E.g==f)&&Cu(E),!z(b))for(Z=E.Da.g.parse(b),b=0;b<Z.length;b++){let Qt=Z[b];if(E.T=Qt[0],Qt=Qt[1],E.G==2)if(Qt[0]=="c"){E.K=Qt[1],E.ia=Qt[2];const ci=Qt[3];ci!=null&&(E.la=ci,E.j.info("VER="+E.la));const ui=Qt[4];ui!=null&&(E.Aa=ui,E.j.info("SVER="+E.Aa));const Nr=Qt[5];Nr!=null&&typeof Nr=="number"&&0<Nr&&(N=1.5*Nr,E.L=N,E.j.info("backChannelRequestTimeoutMs_="+N)),N=E;const rn=f.g;if(rn){const Ys=rn.g?rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ys){var et=N.h;et.g||Ys.indexOf("spdy")==-1&&Ys.indexOf("quic")==-1&&Ys.indexOf("h2")==-1||(et.j=et.l,et.g=new Set,et.h&&(no(et,et.h),et.h=null))}if(N.D){const Ir=rn.g?rn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ir&&(N.ya=Ir,te(N.I,N.D,Ir))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-f.F,E.j.info("Handshake RTT: "+E.R+"ms")),N=E;var dt=f;if(N.qa=Bg(N,N.J?N.ia:null,N.W),dt.K){Un(N.h,dt);var se=dt,Te=N.L;Te&&(se.I=Te),se.B&&(mu(se),Re(se)),N.g=dt}else Fg(N);0<E.i.length&&Tu(E)}else Qt[0]!="stop"&&Qt[0]!="close"||Lr(E,7);else E.G==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?Lr(E,7):kd(E):Qt[0]!="noop"&&E.l&&E.l.ta(Qt),E.v=0)}}$a(4)}catch{}}var ky=class{constructor(f,b){this.g=f,this.map=b}};function wd(f){this.l=f||10,h.PerformanceNavigationTiming?(f=h.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Td(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Dg(f){return f.h?1:f.g?f.g.size:0}function io(f,b){return f.h?f.h==b:f.g?f.g.has(b):!1}function no(f,b){f.g?f.g.add(b):f.h=b}function Un(f,b){f.h&&f.h==b?f.h=null:f.g&&f.g.has(b)&&f.g.delete(b)}wd.prototype.cancel=function(){if(this.i=Vi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Vi(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let b=f.i;for(const E of f.g.values())b=b.concat(E.D);return b}return M(f.i)}function Mg(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(p(f)){for(var b=[],E=f.length,N=0;N<E;N++)b.push(f[N]);return b}b=[],E=0;for(N in f)b[E++]=f[N];return b}function Ly(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(p(f)||typeof f=="string"){var b=[];f=f.length;for(var E=0;E<f;E++)b.push(E);return b}b=[],E=0;for(const N in f)b[E++]=N;return b}}}function _l(f,b){if(f.forEach&&typeof f.forEach=="function")f.forEach(b,void 0);else if(p(f)||typeof f=="string")Array.prototype.forEach.call(f,b,void 0);else for(var E=Ly(f),N=Mg(f),Z=N.length,et=0;et<Z;et++)b.call(void 0,N[et],E&&E[et],f)}var Cd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vu(f,b){if(f){f=f.split("&");for(var E=0;E<f.length;E++){var N=f[E].indexOf("="),Z=null;if(0<=N){var et=f[E].substring(0,N);Z=f[E].substring(N+1)}else et=f[E];b(et,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function xr(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof xr){this.h=f.h,so(this,f.j),this.o=f.o,this.g=f.g,Al(this,f.s),this.l=f.l;var b=f.i,E=new zs;E.i=b.i,b.g&&(E.g=new Map(b.g),E.h=b.h),yu(this,E),this.m=f.m}else f&&(b=String(f).match(Cd))?(this.h=!1,so(this,b[1]||"",!0),this.o=ro(b[2]||""),this.g=ro(b[3]||"",!0),Al(this,b[4]),this.l=ro(b[5]||"",!0),yu(this,b[6]||"",!0),this.m=ro(b[7]||"")):(this.h=!1,this.i=new zs(null,this.h))}xr.prototype.toString=function(){var f=[],b=this.j;b&&f.push(jn(b,Rd,!0),":");var E=this.g;return(E||b=="file")&&(f.push("//"),(b=this.o)&&f.push(jn(b,Rd,!0),"@"),f.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&f.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(jn(E,E.charAt(0)=="/"?xd:Og,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",jn(E,Py)),f.join("")};function Ne(f){return new xr(f)}function so(f,b,E){f.j=E?ro(b,!0):b,f.j&&(f.j=f.j.replace(/:$/,""))}function Al(f,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);f.s=b}else f.s=null}function yu(f,b,E){b instanceof zs?(f.i=b,Dd(f.i,f.h)):(E||(b=jn(b,Iy)),f.i=new zs(b,f.h))}function te(f,b,E){f.i.set(b,E)}function El(f){return te(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function ro(f,b){return f?b?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function jn(f,b,E){return typeof f=="string"?(f=encodeURI(f).replace(b,Ny),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Ny(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Rd=/[#\/\?@]/g,Og=/[#\?:]/g,xd=/[#\?]/g,Iy=/[#\?@]/g,Py=/#/g;function zs(f,b){this.h=this.g=null,this.i=f||null,this.j=!!b}function Hn(f){f.g||(f.g=new Map,f.h=0,f.i&&vu(f.i,function(b,E){f.add(decodeURIComponent(b.replace(/\+/g," ")),E)}))}o=zs.prototype,o.add=function(f,b){Hn(this),this.i=null,f=Or(this,f);var E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(b),this.h+=1,this};function bu(f,b){Hn(f),b=Or(f,b),f.g.has(b)&&(f.i=null,f.h-=f.g.get(b).length,f.g.delete(b))}function Dr(f,b){return Hn(f),b=Or(f,b),f.g.has(b)}o.forEach=function(f,b){Hn(this),this.g.forEach(function(E,N){E.forEach(function(Z){f.call(b,Z,N,this)},this)},this)},o.na=function(){Hn(this);const f=Array.from(this.g.values()),b=Array.from(this.g.keys()),E=[];for(let N=0;N<b.length;N++){const Z=f[N];for(let et=0;et<Z.length;et++)E.push(b[N])}return E},o.V=function(f){Hn(this);let b=[];if(typeof f=="string")Dr(this,f)&&(b=b.concat(this.g.get(Or(this,f))));else{f=Array.from(this.g.values());for(let E=0;E<f.length;E++)b=b.concat(f[E])}return b},o.set=function(f,b){return Hn(this),this.i=null,f=Or(this,f),Dr(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[b]),this.h+=1,this},o.get=function(f,b){return f?(f=this.V(f),0<f.length?String(f[0]):b):b};function Mr(f,b,E){bu(f,b),0<E.length&&(f.i=null,f.g.set(Or(f,b),M(E)),f.h+=E.length)}o.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],b=Array.from(this.g.keys());for(var E=0;E<b.length;E++){var N=b[E];const et=encodeURIComponent(String(N)),dt=this.V(N);for(N=0;N<dt.length;N++){var Z=et;dt[N]!==""&&(Z+="="+encodeURIComponent(String(dt[N]))),f.push(Z)}}return this.i=f.join("&")};function Or(f,b){return b=String(b),f.j&&(b=b.toLowerCase()),b}function Dd(f,b){b&&!f.j&&(Hn(f),f.i=null,f.g.forEach(function(E,N){var Z=N.toLowerCase();N!=Z&&(bu(this,N),Mr(this,Z,E))},f)),f.j=b}function kg(f,b){const E=new Wa;if(h.Image){const N=new Image;N.onload=S(Bn,E,"TestLoadImage: loaded",!0,b,N),N.onerror=S(Bn,E,"TestLoadImage: error",!1,b,N),N.onabort=S(Bn,E,"TestLoadImage: abort",!1,b,N),N.ontimeout=S(Bn,E,"TestLoadImage: timeout",!1,b,N),h.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=f}else b(!1)}function Sl(f,b){const E=new Wa,N=new AbortController,Z=setTimeout(()=>{N.abort(),Bn(E,"TestPingServer: timeout",!1,b)},1e4);fetch(f,{signal:N.signal}).then(et=>{clearTimeout(Z),et.ok?Bn(E,"TestPingServer: ok",!0,b):Bn(E,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(Z),Bn(E,"TestPingServer: error",!1,b)})}function Bn(f,b,E,N,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),N(E)}catch{}}function wl(){this.g=new zi}function Vs(f,b,E){const N=E||"";try{_l(f,function(Z,et){let dt=Z;m(Z)&&(dt=yd(Z)),b.push(N+et+"="+encodeURIComponent(dt))})}catch(Z){throw b.push(N+"type="+encodeURIComponent("_badmap")),Z}}function ao(f){this.l=f.Ub||null,this.j=f.eb||!1}C(ao,bd),ao.prototype.g=function(){return new kr(this.l,this.j)},ao.prototype.i=function(f){return function(){return f}}({});function kr(f,b){Be.call(this),this.D=f,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(kr,Be),o=kr.prototype,o.open=function(f,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=b,this.readyState=1,qs(this)},o.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(b.body=f),(this.D||h).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},o.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gs(this)),this.readyState=0},o.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,qs(this)),this.g&&(this.readyState=3,qs(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Md(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Md(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}o.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var b=f.value?f.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!f.done}))&&(this.response=this.responseText+=b)}f.done?Gs(this):qs(this),this.readyState==3&&Md(this)}},o.Ra=function(f){this.g&&(this.response=this.responseText=f,Gs(this))},o.Qa=function(f){this.g&&(this.response=f,Gs(this))},o.ga=function(){this.g&&Gs(this)};function Gs(f){f.readyState=4,f.l=null,f.j=null,f.v=null,qs(f)}o.setRequestHeader=function(f,b){this.u.append(f,b)},o.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},o.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],b=this.h.entries();for(var E=b.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=b.next();return f.join(`\r
`)};function qs(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(kr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Od(f){let b="";return X(f,function(E,N){b+=N,b+=":",b+=E,b+=`\r
`}),b}function li(f,b,E){t:{for(N in E){var N=!1;break t}N=!0}N||(E=Od(E),typeof f=="string"?E!=null&&encodeURIComponent(String(E)):te(f,b,E))}function le(f){Be.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(le,Be);var _u=/^https?$/i,Tl=["POST","PUT"];o=le.prototype,o.Ha=function(f){this.J=f},o.ea=function(f,b,E,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);b=b?b.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yl.g(),this.v=this.o?Tg(this.o):Tg(yl),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(b,String(f),!0),this.B=!1}catch(et){Lg(this,et);return}if(f=E||"",E=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var Z in N)E.set(Z,N[Z]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const et of N.keys())E.set(et,N.get(et));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(E.keys()).find(et=>et.toLowerCase()=="content-type"),Z=h.FormData&&f instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Tl,b,void 0))||N||Z||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[et,dt]of E)this.g.setRequestHeader(et,dt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Cl(this),this.u=!0,this.g.send(f),this.u=!1}catch(et){Lg(this,et)}};function Lg(f,b){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=b,f.m=5,Au(f),Xs(f)}function Au(f){f.A||(f.A=!0,Se(f,"complete"),Se(f,"error"))}o.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Se(this,"complete"),Se(this,"abort"),Xs(this))},o.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xs(this,!0)),le.aa.N.call(this)},o.Ea=function(){this.s||(this.B||this.u||this.j?Eu(this):this.bb())},o.bb=function(){Eu(this)};function Eu(f){if(f.h&&typeof c<"u"&&(!f.v[1]||zn(f)!=4||f.Z()!=2)){if(f.u&&zn(f)==4)Tr(f.Ea,0,f);else if(Se(f,"readystatechange"),zn(f)==4){f.h=!1;try{const dt=f.Z();t:switch(dt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break t;default:b=!1}var E;if(!(E=b)){var N;if(N=dt===0){var Z=String(f.D).match(Cd)[1]||null;!Z&&h.self&&h.self.location&&(Z=h.self.location.protocol.slice(0,-1)),N=!_u.test(Z?Z.toLowerCase():"")}E=N}if(E)Se(f,"complete"),Se(f,"success");else{f.m=6;try{var et=2<zn(f)?f.g.statusText:""}catch{et=""}f.l=et+" ["+f.Z()+"]",Au(f)}}finally{Xs(f)}}}}function Xs(f,b){if(f.g){Cl(f);const E=f.g,N=f.v[0]?()=>{}:null;f.g=null,f.v=null,b||Se(f,"ready");try{E.onreadystatechange=N}catch{}}}function Cl(f){f.I&&(h.clearTimeout(f.I),f.I=null)}o.isActive=function(){return!!this.g};function zn(f){return f.g?f.g.readyState:0}o.Z=function(){try{return 2<zn(this)?this.g.status:-1}catch{return-1}},o.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},o.Oa=function(f){if(this.g){var b=this.g.responseText;return f&&b.indexOf(f)==0&&(b=b.substring(f.length)),Us(b)}};function Ng(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Fy(f){const b={};f=(f.g&&2<=zn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<f.length;N++){if(z(f[N]))continue;var E=H(f[N]);const Z=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const et=b[Z]||[];b[Z]=et,et.push(E)}L(b,function(N){return N.join(", ")})}o.Ba=function(){return this.m},o.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Rl(f,b,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||b}function Su(f){this.Aa=0,this.i=[],this.j=new Wa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Rl("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Rl("baseRetryDelayMs",5e3,f),this.cb=Rl("retryDelaySeedMs",1e4,f),this.Wa=Rl("forwardChannelMaxRetries",2,f),this.wa=Rl("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new wd(f&&f.concurrentRequestLimit),this.Da=new wl,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}o=Su.prototype,o.la=8,o.G=1,o.connect=function(f,b,E,N){ze(0),this.W=f,this.H=b||{},E&&N!==void 0&&(this.H.OSID=E,this.H.OAID=N),this.F=this.X,this.I=Bg(this,null,this.W),Tu(this)};function kd(f){if(Ig(f),f.G==3){var b=f.U++,E=Ne(f.I);if(te(E,"SID",f.K),te(E,"RID",b),te(E,"TYPE","terminate"),xl(f,E),b=new Bs(f,f.j,b),b.L=2,b.v=El(Ne(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(b.v.toString(),"")}catch{}!E&&h.Image&&(new Image().src=b.v,E=!0),E||(b.g=zg(b.j,null),b.g.ea(b.v)),b.F=Date.now(),Re(b)}Hg(f)}function wu(f){f.g&&(Dl(f),f.g.cancel(),f.g=null)}function Ig(f){wu(f),f.u&&(h.clearTimeout(f.u),f.u=null),Cu(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&h.clearTimeout(f.s),f.s=null)}function Tu(f){if(!Td(f.h)&&!f.s){f.s=!0;var b=f.Ga;at||q(),ct||(at(),ct=!0),Ot.add(b,f),f.B=0}}function Uy(f,b){return Dg(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=b.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Ka(A(f.Ga,f,b),Id(f,f.B)),f.B++,!0)}o.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const Z=new Bs(this,this.j,f);let et=this.o;if(this.S&&(et?(et=D(et),I(et,this.S)):et=this.S),this.m!==null||this.O||(Z.H=et,et=null),this.P)t:{for(var b=0,E=0;E<this.i.length;E++){e:{var N=this.i[E];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break e}N=void 0}if(N===void 0)break;if(b+=N,4096<b){b=E;break t}if(b===4096||E===this.i.length-1){b=E+1;break t}}b=1e3}else b=1e3;b=Pg(this,Z,b),E=Ne(this.I),te(E,"RID",f),te(E,"CVER",22),this.D&&te(E,"X-HTTP-Session-Id",this.D),xl(this,E),et&&(this.O?b="headers="+encodeURIComponent(String(Od(et)))+"&"+b:this.m&&li(E,this.m,et)),no(this.h,Z),this.Ua&&te(E,"TYPE","init"),this.P?(te(E,"$req",b),te(E,"SID","null"),Z.T=!0,fs(Z,E,null)):fs(Z,E,b),this.G=2}}else this.G==3&&(f?Ld(this,f):this.i.length==0||Td(this.h)||Ld(this))};function Ld(f,b){var E;b?E=b.l:E=f.U++;const N=Ne(f.I);te(N,"SID",f.K),te(N,"RID",E),te(N,"AID",f.T),xl(f,N),f.m&&f.o&&li(N,f.m,f.o),E=new Bs(f,f.j,E,f.B+1),f.m===null&&(E.H=f.o),b&&(f.i=b.D.concat(f.i)),b=Pg(f,E,1e3),E.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),no(f.h,E),fs(E,N,b)}function xl(f,b){f.H&&X(f.H,function(E,N){te(b,N,E)}),f.l&&_l({},function(E,N){te(b,N,E)})}function Pg(f,b,E){E=Math.min(f.i.length,E);var N=f.l?A(f.l.Na,f.l,f):null;t:{var Z=f.i;let et=-1;for(;;){const dt=["count="+E];et==-1?0<E?(et=Z[0].g,dt.push("ofs="+et)):et=0:dt.push("ofs="+et);let se=!0;for(let Te=0;Te<E;Te++){let Qt=Z[Te].g;const ci=Z[Te].map;if(Qt-=et,0>Qt)et=Math.max(0,Z[Te].g-100),se=!1;else try{Vs(ci,dt,"req"+Qt+"_")}catch{N&&N(ci)}}if(se){N=dt.join("&");break t}}}return f=f.i.splice(0,E),b.D=f,N}function Fg(f){if(!f.g&&!f.u){f.Y=1;var b=f.Fa;at||q(),ct||(at(),ct=!0),Ot.add(b,f),f.v=0}}function Nd(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Ka(A(f.Fa,f),Id(f,f.v)),f.v++,!0)}o.Fa=function(){if(this.u=null,Ug(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Ka(A(this.ab,this),f)}},o.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ze(10),wu(this),Ug(this))};function Dl(f){f.A!=null&&(h.clearTimeout(f.A),f.A=null)}function Ug(f){f.g=new Bs(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var b=Ne(f.qa);te(b,"RID","rpc"),te(b,"SID",f.K),te(b,"AID",f.T),te(b,"CI",f.F?"0":"1"),!f.F&&f.ja&&te(b,"TO",f.ja),te(b,"TYPE","xmlhttp"),xl(f,b),f.m&&f.o&&li(b,f.m,f.o),f.L&&(f.g.I=f.L);var E=f.g;f=f.ia,E.L=1,E.v=El(Ne(b)),E.m=null,E.P=!0,Rr(E,f)}o.Za=function(){this.C!=null&&(this.C=null,wu(this),Nd(this),ze(19))};function Cu(f){f.C!=null&&(h.clearTimeout(f.C),f.C=null)}function jg(f,b){var E=null;if(f.g==b){Cu(f),Dl(f),f.g=null;var N=2}else if(io(f.h,b))E=b.D,Un(f.h,b),N=1;else return;if(f.G!=0){if(b.o)if(N==1){E=b.m?b.m.length:0,b=Date.now()-b.F;var Z=f.B;N=_d(),Se(N,new Cg(N,E)),Tu(f)}else Fg(f);else if(Z=b.s,Z==3||Z==0&&0<b.X||!(N==1&&Uy(f,b)||N==2&&Nd(f)))switch(E&&0<E.length&&(b=f.h,b.i=b.i.concat(E)),Z){case 1:Lr(f,5);break;case 4:Lr(f,10);break;case 3:Lr(f,6);break;default:Lr(f,2)}}}function Id(f,b){let E=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(E*=2),E*b}function Lr(f,b){if(f.j.info("Error code "+b),b==2){var E=A(f.fb,f),N=f.Xa;const Z=!N;N=new xr(N||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||so(N,"https"),El(N),Z?kg(N.toString(),E):Sl(N.toString(),E)}else ze(2);f.G=0,f.l&&f.l.sa(b),Hg(f),Ig(f)}o.fb=function(f){f?(this.j.info("Successfully pinged google.com"),ze(2)):(this.j.info("Failed to ping google.com"),ze(1))};function Hg(f){if(f.G=0,f.ka=[],f.l){const b=Vi(f.h);(b.length!=0||f.i.length!=0)&&(j(f.ka,b),j(f.ka,f.i),f.h.i.length=0,M(f.i),f.i.length=0),f.l.ra()}}function Bg(f,b,E){var N=E instanceof xr?Ne(E):new xr(E);if(N.g!="")b&&(N.g=b+"."+N.g),Al(N,N.s);else{var Z=h.location;N=Z.protocol,b=b?b+"."+Z.hostname:Z.hostname,Z=+Z.port;var et=new xr(null);N&&so(et,N),b&&(et.g=b),Z&&Al(et,Z),E&&(et.l=E),N=et}return E=f.D,b=f.ya,E&&b&&te(N,E,b),te(N,"VER",f.la),xl(f,N),N}function zg(f,b,E){if(b&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=f.Ca&&!f.pa?new le(new ao({eb:E})):new le(f.pa),b.Ha(f.J),b}o.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vg(){}o=Vg.prototype,o.ua=function(){},o.ta=function(){},o.sa=function(){},o.ra=function(){},o.isActive=function(){return!0},o.Na=function(){};function sn(f,b){Be.call(this),this.g=new Su(b),this.l=f,this.h=b&&b.messageUrlParams||null,f=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(f?f["X-WebChannel-Content-Type"]=b.messageContentType:f={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(f?f["X-WebChannel-Client-Profile"]=b.va:f={"X-WebChannel-Client-Profile":b.va}),this.g.S=f,(f=b&&b.Sb)&&!z(f)&&(this.g.m=f),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!z(b)&&(this.g.D=b,f=this.h,f!==null&&b in f&&(f=this.h,b in f&&delete f[b])),this.j=new oo(this)}C(sn,Be),sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){kd(this.g)},sn.prototype.o=function(f){var b=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.u&&(E={},E.__data__=yd(f),f=E);b.i.push(new ky(b.Ya++,f)),b.G==3&&Tu(b)},sn.prototype.N=function(){this.g.l=null,delete this.j,kd(this.g),delete this.g,sn.aa.N.call(this)};function Gg(f){Xa.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var b=f.__sm__;if(b){t:{for(const E in b){f=E;break t}f=void 0}(this.i=f)&&(f=this.i,b=b!==null&&f in b?b[f]:void 0),this.data=b}else this.data=f}C(Gg,Xa);function qg(){hs.call(this),this.status=1}C(qg,hs);function oo(f){this.g=f}C(oo,Vg),oo.prototype.ua=function(){Se(this.g,"a")},oo.prototype.ta=function(f){Se(this.g,new Gg(f))},oo.prototype.sa=function(f){Se(this.g,new qg)},oo.prototype.ra=function(){Se(this.g,"b")},sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,oi.NO_ERROR=0,oi.TIMEOUT=8,oi.HTTP_ERROR=6,Za.COMPLETE="complete",Oy.EventType=js,js.OPEN="a",js.CLOSE="b",js.ERROR="c",js.MESSAGE="d",Be.prototype.listen=Be.prototype.K,le.prototype.listenOnce=le.prototype.L,le.prototype.getLastError=le.prototype.Ka,le.prototype.getLastErrorCode=le.prototype.Ba,le.prototype.getStatus=le.prototype.Z,le.prototype.getResponseJson=le.prototype.Oa,le.prototype.getResponseText=le.prototype.oa,le.prototype.send=le.prototype.ea,le.prototype.setWithCredentials=le.prototype.Ha}).apply(typeof Gm<"u"?Gm:typeof self<"u"?self:typeof window<"u"?window:{});const n1="@firebase/firestore",s1="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ki.UNAUTHENTICATED=new Ki(null),Ki.GOOGLE_CREDENTIALS=new Ki("google-credentials-uid"),Ki.FIRST_PARTY=new Ki("first-party-uid"),Ki.MOCK_USER=new Ki("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _g="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd=new LA("@firebase/firestore");function Ls(o,...t){if(pd.logLevel<=ae.DEBUG){const e=t.map(YA);pd.debug(`Firestore (${_g}): ${o}`,...e)}}function WC(o,...t){if(pd.logLevel<=ae.ERROR){const e=t.map(YA);pd.error(`Firestore (${_g}): ${o}`,...e)}}function dN(o,...t){if(pd.logLevel<=ae.WARN){const e=t.map(YA);pd.warn(`Firestore (${_g}): ${o}`,...e)}}function YA(o){if(typeof o=="string")return o;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(o)}catch{return o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(o="Unexpected state"){const t=`FIRESTORE (${_g}) INTERNAL ASSERTION FAILED: `+o;throw WC(t),new Error(t)}function qf(o,t){o||$A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pn={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class gn extends Ar{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class fN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Ki.UNAUTHENTICATED))}shutdown(){}}class pN{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class gN{constructor(t){this.t=t,this.currentUser=Ki.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){qf(this.o===void 0);let n=this.i;const r=p=>this.i!==n?(n=this.i,e(p)):Promise.resolve();let l=new Xf;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Xf,t.enqueueRetryable(()=>r(this.currentUser))};const c=()=>{const p=l;t.enqueueRetryable(async()=>{await p.promise,await r(this.currentUser)})},h=p=>{Ls("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>h(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?h(p):(Ls("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Xf)}},0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(n=>this.i!==t?(Ls("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(qf(typeof n.accessToken=="string"),new QC(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return qf(t===null||typeof t=="string"),new Ki(t)}}class mN{constructor(t,e,n){this.l=t,this.h=e,this.P=n,this.type="FirstParty",this.user=Ki.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class vN{constructor(t,e,n){this.l=t,this.h=e,this.P=n}getToken(){return Promise.resolve(new mN(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(Ki.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class r1{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yN{constructor(t,e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,fn(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,e){qf(this.o===void 0);const n=l=>{l.error!=null&&Ls("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,Ls("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable(()=>n(l))};const r=l=>{Ls("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>r(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?r(l):Ls("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new r1(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(qf(typeof e.token=="string"),this.R=e.token,new r1(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function bN(o){return o.name==="IndexedDbTransactionError"}const l_="(default)";class Bv{constructor(t,e){this.projectId=t,this.database=e||l_}static empty(){return new Bv("","")}get isDefaultDatabase(){return this.database===l_}isEqual(t){return t instanceof Bv&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var a1,Jt;(Jt=a1||(a1={}))[Jt.OK=0]="OK",Jt[Jt.CANCELLED=1]="CANCELLED",Jt[Jt.UNKNOWN=2]="UNKNOWN",Jt[Jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Jt[Jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Jt[Jt.NOT_FOUND=5]="NOT_FOUND",Jt[Jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Jt[Jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Jt[Jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Jt[Jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Jt[Jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Jt[Jt.ABORTED=10]="ABORTED",Jt[Jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Jt[Jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Jt[Jt.INTERNAL=13]="INTERNAL",Jt[Jt.UNAVAILABLE=14]="UNAVAILABLE",Jt[Jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new KC([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=1048576;function z0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(t,e,n=1e3,r=1.5,l=6e4){this.Ti=t,this.timerId=e,this.Go=n,this.zo=r,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const e=Math.floor(this.Ho+this.e_()),n=Math.max(0,Date.now()-this.Yo),r=Math.max(0,e-n);r>0&&Ls("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ho} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,r,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(t,e,n,r,l){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=l,this.deferred=new Xf,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,n,r,l){const c=Date.now()+n,h=new KA(t,e,c,r,l);return h.start(n),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new gn(pn.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var o1,l1;(l1=o1||(o1={}))._a="default",l1.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(o){const t={};return o.timeoutSeconds!==void 0&&(t.timeoutSeconds=o.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1=new Map;function wN(o,t,e,n){if(t===!0&&n===!0)throw new gn(pn.INVALID_ARGUMENT,`${o} and ${e} cannot be used together.`)}function TN(o){if(o===void 0)return"undefined";if(o===null)return"null";if(typeof o=="string")return o.length>20&&(o=`${o.substring(0,20)}...`),JSON.stringify(o);if(typeof o=="number"||typeof o=="boolean")return""+o;if(typeof o=="object"){if(o instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(o);return t?`a custom ${t} object`:"an object"}}return typeof o=="function"?"a function":$A()}function CN(o,t){if("_delegate"in o&&(o=o._delegate),!(o instanceof t)){if(t.name===o.constructor.name)throw new gn(pn.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=TN(o);throw new gn(pn.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC="firestore.googleapis.com",u1=!0;class h1{constructor(t){var e,n;if(t.host===void 0){if(t.ssl!==void 0)throw new gn(pn.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ZC,this.ssl=u1}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:u1;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=_N;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<AN)throw new gn(pn.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}wN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=SN((n=t.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new gn(pn.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new gn(pn.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new gn(pn.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(n,r){return n.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class JC{constructor(t,e,n,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new h1({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new gn(pn.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new gn(pn.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new h1(t),t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new fN;switch(n.type){case"firstParty":return new vN(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new gn(pn.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=c1.get(e);n&&(Ls("ComponentProvider","Removing Datastore"),c1.delete(e),n.terminate())}(this),Promise.resolve()}}function RN(o,t,e,n={}){var r;const l=(o=CN(o,JC))._getSettings(),c=`${t}:${e}`;if(l.host!==ZC&&l.host!==c&&dN("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),o._setSettings(Object.assign(Object.assign({},l),{host:c,ssl:!1})),n.mockUserToken){let h,p;if(typeof n.mockUserToken=="string")h=n.mockUserToken,p=Ki.MOCK_USER;else{h=cC(n.mockUserToken,(r=o._app)===null||r===void 0?void 0:r.options.projectId);const m=n.mockUserToken.sub||n.mockUserToken.user_id;if(!m)throw new gn(pn.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Ki(m)}o._authCredentials=new pN(new QC(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1="AsyncQueue";class f1{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new EN(this,"async_queue_retry"),this.Su=()=>{const n=z0();n&&Ls(d1,"Visibility state changed to "+n.visibilityState),this.a_.t_()},this.bu=t;const e=z0();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const e=z0();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const e=new Xf;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!bN(t))throw t;Ls(d1,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const e=this.bu.then(()=>(this.pu=!0,t().catch(n=>{this.gu=n,this.pu=!1;const r=function(c){let h=c.message||"";return c.stack&&(h=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),h}(n);throw WC("INTERNAL UNHANDLED ERROR: ",r),n}).then(n=>(this.pu=!1,n))));return this.bu=e,e}enqueueAfterDelay(t,e,n){this.Du(),this.wu.indexOf(t)>-1&&(e=0);const r=KA.createAndSchedule(this,t,e,n,l=>this.Fu(l));return this.fu.push(r),r}Du(){this.gu&&$A()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const e of this.fu)if(e.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((e,n)=>e.targetTimeMs-n.targetTimeMs);for(const e of this.fu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const e=this.fu.indexOf(t);this.fu.splice(e,1)}}class xN extends JC{constructor(t,e,n,r){super(t,e,n,r),this.type="firestore",this._queue=new f1,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new f1(t),this._firestoreClient=void 0,await t}}}function DN(o,t){const e=typeof o=="object"?o:IA(),n=typeof o=="string"?o:l_,r=py(e,"firestore").getImmediate({identifier:n});if(!r._initialized){const l=aC("firestore");l&&RN(r,...l)}return r}(function(t,e=!0){(function(r){_g=r})(lu),Jc(new ul("firestore",(n,{instanceIdentifier:r,options:l})=>{const c=n.getProvider("app").getImmediate(),h=new xN(new gN(n.getProvider("auth-internal")),new yN(c,n.getProvider("app-check-internal")),function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new gn(pn.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bv(m.options.projectId,y)}(c,r),c);return l=Object.assign({useFetchStreams:e},l),h._setSettings(l),h},"PUBLIC").setMultipleInstances(!0)),yr(n1,s1,t),yr(n1,s1,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR="firebasestorage.googleapis.com",MN="storageBucket",ON=2*60*1e3,kN=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends Ar{constructor(t,e,n=0){super(V0(t),`Firebase Storage: ${e} (${V0(t)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Sr.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return V0(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var _r;(function(o){o.UNKNOWN="unknown",o.OBJECT_NOT_FOUND="object-not-found",o.BUCKET_NOT_FOUND="bucket-not-found",o.PROJECT_NOT_FOUND="project-not-found",o.QUOTA_EXCEEDED="quota-exceeded",o.UNAUTHENTICATED="unauthenticated",o.UNAUTHORIZED="unauthorized",o.UNAUTHORIZED_APP="unauthorized-app",o.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",o.INVALID_CHECKSUM="invalid-checksum",o.CANCELED="canceled",o.INVALID_EVENT_NAME="invalid-event-name",o.INVALID_URL="invalid-url",o.INVALID_DEFAULT_BUCKET="invalid-default-bucket",o.NO_DEFAULT_BUCKET="no-default-bucket",o.CANNOT_SLICE_BLOB="cannot-slice-blob",o.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",o.NO_DOWNLOAD_URL="no-download-url",o.INVALID_ARGUMENT="invalid-argument",o.INVALID_ARGUMENT_COUNT="invalid-argument-count",o.APP_DELETED="app-deleted",o.INVALID_ROOT_OPERATION="invalid-root-operation",o.INVALID_FORMAT="invalid-format",o.INTERNAL_ERROR="internal-error",o.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(_r||(_r={}));function V0(o){return"storage/"+o}function LN(){const o="An unknown error occurred, please check the error payload for server response.";return new Sr(_r.UNKNOWN,o)}function NN(){return new Sr(_r.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function IN(){return new Sr(_r.CANCELED,"User canceled the upload/download.")}function PN(o){return new Sr(_r.INVALID_URL,"Invalid URL '"+o+"'.")}function FN(o){return new Sr(_r.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+o+"'.")}function p1(o){return new Sr(_r.INVALID_ARGUMENT,o)}function eR(){return new Sr(_r.APP_DELETED,"The Firebase app was deleted.")}function UN(o){return new Sr(_r.INVALID_ROOT_OPERATION,"The operation '"+o+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let n;try{n=Ns.makeFromUrl(t,e)}catch{return new Ns(t,"")}if(n.path==="")return n;throw FN(t)}static makeFromUrl(t,e){let n=null;const r="([A-Za-z0-9.\\-_]+)";function l(Y){Y.path.charAt(Y.path.length-1)==="/"&&(Y.path_=Y.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+r+c,"i"),p={bucket:1,path:3};function m(Y){Y.path_=decodeURIComponent(Y.path)}const y="v[A-Za-z0-9_]+",_=e.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",S=new RegExp(`^https?://${_}/${y}/b/${r}/o${A}`,"i"),C={bucket:1,path:3},M=e===tR?"(?:storage.googleapis.com|storage.cloud.google.com)":e,j="([^?#]*)",P=new RegExp(`^https?://${M}/${r}/${j}`,"i"),G=[{regex:h,indices:p,postModify:l},{regex:S,indices:C,postModify:m},{regex:P,indices:{bucket:1,path:2},postModify:m}];for(let Y=0;Y<G.length;Y++){const W=G[Y],X=W.regex.exec(t);if(X){const L=X[W.indices.bucket];let D=X[W.indices.path];D||(D=""),n=new Ns(L,D),W.postModify(n);break}}if(n==null)throw PN(t);return n}}class jN{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(o,t,e){let n=1,r=null,l=null,c=!1,h=0;function p(){return h===2}let m=!1;function y(...j){m||(m=!0,t.apply(null,j))}function _(j){r=setTimeout(()=>{r=null,o(S,p())},j)}function A(){l&&clearTimeout(l)}function S(j,...P){if(m){A();return}if(j){A(),y.call(null,j,...P);return}if(p()||c){A(),y.call(null,j,...P);return}n<64&&(n*=2);let G;h===1?(h=2,G=0):G=(n+Math.random())*1e3,_(G)}let C=!1;function M(j){C||(C=!0,A(),!m&&(r!==null?(j||(h=2),clearTimeout(r),_(0)):j||(h=1)))}return _(0),l=setTimeout(()=>{c=!0,M(!0)},e),M}function BN(o){o(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(o){return o!==void 0}function g1(o,t,e,n){if(n<t)throw p1(`Invalid value for '${o}'. Expected ${t} or greater.`);if(n>e)throw p1(`Invalid value for '${o}'. Expected ${e} or less.`)}function VN(o){const t=encodeURIComponent;let e="?";for(const n in o)if(o.hasOwnProperty(n)){const r=t(n)+"="+t(o[n]);e=e+r+"&"}return e=e.slice(0,-1),e}var zv;(function(o){o[o.NO_ERROR=0]="NO_ERROR",o[o.NETWORK_ERROR=1]="NETWORK_ERROR",o[o.ABORT=2]="ABORT"})(zv||(zv={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(o,t){const e=o>=500&&o<600,r=[408,429].indexOf(o)!==-1,l=t.indexOf(o)!==-1;return e||r||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(t,e,n,r,l,c,h,p,m,y,_,A=!0){this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=p,this.timeout_=m,this.progressCallback_=y,this.connectionFactory_=_,this.retry=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,C)=>{this.resolve_=S,this.reject_=C,this.start_()})}start_(){const t=(n,r)=>{if(r){n(!1,new qm(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=h=>{const p=h.loaded,m=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,m)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const h=l.getErrorCode()===zv.NO_ERROR,p=l.getStatus();if(!h||GN(p,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===zv.ABORT;n(!1,new qm(!1,null,y));return}const m=this.successCodes_.indexOf(p)!==-1;n(!0,new qm(m,l))})},e=(n,r)=>{const l=this.resolve_,c=this.reject_,h=r.connection;if(r.wasSuccessCode)try{const p=this.callback_(h,h.getResponse());zN(p)?l(p):l()}catch(p){c(p)}else if(h!==null){const p=LN();p.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,p)):c(p)}else if(r.canceled){const p=this.appDelete_?eR():IN();c(p)}else{const p=NN();c(p)}};this.canceled_?e(!1,new qm(!1,null,!0)):this.backoffId_=HN(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&BN(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class qm{constructor(t,e,n){this.wasSuccessCode=t,this.connection=e,this.canceled=!!n}}function XN(o,t){t!==null&&t.length>0&&(o.Authorization="Firebase "+t)}function YN(o,t){o["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function $N(o,t){t&&(o["X-Firebase-GMPID"]=t)}function KN(o,t){t!==null&&(o["X-Firebase-AppCheck"]=t)}function WN(o,t,e,n,r,l,c=!0){const h=VN(o.urlParams),p=o.url+h,m=Object.assign({},o.headers);return $N(m,t),XN(m,e),YN(m,l),KN(m,n),new qN(p,o.method,m,o.body,o.successCodes,o.additionalRetryCodes,o.handler,o.errorHandler,o.timeout,o.progressCallback,r,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(o){if(o.length===0)return null;const t=o.lastIndexOf("/");return t===-1?"":o.slice(0,t)}function ZN(o){const t=o.lastIndexOf("/",o.length-2);return t===-1?o:o.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(t,e){this._service=t,e instanceof Ns?this._location=e:this._location=Ns.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Vv(t,e)}get root(){const t=new Ns(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ZN(this._location.path)}get storage(){return this._service}get parent(){const t=QN(this._location.path);if(t===null)return null;const e=new Ns(this._location.bucket,t);return new Vv(this._service,e)}_throwIfRoot(t){if(this._location.path==="")throw UN(t)}}function m1(o,t){const e=t==null?void 0:t[MN];return e==null?null:Ns.makeFromBucketSpec(e,o)}function JN(o,t,e,n={}){o.host=`${t}:${e}`,o._protocol="http";const{mockUserToken:r}=n;r&&(o._overrideAuthToken=typeof r=="string"?r:cC(r,o.app.options.projectId))}class tI{constructor(t,e,n,r,l){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._url=r,this._firebaseVersion=l,this._bucket=null,this._host=tR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ON,this._maxUploadRetryTime=kN,this._requests=new Set,r!=null?this._bucket=Ns.makeFromBucketSpec(r,this._host):this._bucket=m1(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Ns.makeFromBucketSpec(this._url,t):this._bucket=m1(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){g1("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){g1("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(e!==null)return e.accessToken}return null}async _getAppCheckToken(){if(fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Vv(this,t)}_makeRequest(t,e,n,r,l=!0){if(this._deleted)return new jN(eR());{const c=WN(t,this._appId,n,r,e,this._firebaseVersion,l);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(t,e){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,n,r).getPromise()}}const v1="@firebase/storage",y1="0.13.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR="storage";function eI(o=IA(),t){o=Fs(o);const n=py(o,iR).getImmediate({identifier:t}),r=aC("storage");return r&&iI(n,...r),n}function iI(o,t,e,n={}){JN(o,t,e,n)}function nI(o,{instanceIdentifier:t}){const e=o.getProvider("app").getImmediate(),n=o.getProvider("auth-internal"),r=o.getProvider("app-check-internal");return new tI(e,n,r,t,lu)}function sI(){Jc(new ul(iR,nI,"PUBLIC").setMultipleInstances(!0)),yr(v1,y1,""),yr(v1,y1,"esm2017")}sI();const rI={apiKey:"AIzaSyBcuBVj4jj38kH-x9DlPoaC7xN70Lb3k0c",authDomain:"login-63f67.firebaseapp.com",projectId:"login-63f67",storageBucket:"login-63f67.appspot.com",messagingSenderId:"636293571342",appId:"1:636293571342:web:f1465b35e4a19a60b2ed5f",measurementId:"G-ZQ98172RWZ"},WA=dC(rI),xa=uN(WA);xa.useDeviceLanguage();const nR=new Ca;nR.setCustomParameters({prompt:"select_account",login_hint:""});const sR=new Ra;sR.setCustomParameters({allow_signup:"true"});DN(WA);eI(WA);var rR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},b1=La.createContext&&La.createContext(rR),aI=["attr","size","title"];function oI(o,t){if(o==null)return{};var e=lI(o,t),n,r;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(o);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(o,n)&&(e[n]=o[n])}return e}function lI(o,t){if(o==null)return{};var e={};for(var n in o)if(Object.prototype.hasOwnProperty.call(o,n)){if(t.indexOf(n)>=0)continue;e[n]=o[n]}return e}function Gv(){return Gv=Object.assign?Object.assign.bind():function(o){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n])}return o},Gv.apply(this,arguments)}function _1(o,t){var e=Object.keys(o);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(o);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(o,r).enumerable})),e.push.apply(e,n)}return e}function qv(o){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?_1(Object(e),!0).forEach(function(n){cI(o,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(e)):_1(Object(e)).forEach(function(n){Object.defineProperty(o,n,Object.getOwnPropertyDescriptor(e,n))})}return o}function cI(o,t,e){return t=uI(t),t in o?Object.defineProperty(o,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):o[t]=e,o}function uI(o){var t=hI(o,"string");return typeof t=="symbol"?t:t+""}function hI(o,t){if(typeof o!="object"||!o)return o;var e=o[Symbol.toPrimitive];if(e!==void 0){var n=e.call(o,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(o)}function aR(o){return o&&o.map((t,e)=>La.createElement(t.tag,qv({key:e},t.attr),aR(t.child)))}function cu(o){return t=>La.createElement(dI,Gv({attr:qv({},o.attr)},t),aR(o.child))}function dI(o){var t=e=>{var{attr:n,size:r,title:l}=o,c=oI(o,aI),h=r||e.size||"1em",p;return e.className&&(p=e.className),o.className&&(p=(p?p+" ":"")+o.className),La.createElement("svg",Gv({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,n,c,{className:p,style:qv(qv({color:o.color||e.color},e.style),o.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),l&&La.createElement("title",null,l),o.children)};return b1!==void 0?La.createElement(b1.Consumer,null,e=>t(e)):t(rR)}function fI(o){return cu({attr:{viewBox:"0 0 256 512"},child:[{tag:"path",attr:{d:"M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z"},child:[]}]})(o)}function pI(o){return cu({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(o)}function gI(o){return cu({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z"},child:[]}]})(o)}function mI(o){return cu({attr:{viewBox:"0 0 192 512"},child:[{tag:"path",attr:{d:"M0 384.662V127.338c0-17.818 21.543-26.741 34.142-14.142l128.662 128.662c7.81 7.81 7.81 20.474 0 28.284L34.142 398.804C21.543 411.404 0 402.48 0 384.662z"},child:[]}]})(o)}function vI(o){return cu({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(o)}function yI(o){return cu({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(o)}function bI(o){return cu({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(o)}var G0={exports:{}},q0,A1;function _I(){if(A1)return q0;A1=1;var o="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return q0=o,q0}var X0,E1;function AI(){if(E1)return X0;E1=1;var o=_I();function t(){}function e(){}return e.resetWarningCache=t,X0=function(){function n(c,h,p,m,y,_){if(_!==o){var A=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw A.name="Invariant Violation",A}}n.isRequired=n;function r(){return n}var l={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:r,element:n,elementType:n,instanceOf:r,node:n,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:e,resetWarningCache:t};return l.PropTypes=l,l},X0}var S1;function EI(){return S1||(S1=1,G0.exports=AI()()),G0.exports}var SI=EI();const ji=MA(SI),oR=La.memo(({isActive:o,onToggle:t,onCourseSelect:e,onSemesterSelect:n})=>{const[r,l]=rt.useState(null),[c,h]=rt.useState(null),[p,m]=rt.useState(null),[y,_]=rt.useState(null),A=rt.useRef(null),[S,C]=rt.useState(null),[M,j]=rt.useState(null),[P,z]=rt.useState([]),[G,Y]=rt.useState(!1);rt.useEffect(()=>{const I=localStorage.getItem(`recents_${S==null?void 0:S.uid}`);I&&z(JSON.parse(I))},[S]),rt.useEffect(()=>{const I=H=>{A.current&&!A.current.contains(H.target)&&t(!1)};return document.addEventListener("mousedown",I),()=>document.removeEventListener("mousedown",I)},[t]),rt.useEffect(()=>{const I=xa.onAuthStateChanged(async H=>{var V;if(H){C(H);const U=(V=H.providerData)==null?void 0:V[0];let gt=(U==null?void 0:U.photoURL)||H.photoURL;gt!=null&&gt.includes("googleusercontent.com")&&(gt=`${gt}?t=${new Date().getTime()}`),j(gt||null),Y(!gt)}else C(null),j(null)});return()=>I()},[]);const W=()=>{var I,H;if((H=(I=S==null?void 0:S.providerData)==null?void 0:I[0])!=null&&H.photoURL){const V=`${S.providerData[0].photoURL}?t=${new Date().getTime()}`;j(V)}else Y(!0)},X=()=>{z([]),S&&localStorage.removeItem(`recents_${S.uid}`)},L=async()=>{try{await tL(xa),C(null),j(null),window.location.reload()}catch(I){console.error("Logout Failed:",I.message)}},D=(I,H,V)=>{I==="Course"?(h(H),e==null||e(H)):I==="Semester"&&(m(H),n==null||n(H)),V.currentTarget&&(V.currentTarget.classList.add("click-effect"),setTimeout(()=>{V.currentTarget.classList.remove("click-effect")},500)),_(`${I} Selected: ${H}`),setTimeout(()=>_(null),2e3),l(null)},x=[{name:"Course",items:["Computer Science","Electrical","Mechanical","Bio Tech","Chemical"]},{name:"Semester",items:["Semester 1","Semester 2","Semester 3","Semester 4","Semester 5","Semester 6","Semester 7","Semester 8"]},{name:"Recents",items:P.length>0?P:["No recent items"]}];return F.jsxs(F.Fragment,{children:[F.jsx("div",{className:"menu-btn",onClick:()=>t(!o),"aria-label":"Toggle Sidebar",children:F.jsx(pI,{})}),F.jsxs("div",{className:`side-bar ${o?"active":""}`,ref:A,children:[F.jsxs("header",{children:[F.jsx("div",{className:"close-btn",onClick:()=>t(!1),"aria-label":"Close Sidebar",children:F.jsx(vI,{})}),F.jsxs("div",{className:"profile-container",children:[M&&!G?F.jsx("div",{className:"profile-image-container",children:F.jsx("img",{src:M,alt:"Profile",className:"profile-icon",onError:W,referrerPolicy:"no-referrer"})}):F.jsx("div",{className:"profile-icon-fallback",children:F.jsx(bI,{className:"profile-icon-svg"})}),F.jsx("div",{className:"profile-text",children:F.jsx("h1",{children:S?S.displayName||S.email:"Guest User"})})]})]}),F.jsx("nav",{"aria-label":"Main navigation",children:F.jsx("div",{className:"menu",children:x.map((I,H)=>F.jsxs("div",{className:"item",children:[F.jsxs("a",{className:"sub-btn",onClick:()=>l(r===I.name?null:I.name),role:"button",tabIndex:0,"aria-expanded":r===I.name,children:[I.name,F.jsx(fI,{className:`dropdown ${r===I.name?"rotate":""}`})]}),F.jsxs("div",{className:`sub-menu ${r===I.name?"active":""}`,"aria-hidden":r!==I.name,children:[I.items.map((V,U)=>F.jsx("a",{className:`sub-item ${I.name==="Course"&&V===c||I.name==="Semester"&&V===p?"selected":""}`,role:"menuitem",tabIndex:r===I.name?0:-1,onClick:gt=>{typeof V!="object"&&D(I.name,V,gt)},children:typeof V=="object"?F.jsxs(F.Fragment,{children:[V.name,I.name==="Course"&&V===c||I.name==="Semester"&&V===p?F.jsx("span",{className:"checkmark",children:"✓"}):null]}):V},U)),I.name==="Recents"&&P.length>0&&F.jsxs("button",{className:"clear-recents-btn",onClick:X,children:[F.jsx(yI,{})," Clear Recents"]})]})]},H))})}),F.jsx("div",{className:"side",children:F.jsx("div",{className:"log",children:F.jsx("a",{onClick:L,href:"#",role:"button",tabIndex:0,children:"Log Out"})})}),F.jsx("div",{className:"toast-container",children:y&&F.jsx("div",{className:"selection-toast",children:y})})]})]})});oR.propTypes={isActive:ji.bool.isRequired,onToggle:ji.func.isRequired,onCourseSelect:ji.func,onSemesterSelect:ji.func};const lR=rt.forwardRef(({onLoginClick:o,isLoggedIn:t,courseData:e},n)=>{const[r,l]=rt.useState(!1),[c,h]=rt.useState(""),[p,m]=rt.useState([]),y=rt.useRef(null),_=rt.useRef(null);rt.useEffect(()=>{const P=setTimeout(()=>l(!0),500);return()=>clearTimeout(P)},[]),rt.useEffect(()=>{const P=z=>{y.current&&!y.current.contains(z.target)&&_.current&&!_.current.contains(z.target)&&m([])};return document.addEventListener("mousedown",P),()=>{document.removeEventListener("mousedown",P)}},[]);const A=()=>{window.scrollTo({top:window.innerHeight,behavior:"smooth"})},S=Array.from({length:15},(P,z)=>F.jsx("div",{className:`bubble bubble${z+1}`},z)),C=P=>{const z=P.target.value;if(h(z),z.trim()==="")m([]);else{const G=M(z,e);console.log("Search Results:",G),m(G)}},M=(P,z)=>{const G=[];for(const Y in z)if(Y.toLowerCase().includes(P.toLowerCase()))for(const W in z[Y])z[Y][W].forEach(X=>{X.items.forEach(L=>{(L.type==="PDF"||L.type==="Paper")&&L.subItems.forEach(D=>{G.push({course:Y,semester:W,subject:X.name,type:L.type,subItem:D})})})});return G},j=P=>{const G={"DBMS Basic Concept":"/pdfs/dbms-basic-concept.pdf","ER Diagram":"/pdfs/er-diagram.pdf",CA:"/papers/ca-paper.pdf",MID:"/papers/mid-paper.pdf",Calculus:"/pdfs/calculus.pdf",Algebra:"/pdfs/algebra.pdf","Network Layers":"/pdfs/network-layers.pdf","TCP/IP":"/pdfs/tcp-ip.pdf","Ohm's Law":"/pdfs/ohms-law.pdf","Kirchhoff's Laws":"/pdfs/kirchhoffs-laws.pdf"}[P.subItem];G?window.open(G,"_blank"):console.error("File not found for:",P.subItem)};return F.jsxs(F.Fragment,{children:[F.jsxs("header",{className:"hero",ref:n,children:[F.jsx("h1",{className:`heading ${r?"visible":""}`,children:"Smart Study, Sure Success"}),F.jsx("p",{className:`quote ${r?"visible":""}`,children:"Access quality study materials, stay focused, and achieve your academic goals effortlessly!"}),F.jsx("div",{className:`search-container ${r?"visible":""}`,ref:y,children:F.jsxs("div",{className:"search-box",children:[F.jsx("input",{type:"text",placeholder:"Search...","aria-label":"Search",value:c,onChange:C}),F.jsx("button",{"aria-label":"Search",children:F.jsx("i",{className:"fa-solid fa-magnifying-glass"})})]})}),F.jsx("div",{className:`scroll-arrow ${r?"visible":""}`,onClick:A,role:"button",tabIndex:0,"aria-label":"Scroll Down",children:F.jsx("i",{className:"fa fa-chevron-down"})}),!t&&F.jsx("button",{className:"login-button",onClick:o,"aria-label":"Login or Sign Up",children:"Login / Sign Up"}),S]}),p.length>0&&F.jsx("div",{className:"search-results-box",ref:_,style:{top:y.current?y.current.getBoundingClientRect().bottom+window.scrollY+10:"20%",left:"50%",transform:"translateX(-50%)"},children:p.map((P,z)=>F.jsx("div",{className:"search-result-item",onClick:()=>j(P),children:F.jsx("p",{children:F.jsx("strong",{children:P.subItem})})},z))})]})});lR.propTypes={onLoginClick:ji.func.isRequired,isLoggedIn:ji.bool.isRequired,courseData:ji.object.isRequired};const cR=({isVisible:o,onClose:t})=>{const[e,n]=rt.useState(!1),[r,l]=rt.useState(null),[c,h]=rt.useState(""),[p,m]=rt.useState(""),[y,_]=rt.useState(""),[A,S]=rt.useState(""),[C,M]=rt.useState(""),j=()=>{n(!e),console.log("Toggle form clicked, isActive:",!e)};rt.useEffect(()=>{o?document.body.classList.add("login-visible"):document.body.classList.remove("login-visible"),o||n(!1)},[o]);const P=async X=>{X.preventDefault();try{const L=await $T(xa,nR);l(L.user),window.location.reload()}catch(L){alert(`Google Login Failed: ${L.code} - ${L.message}`)}},z=async X=>{X.preventDefault();try{const L=await $T(xa,sR);l(L.user),window.location.reload()}catch(L){alert(`GitHub Login Failed: ${L.code} - ${L.message}`)}},G=async X=>{X.preventDefault(),console.log("Sign up form submitted");try{const L=await Yk(xa,p,y);await Wk(L.user,{displayName:c}),window.location.reload()}catch(L){alert(`Sign Up Error: ${L.code} - ${L.message}`)}},Y=async X=>{X.preventDefault(),console.log("Sign in form submitted");try{await $k(xa,A,C),window.location.reload()}catch(L){alert(`Sign In Error: ${L.code} - ${L.message}`)}},W=async()=>{const X=prompt("Enter your email to reset password:");if(X)try{await Xk(xa,X),alert("Password reset link sent! Check your email.")}catch(L){alert(`Password Reset Error: ${L.code} - ${L.message}`)}};return console.log("Rendering Login component, isActive:",e),F.jsxs("div",{className:`login-container ${o?"visible":""}`,children:[F.jsxs("div",{className:`container ${e?"active":""}`,id:"container",children:[F.jsx("div",{className:"form-container sign-up",children:F.jsxs("form",{onSubmit:G,children:[F.jsx("h1",{children:"Create Account"}),F.jsxs("div",{className:"social-icons",children:[F.jsx("a",{onClick:P,className:"icon",role:"button","aria-label":"Google",children:F.jsx("i",{className:"fab fa-google"})}),F.jsx("a",{onClick:z,className:"icon",role:"button","aria-label":"GitHub",children:F.jsx("i",{className:"fab fa-github"})})]}),F.jsx("span",{children:"or use your email for registration"}),F.jsx("input",{type:"text",placeholder:"Name",value:c,onChange:X=>h(X.target.value),required:!0}),F.jsx("input",{type:"email",placeholder:"Email",value:p,onChange:X=>m(X.target.value),required:!0}),F.jsx("input",{type:"password",placeholder:"Password",value:y,onChange:X=>_(X.target.value),required:!0}),F.jsx("button",{type:"submit",children:"Sign Up"})]})}),F.jsx("div",{className:"form-container sign-in",children:F.jsxs("form",{onSubmit:Y,children:[F.jsx("h1",{children:"Sign In"}),F.jsxs("div",{className:"social-icons",children:[F.jsx("a",{onClick:P,className:"icon",role:"button","aria-label":"Google",children:F.jsx("i",{className:"fab fa-google"})}),F.jsx("a",{onClick:z,className:"icon",role:"button","aria-label":"GitHub",children:F.jsx("i",{className:"fab fa-github"})})]}),F.jsx("span",{children:"or use your email and password"}),F.jsx("input",{type:"email",placeholder:"Email",value:A,onChange:X=>S(X.target.value),required:!0}),F.jsx("input",{type:"password",placeholder:"Password",value:C,onChange:X=>M(X.target.value),required:!0}),F.jsx("a",{href:"#",onClick:W,children:"Forgot Your Password?"}),F.jsx("button",{type:"submit",children:"Sign In"})]})}),F.jsx("div",{className:"toggle-container",children:F.jsxs("div",{className:"toggle",children:[F.jsxs("div",{className:"toggle-panel toggle-left",children:[F.jsx("h1",{children:"Welcome Back!"}),F.jsx("p",{children:"Enter your personal details to use all site features"}),F.jsx("button",{className:"toggle-btn",onClick:j,type:"button",children:"Sign In"})]}),F.jsxs("div",{className:"toggle-panel toggle-right",children:[F.jsx("h1",{children:"Hello, Friend!"}),F.jsx("p",{children:"Register with your personal details to use all site features"}),F.jsx("button",{className:"toggle-btn",onClick:j,type:"button",children:"Sign Up"})]})]})})]}),o&&F.jsx("div",{className:"overlay",onClick:t})]})};cR.propTypes={isVisible:ji.bool.isRequired,onClose:ji.func.isRequired};const wI=()=>F.jsxs("section",{className:"middle-heading",children:[F.jsx("div",{className:"decorative-circle"}),F.jsx("h2",{children:"Your Learning, Our Priority"}),F.jsx("p",{children:"Discover expertly curated study materials designed to help you master every subject with confidence and ease."}),F.jsx("a",{href:"/resources",className:"cta-button",children:"Explore Resources"})]}),TI="modulepreload",CI=function(o){return"/"+o},w1={},Xm=function(t,e,n){let r=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),h=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));r=Promise.allSettled(e.map(p=>{if(p=CI(p),p in w1)return;w1[p]=!0;const m=p.endsWith(".css"),y=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${y}`))return;const _=document.createElement("link");if(_.rel=m?"stylesheet":TI,m||(_.as="script"),_.crossOrigin="",_.href=p,h&&_.setAttribute("nonce",h),document.head.appendChild(_),m)return new Promise((A,S)=>{_.addEventListener("load",A),_.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return r.then(c=>{for(const h of c||[])h.status==="rejected"&&l(h.reason);return t().catch(l)})};var Yf={};Yf.d=(o,t)=>{for(var e in t)Yf.o(t,e)&&!Yf.o(o,e)&&Object.defineProperty(o,e,{enumerable:!0,get:t[e]})};Yf.o=(o,t)=>Object.prototype.hasOwnProperty.call(o,t);var It=globalThis.pdfjsLib={};Yf.d(It,{AbortException:()=>hu,AnnotationEditorLayer:()=>_A,AnnotationEditorParamsType:()=>Lt,AnnotationEditorType:()=>jt,AnnotationEditorUIManager:()=>nu,AnnotationLayer:()=>w4,AnnotationMode:()=>No,ColorPicker:()=>Kv,DOMSVGFactory:()=>lE,DrawLayer:()=>wA,FeatureTest:()=>Qi,GlobalWorkerOptions:()=>Da,ImageKind:()=>iv,InvalidPDFException:()=>hR,MissingPDFException:()=>uu,OPS:()=>bs,OutputScale:()=>f_,PDFDataRangeTransport:()=>ox,PDFDateString:()=>eE,PDFWorker:()=>dh,PasswordResponses:()=>MI,PermissionFlag:()=>DI,PixelsPerInch:()=>hl,RenderingCancelledException:()=>JA,TextLayer:()=>B_,UnexpectedResponseException:()=>Ay,Util:()=>St,VerbosityLevel:()=>yy,XfaLayer:()=>cx,build:()=>s4,createValidAbsoluteUrl:()=>NI,fetchData:()=>Sy,getDocument:()=>KP,getFilenameFromUrl:()=>VI,getPdfFilenameFromUrl:()=>GI,getXfaPageViewport:()=>qI,isDataScheme:()=>wy,isPdfFile:()=>tE,noContextMenu:()=>cs,normalizeUnicode:()=>HI,setLayerDimensions:()=>iu,shadow:()=>Kt,version:()=>n4});const Hi=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),uR=[1,0,0,1,0,0],c_=[.001,0,0,.001,0,0],RI=1e7,Y0=1.35,Ln={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},No={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},xI="pdfjs_internal_editor_",jt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Lt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},DI={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},ki={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},iv={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},ti={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},Sf={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},yy={ERRORS:0,WARNINGS:1,INFOS:5},bs={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},MI={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let by=yy.WARNINGS;function OI(o){Number.isInteger(o)&&(by=o)}function kI(){return by}function _y(o){by>=yy.INFOS&&console.log(`Info: ${o}`)}function Vt(o){by>=yy.WARNINGS&&console.log(`Warning: ${o}`)}function we(o){throw new Error(o)}function si(o,t){o||we(t)}function LI(o){switch(o==null?void 0:o.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function NI(o,t=null,e=null){if(!o)return null;try{if(e&&typeof o=="string"){if(e.addDefaultProtocol&&o.startsWith("www.")){const r=o.match(/\./g);(r==null?void 0:r.length)>=2&&(o=`http://${o}`)}if(e.tryConvertEncoding)try{o=jI(o)}catch{}}const n=t?new URL(o,t):new URL(o);if(LI(n))return n}catch{}return null}function Kt(o,t,e,n=!1){return Object.defineProperty(o,t,{value:e,enumerable:!n,configurable:!0,writable:!1}),e}const gl=function(){function t(e,n){this.message=e,this.name=n}return t.prototype=new Error,t.constructor=t,t}();class u_ extends gl{constructor(t,e){super(t,"PasswordException"),this.code=e}}class h_ extends gl{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class hR extends gl{constructor(t){super(t,"InvalidPDFException")}}class uu extends gl{constructor(t){super(t,"MissingPDFException")}}class Ay extends gl{constructor(t,e){super(t,"UnexpectedResponseException"),this.status=e}}class II extends gl{constructor(t){super(t,"FormatError")}}class hu extends gl{constructor(t){super(t,"AbortException")}}function dR(o){(typeof o!="object"||(o==null?void 0:o.length)===void 0)&&we("Invalid argument for bytesToString");const t=o.length,e=8192;if(t<e)return String.fromCharCode.apply(null,o);const n=[];for(let r=0;r<t;r+=e){const l=Math.min(r+e,t),c=o.subarray(r,l);n.push(String.fromCharCode.apply(null,c))}return n.join("")}function Ey(o){typeof o!="string"&&we("Invalid argument for stringToBytes");const t=o.length,e=new Uint8Array(t);for(let n=0;n<t;++n)e[n]=o.charCodeAt(n)&255;return e}function PI(o){return String.fromCharCode(o>>24&255,o>>16&255,o>>8&255,o&255)}function QA(o){const t=Object.create(null);for(const[e,n]of o)t[e]=n;return t}function FI(){const o=new Uint8Array(4);return o[0]=1,new Uint32Array(o.buffer,0,1)[0]===1}function UI(){try{return new Function(""),!0}catch{return!1}}class Qi{static get isLittleEndian(){return Kt(this,"isLittleEndian",FI())}static get isEvalSupported(){return Kt(this,"isEvalSupported",UI())}static get isOffscreenCanvasSupported(){return Kt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Kt(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):Kt(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var t,e;return Kt(this,"isCSSRoundSupported",(e=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const $0=Array.from(Array(256).keys(),o=>o.toString(16).padStart(2,"0"));var Pa,nv,d_;class St{static makeHexColor(t,e,n){return`#${$0[t]}${$0[e]}${$0[n]}`}static scaleMinMax(t,e){let n;t[0]?(t[0]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[3],e[3]*=t[3]):(n=e[0],e[0]=e[1],e[1]=n,n=e[2],e[2]=e[3],e[3]=n,t[1]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e){const n=t[0]*e[0]+t[1]*e[2]+e[4],r=t[0]*e[1]+t[1]*e[3]+e[5];return[n,r]}static applyInverseTransform(t,e){const n=e[0]*e[3]-e[1]*e[2],r=(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/n,l=(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/n;return[r,l]}static getAxialAlignedBoundingBox(t,e){const n=this.applyTransform(t,e),r=this.applyTransform(t.slice(2,4),e),l=this.applyTransform([t[0],t[3]],e),c=this.applyTransform([t[2],t[1]],e);return[Math.min(n[0],r[0],l[0],c[0]),Math.min(n[1],r[1],l[1],c[1]),Math.max(n[0],r[0],l[0],c[0]),Math.max(n[1],r[1],l[1],c[1])]}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t){const e=[t[0],t[2],t[1],t[3]],n=t[0]*e[0]+t[1]*e[2],r=t[0]*e[1]+t[1]*e[3],l=t[2]*e[0]+t[3]*e[2],c=t[2]*e[1]+t[3]*e[3],h=(n+c)/2,p=Math.sqrt((n+c)**2-4*(n*c-l*r))/2,m=h+p||1,y=h-p||1;return[Math.sqrt(m),Math.sqrt(y)]}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const n=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),r=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(n>r)return null;const l=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),c=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return l>c?null:[n,l,r,c]}static bezierBoundingBox(t,e,n,r,l,c,h,p,m){return m?(m[0]=Math.min(m[0],t,h),m[1]=Math.min(m[1],e,p),m[2]=Math.max(m[2],t,h),m[3]=Math.max(m[3],e,p)):m=[Math.min(t,h),Math.min(e,p),Math.max(t,h),Math.max(e,p)],R(this,Pa,d_).call(this,t,n,l,h,e,r,c,p,3*(-t+3*(n-l)+h),6*(t-2*n+l),3*(n-t),m),R(this,Pa,d_).call(this,t,n,l,h,e,r,c,p,3*(-e+3*(r-c)+p),6*(e-2*r+c),3*(r-e),m),m}}Pa=new WeakSet,nv=function(t,e,n,r,l,c,h,p,m,y){if(m<=0||m>=1)return;const _=1-m,A=m*m,S=A*m,C=_*(_*(_*t+3*m*e)+3*A*n)+S*r,M=_*(_*(_*l+3*m*c)+3*A*h)+S*p;y[0]=Math.min(y[0],C),y[1]=Math.min(y[1],M),y[2]=Math.max(y[2],C),y[3]=Math.max(y[3],M)},d_=function(t,e,n,r,l,c,h,p,m,y,_,A){if(Math.abs(m)<1e-12){Math.abs(y)>=1e-12&&R(this,Pa,nv).call(this,t,e,n,r,l,c,h,p,-_/y,A);return}const S=y**2-4*_*m;if(S<0)return;const C=Math.sqrt(S),M=2*m;R(this,Pa,nv).call(this,t,e,n,r,l,c,h,p,(-y+C)/M,A),R(this,Pa,nv).call(this,t,e,n,r,l,c,h,p,(-y-C)/M,A)},O(St,Pa);function jI(o){return decodeURIComponent(escape(o))}let K0=null,T1=null;function HI(o){return K0||(K0=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,T1=new Map([["ﬅ","ſt"]])),o.replaceAll(K0,(t,e,n)=>e?e.normalize("NFKC"):T1.get(n))}function BI(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const o=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(o);else for(let t=0;t<32;t++)o[t]=Math.floor(Math.random()*255);return dR(o)}const ZA="pdfjs_internal_id_",Qr={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function zI(o){return Uint8Array.prototype.toBase64?o.toBase64():btoa(dR(o))}const Jr="http://www.w3.org/2000/svg",tc=class tc{};kt(tc,"CSS",96),kt(tc,"PDF",72),kt(tc,"PDF_TO_CSS_UNITS",tc.CSS/tc.PDF);let hl=tc;async function Sy(o,t="text"){if(xf(o,document.baseURI)){const e=await fetch(o);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,n)=>{const r=new XMLHttpRequest;r.open("GET",o,!0),r.responseType=t,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(r.response);return}e(r.responseText);return}n(new Error(r.statusText))}},r.send(null)})}class Ag{constructor({viewBox:t,scale:e,rotation:n,offsetX:r=0,offsetY:l=0,dontFlip:c=!1}){this.viewBox=t,this.scale=e,this.rotation=n,this.offsetX=r,this.offsetY=l;const h=(t[2]+t[0])/2,p=(t[3]+t[1])/2;let m,y,_,A;switch(n%=360,n<0&&(n+=360),n){case 180:m=-1,y=0,_=0,A=1;break;case 90:m=0,y=1,_=1,A=0;break;case 270:m=0,y=-1,_=-1,A=0;break;case 0:m=1,y=0,_=0,A=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(_=-_,A=-A);let S,C,M,j;m===0?(S=Math.abs(p-t[1])*e+r,C=Math.abs(h-t[0])*e+l,M=(t[3]-t[1])*e,j=(t[2]-t[0])*e):(S=Math.abs(h-t[0])*e+r,C=Math.abs(p-t[1])*e+l,M=(t[2]-t[0])*e,j=(t[3]-t[1])*e),this.transform=[m*e,y*e,_*e,A*e,S-m*e*h-_*e*p,C-y*e*h-A*e*p],this.width=M,this.height=j}get rawDims(){const{viewBox:t}=this;return Kt(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:n=this.offsetX,offsetY:r=this.offsetY,dontFlip:l=!1}={}){return new Ag({viewBox:this.viewBox.slice(),scale:t,rotation:e,offsetX:n,offsetY:r,dontFlip:l})}convertToViewportPoint(t,e){return St.applyTransform([t,e],this.transform)}convertToViewportRectangle(t){const e=St.applyTransform([t[0],t[1]],this.transform),n=St.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],n[0],n[1]]}convertToPdfPoint(t,e){return St.applyInverseTransform([t,e],this.transform)}}class JA extends gl{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function wy(o){const t=o.length;let e=0;for(;e<t&&o[e].trim()==="";)e++;return o.substring(e,e+5).toLowerCase()==="data:"}function tE(o){return typeof o=="string"&&/\.pdf$/i.test(o)}function VI(o){return[o]=o.split(/[#?]/,1),o.substring(o.lastIndexOf("/")+1)}function GI(o,t="document.pdf"){if(typeof o!="string")return t;if(wy(o))return Vt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=e.exec(o);let l=n.exec(r[1])||n.exec(r[2])||n.exec(r[3]);if(l&&(l=l[0],l.includes("%")))try{l=n.exec(decodeURIComponent(l))[0]}catch{}return l||t}class C1{constructor(){kt(this,"started",Object.create(null));kt(this,"times",[])}time(t){t in this.started&&Vt(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||Vt(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:n}of this.times)e=Math.max(n.length,e);for(const{name:n,start:r,end:l}of this.times)t.push(`${n.padEnd(e)} ${l-r}ms
`);return t.join("")}}function xf(o,t){try{const{protocol:e}=t?new URL(o,t):new URL(o);return e==="http:"||e==="https:"}catch{return!1}}function cs(o){o.preventDefault()}function R1(o){console.log("Deprecated API usage: "+o)}var Jf;class eE{static toDateObject(t){if(!t||typeof t!="string")return null;d(this,Jf)||T(this,Jf,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=d(this,Jf).exec(t);if(!e)return null;const n=parseInt(e[1],10);let r=parseInt(e[2],10);r=r>=1&&r<=12?r-1:0;let l=parseInt(e[3],10);l=l>=1&&l<=31?l:1;let c=parseInt(e[4],10);c=c>=0&&c<=23?c:0;let h=parseInt(e[5],10);h=h>=0&&h<=59?h:0;let p=parseInt(e[6],10);p=p>=0&&p<=59?p:0;const m=e[7]||"Z";let y=parseInt(e[8],10);y=y>=0&&y<=23?y:0;let _=parseInt(e[9],10)||0;return _=_>=0&&_<=59?_:0,m==="-"?(c+=y,h+=_):m==="+"&&(c-=y,h-=_),new Date(Date.UTC(n,r,l,c,h,p))}}Jf=new WeakMap,O(eE,Jf);function qI(o,{scale:t=1,rotation:e=0}){const{width:n,height:r}=o.attributes.style,l=[0,0,parseInt(n),parseInt(r)];return new Ag({viewBox:l,scale:t,rotation:e})}function iE(o){if(o.startsWith("#")){const t=parseInt(o.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return o.startsWith("rgb(")?o.slice(4,-1).split(",").map(t=>parseInt(t)):o.startsWith("rgba(")?o.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(Vt(`Not a valid color format: "${o}"`),[0,0,0])}function XI(o){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const e of o.keys()){t.style.color=e;const n=window.getComputedStyle(t).color;o.set(e,iE(n))}t.remove()}function Le(o){const{a:t,b:e,c:n,d:r,e:l,f:c}=o.getTransform();return[t,e,n,r,l,c]}function Zr(o){const{a:t,b:e,c:n,d:r,e:l,f:c}=o.getTransform().invertSelf();return[t,e,n,r,l,c]}function iu(o,t,e=!1,n=!0){if(t instanceof Ag){const{pageWidth:r,pageHeight:l}=t.rawDims,{style:c}=o,h=Qi.isCSSRoundSupported,p=`var(--scale-factor) * ${r}px`,m=`var(--scale-factor) * ${l}px`,y=h?`round(down, ${p}, var(--scale-round-x, 1px))`:`calc(${p})`,_=h?`round(down, ${m}, var(--scale-round-y, 1px))`:`calc(${m})`;!e||t.rotation%180===0?(c.width=y,c.height=_):(c.width=_,c.height=y)}n&&o.setAttribute("data-main-rotation",t.rotation)}class f_{constructor(){const t=window.devicePixelRatio||1;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var Io,nc,_s,sc,tp,ep,Qv,fR,Zi,pR,gR,sv,mR,g_;const ta=class ta{constructor(t){O(this,Zi);O(this,Io,null);O(this,nc,null);O(this,_s);O(this,sc,null);O(this,tp,null);T(this,_s,t),d(ta,ep)||T(ta,ep,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const t=T(this,Io,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=d(this,_s)._uiManager._signal;t.addEventListener("contextmenu",cs,{signal:e}),t.addEventListener("pointerdown",R(ta,Qv,fR),{signal:e});const n=T(this,sc,document.createElement("div"));n.className="buttons",t.append(n);const r=d(this,_s).toolbarPosition;if(r){const{style:l}=t,c=d(this,_s)._uiManager.direction==="ltr"?1-r[0]:r[0];l.insetInlineEnd=`${100*c}%`,l.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return R(this,Zi,mR).call(this),t}get div(){return d(this,Io)}hide(){var t;d(this,Io).classList.add("hidden"),(t=d(this,nc))==null||t.hideDropdown()}show(){var t;d(this,Io).classList.remove("hidden"),(t=d(this,tp))==null||t.shown()}async addAltText(t){const e=await t.render();R(this,Zi,sv).call(this,e),d(this,sc).prepend(e,d(this,Zi,g_)),T(this,tp,t)}addColorPicker(t){T(this,nc,t);const e=t.renderButton();R(this,Zi,sv).call(this,e),d(this,sc).prepend(e,d(this,Zi,g_))}remove(){var t;d(this,Io).remove(),(t=d(this,nc))==null||t.destroy(),T(this,nc,null)}};Io=new WeakMap,nc=new WeakMap,_s=new WeakMap,sc=new WeakMap,tp=new WeakMap,ep=new WeakMap,Qv=new WeakSet,fR=function(t){t.stopPropagation()},Zi=new WeakSet,pR=function(t){d(this,_s)._focusEventsAllowed=!1,t.preventDefault(),t.stopPropagation()},gR=function(t){d(this,_s)._focusEventsAllowed=!0,t.preventDefault(),t.stopPropagation()},sv=function(t){const e=d(this,_s)._uiManager._signal;t.addEventListener("focusin",R(this,Zi,pR).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",R(this,Zi,gR).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",cs,{signal:e})},mR=function(){const{editorType:t,_uiManager:e}=d(this,_s),n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",d(ta,ep)[t]),R(this,Zi,sv).call(this,n),n.addEventListener("click",r=>{e.delete()},{signal:e._signal}),d(this,sc).append(n)},g_=function(){const t=document.createElement("div");return t.className="divider",t},O(ta,Qv),O(ta,ep,null);let p_=ta;var ip,rc,ac,fl,vR,yR,bR;class YI{constructor(t){O(this,fl);O(this,ip,null);O(this,rc,null);O(this,ac);T(this,ac,t)}show(t,e,n){const[r,l]=R(this,fl,yR).call(this,e,n),{style:c}=d(this,rc)||T(this,rc,R(this,fl,vR).call(this));t.append(d(this,rc)),c.insetInlineEnd=`${100*r}%`,c.top=`calc(${100*l}% + var(--editor-toolbar-vert-offset))`}hide(){d(this,rc).remove()}}ip=new WeakMap,rc=new WeakMap,ac=new WeakMap,fl=new WeakSet,vR=function(){const t=T(this,rc,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",cs,{signal:d(this,ac)._signal});const e=T(this,ip,document.createElement("div"));return e.className="buttons",t.append(e),R(this,fl,bR).call(this),t},yR=function(t,e){let n=0,r=0;for(const l of t){const c=l.y+l.height;if(c<n)continue;const h=l.x+(e?l.width:0);if(c>n){r=h,n=c;continue}e?h>r&&(r=h):h<r&&(r=h)}return[e?1-r:r,n]},bR=function(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=d(this,ac)._signal;t.addEventListener("contextmenu",cs,{signal:n}),t.addEventListener("click",()=>{d(this,ac).highlightSelection("floating_button")},{signal:n}),d(this,ip).append(t)};function Xv(o,t,e){for(const n of e)t.addEventListener(n,o[n].bind(o))}function $I(o){return Math.round(Math.min(255,Math.max(1,255*o))).toString(16).padStart(2,"0")}var Zv;class KI{constructor(){O(this,Zv,0)}get id(){return`${xI}${Xi(this,Zv)._++}`}}Zv=new WeakMap;var gh,np,Ni,mh,rv;const hE=class hE{constructor(){O(this,mh);O(this,gh,BI());O(this,np,0);O(this,Ni,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=t;const l=r.decode().then(()=>(n.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return Kt(this,"_isSVGFittingCanvas",l)}async getFromFile(t){const{lastModified:e,name:n,size:r,type:l}=t;return R(this,mh,rv).call(this,`${e}_${n}_${r}_${l}`,t)}async getFromUrl(t){return R(this,mh,rv).call(this,t,t)}async getFromBlob(t,e){const n=await e;return R(this,mh,rv).call(this,t,n)}async getFromId(t){d(this,Ni)||T(this,Ni,new Map);const e=d(this,Ni).get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:n}=e;return delete e.blobPromise,this.getFromBlob(e.id,n)}return this.getFromUrl(e.url)}getFromCanvas(t,e){d(this,Ni)||T(this,Ni,new Map);let n=d(this,Ni).get(t);if(n!=null&&n.bitmap)return n.refCounter+=1,n;const r=new OffscreenCanvas(e.width,e.height);return r.getContext("2d").drawImage(e,0,0),n={bitmap:r.transferToImageBitmap(),id:`image_${d(this,gh)}_${Xi(this,np)._++}`,refCounter:1,isSvg:!1},d(this,Ni).set(t,n),d(this,Ni).set(n.id,n),n}getSvgUrl(t){const e=d(this,Ni).get(t);return e!=null&&e.isSvg?e.svgUrl:null}deleteId(t){var r;d(this,Ni)||T(this,Ni,new Map);const e=d(this,Ni).get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:n}=e;if(!e.url&&!e.file){const l=new OffscreenCanvas(n.width,n.height);l.getContext("bitmaprenderer").transferFromImageBitmap(n),e.blobPromise=l.convertToBlob()}(r=n.close)==null||r.call(n),e.bitmap=null}isValidId(t){return t.startsWith(`image_${d(this,gh)}_`)}};gh=new WeakMap,np=new WeakMap,Ni=new WeakMap,mh=new WeakSet,rv=async function(t,e){d(this,Ni)||T(this,Ni,new Map);let n=d(this,Ni).get(t);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${d(this,gh)}_${Xi(this,np)._++}`,refCounter:0,isSvg:!1});let r;if(typeof e=="string"?(n.url=e,r=await Sy(e,"blob")):e instanceof File?r=n.file=e:e instanceof Blob&&(r=e),r.type==="image/svg+xml"){const l=hE._isSVGFittingCanvas,c=new FileReader,h=new Image,p=new Promise((m,y)=>{h.onload=()=>{n.bitmap=h,n.isSvg=!0,m()},c.onload=async()=>{const _=n.svgUrl=c.result;h.src=await l?`${_}#svgView(preserveAspectRatio(none))`:_},h.onerror=c.onerror=y});c.readAsDataURL(r),await p}else n.bitmap=await createImageBitmap(r);n.refCounter=1}catch(r){console.error(r),n=null}return d(this,Ni).set(t,n),n&&d(this,Ni).set(n.id,n),n};let m_=hE;var gi,Po,sp,mi;class WI{constructor(t=128){O(this,gi,[]);O(this,Po,!1);O(this,sp);O(this,mi,-1);T(this,sp,t)}add({cmd:t,undo:e,post:n,mustExec:r,type:l=NaN,overwriteIfSameType:c=!1,keepUndo:h=!1}){if(r&&t(),d(this,Po))return;const p={cmd:t,undo:e,post:n,type:l};if(d(this,mi)===-1){d(this,gi).length>0&&(d(this,gi).length=0),T(this,mi,0),d(this,gi).push(p);return}if(c&&d(this,gi)[d(this,mi)].type===l){h&&(p.undo=d(this,gi)[d(this,mi)].undo),d(this,gi)[d(this,mi)]=p;return}const m=d(this,mi)+1;m===d(this,sp)?d(this,gi).splice(0,1):(T(this,mi,m),m<d(this,gi).length&&d(this,gi).splice(m)),d(this,gi).push(p)}undo(){if(d(this,mi)===-1)return;T(this,Po,!0);const{undo:t,post:e}=d(this,gi)[d(this,mi)];t(),e==null||e(),T(this,Po,!1),T(this,mi,d(this,mi)-1)}redo(){if(d(this,mi)<d(this,gi).length-1){T(this,mi,d(this,mi)+1),T(this,Po,!0);const{cmd:t,post:e}=d(this,gi)[d(this,mi)];t(),e==null||e(),T(this,Po,!1)}}hasSomethingToUndo(){return d(this,mi)!==-1}hasSomethingToRedo(){return d(this,mi)<d(this,gi).length-1}destroy(){T(this,gi,null)}}gi=new WeakMap,Po=new WeakMap,sp=new WeakMap,mi=new WeakMap;var Jv,_R;class Eg{constructor(t){O(this,Jv);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=Qi.platform;for(const[n,r,l={}]of t)for(const c of n){const h=c.startsWith("mac+");e&&h?(this.callbacks.set(c.slice(4),{callback:r,options:l}),this.allKeys.add(c.split("+").at(-1))):!e&&!h&&(this.callbacks.set(c,{callback:r,options:l}),this.allKeys.add(c.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const n=this.callbacks.get(R(this,Jv,_R).call(this,e));if(!n)return;const{callback:r,options:{bubbles:l=!1,args:c=[],checker:h=null}}=n;h&&!h(t,e)||(r.bind(t,...c,e)(),l||(e.stopPropagation(),e.preventDefault()))}}Jv=new WeakSet,_R=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e};const ty=class ty{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return XI(t),Kt(this,"_colors",t)}convert(t){const e=iE(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[n,r]of this._colors)if(r.every((l,c)=>l===e[c]))return ty._colorsMapping.get(n);return e}getHexCode(t){const e=this._colors.get(t);return e?St.makeHexColor(...e):t}};kt(ty,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let v_=ty;var vh,Tn,ei,wi,yh,ia,bh,As,Fo,_h,oc,tr,Es,lc,rp,ap,Ah,op,er,Uo,Eh,jo,ir,ey,Ho,lp,Bo,cc,cp,up,vi,ce,na,uc,hp,dp,zo,nr,sa,fp,ts,vt,av,y_,AR,ER,ov,SR,wR,TR,b_,CR,__,A_,RR,Yi,Mo,xR,DR,E_,MR,Df,S_;const oh=class oh{constructor(t,e,n,r,l,c,h,p,m,y,_){O(this,vt);O(this,vh,new AbortController);O(this,Tn,null);O(this,ei,new Map);O(this,wi,new Map);O(this,yh,null);O(this,ia,null);O(this,bh,null);O(this,As,new WI);O(this,Fo,null);O(this,_h,0);O(this,oc,new Set);O(this,tr,null);O(this,Es,null);O(this,lc,new Set);O(this,rp,!1);O(this,ap,!1);O(this,Ah,!1);O(this,op,null);O(this,er,null);O(this,Uo,null);O(this,Eh,null);O(this,jo,!1);O(this,ir,null);O(this,ey,new KI);O(this,Ho,!1);O(this,lp,!1);O(this,Bo,null);O(this,cc,null);O(this,cp,null);O(this,up,null);O(this,vi,jt.NONE);O(this,ce,new Set);O(this,na,null);O(this,uc,null);O(this,hp,null);O(this,dp,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});O(this,zo,[0,0]);O(this,nr,null);O(this,sa,null);O(this,fp,null);O(this,ts,null);const A=this._signal=d(this,vh).signal;T(this,sa,t),T(this,fp,e),T(this,yh,n),this._eventBus=r,r._on("editingaction",this.onEditingAction.bind(this),{signal:A}),r._on("pagechanging",this.onPageChanging.bind(this),{signal:A}),r._on("scalechanging",this.onScaleChanging.bind(this),{signal:A}),r._on("rotationchanging",this.onRotationChanging.bind(this),{signal:A}),r._on("setpreference",this.onSetPreference.bind(this),{signal:A}),r._on("switchannotationeditorparams",S=>this.updateParams(S.type,S.value),{signal:A}),R(this,vt,SR).call(this),R(this,vt,RR).call(this),R(this,vt,b_).call(this),T(this,ia,l.annotationStorage),T(this,op,l.filterFactory),T(this,uc,c),T(this,Eh,h||null),T(this,rp,p),T(this,ap,m),T(this,Ah,y),T(this,up,_||null),this.viewParameters={realScale:hl.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const t=oh.prototype,e=c=>d(c,sa).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&c.hasSomethingToControl(),n=(c,{target:h})=>{if(h instanceof HTMLInputElement){const{type:p}=h;return p!=="text"&&p!=="number"}return!0},r=this.TRANSLATE_SMALL,l=this.TRANSLATE_BIG;return Kt(this,"_keyboardManager",new Eg([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],t.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:n}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(c,{target:h})=>!(h instanceof HTMLButtonElement)&&d(c,sa).contains(h)&&!c.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(c,{target:h})=>!(h instanceof HTMLButtonElement)&&d(c,sa).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-l,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[l,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-l],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,l],checker:e}]]))}destroy(){var t,e,n,r;(t=d(this,ts))==null||t.resolve(),T(this,ts,null),(e=d(this,vh))==null||e.abort(),T(this,vh,null),this._signal=null;for(const l of d(this,wi).values())l.destroy();d(this,wi).clear(),d(this,ei).clear(),d(this,lc).clear(),T(this,Tn,null),d(this,ce).clear(),d(this,As).destroy(),(n=d(this,yh))==null||n.destroy(),(r=d(this,ir))==null||r.hide(),T(this,ir,null),d(this,er)&&(clearTimeout(d(this,er)),T(this,er,null)),d(this,nr)&&(clearTimeout(d(this,nr)),T(this,nr,null))}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return d(this,up)}get useNewAltTextFlow(){return d(this,ap)}get useNewAltTextWhenAddingImage(){return d(this,Ah)}get hcmFilter(){return Kt(this,"hcmFilter",d(this,uc)?d(this,op).addHCMFilter(d(this,uc).foreground,d(this,uc).background):"none")}get direction(){return Kt(this,"direction",getComputedStyle(d(this,sa)).direction)}get highlightColors(){return Kt(this,"highlightColors",d(this,Eh)?new Map(d(this,Eh).split(",").map(t=>t.split("=").map(e=>e.trim()))):null)}get highlightColorNames(){return Kt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setMainHighlightColorPicker(t){T(this,cp,t)}editAltText(t,e=!1){var n;(n=d(this,yh))==null||n.editAltText(this,t,e)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":T(this,Ah,e);break}}onPageChanging({pageNumber:t}){T(this,_h,t-1)}focusMainContainer(){d(this,sa).focus()}findParent(t,e){for(const n of d(this,wi).values()){const{x:r,y:l,width:c,height:h}=n.div.getBoundingClientRect();if(t>=r&&t<=r+c&&e>=l&&e<=l+h)return n}return null}disableUserSelect(t=!1){d(this,fp).classList.toggle("noUserSelect",t)}addShouldRescale(t){d(this,lc).add(t)}removeShouldRescale(t){d(this,lc).delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*hl.PDF_TO_CSS_UNITS;for(const e of d(this,lc))e.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:n,anchorOffset:r,focusNode:l,focusOffset:c}=e,h=e.toString(),m=R(this,vt,av).call(this,e).closest(".textLayer"),y=this.getSelectionBoxes(m);if(!y)return;e.empty();const _=R(this,vt,y_).call(this,m),A=d(this,vi)===jt.NONE,S=()=>{_==null||_.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:y,anchorNode:n,anchorOffset:r,focusNode:l,focusOffset:c,text:h}),A&&this.showAllEditors("highlight",!0,!0)};if(A){this.switchToMode(jt.HIGHLIGHT,S);return}S()}addToAnnotationStorage(t){!t.isEmpty()&&d(this,ia)&&!d(this,ia).has(t.id)&&d(this,ia).setValue(t.id,t)}blur(){if(this.isShiftKeyDown=!1,d(this,jo)&&(T(this,jo,!1),R(this,vt,ov).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of d(this,ce))if(e.div.contains(t)){T(this,cc,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!d(this,cc))return;const[t,e]=d(this,cc);T(this,cc,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}addEditListeners(){R(this,vt,b_).call(this),R(this,vt,__).call(this)}removeEditListeners(){R(this,vt,CR).call(this),R(this,vt,A_).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const n of d(this,Es))if(n.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const n of d(this,Es))if(n.isHandlingMimeForPasting(e.type)){n.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){var n;if(t.preventDefault(),(n=d(this,Tn))==null||n.commitOrRemove(),!this.hasSelection)return;const e=[];for(const r of d(this,ce)){const l=r.serialize(!0);l&&e.push(l)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const l of e.items)for(const c of d(this,Es))if(c.isHandlingMimeForPasting(l.type)){c.paste(l,this.currentLayer);return}let n=e.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(l){Vt(`paste: "${l.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const r=this.currentLayer;try{const l=[];for(const p of n){const m=await r.deserialize(p);if(!m)return;l.push(m)}const c=()=>{for(const p of l)R(this,vt,E_).call(this,p);R(this,vt,S_).call(this,l)},h=()=>{for(const p of l)p.remove()};this.addCommands({cmd:c,undo:h,mustExec:!0})}catch(l){Vt(`paste: "${l.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),d(this,vi)!==jt.NONE&&!this.isEditorHandlingKeyboard&&oh._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,d(this,jo)&&(T(this,jo,!1),R(this,vt,ov).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(t){t?(R(this,vt,wR).call(this),R(this,vt,__).call(this),R(this,vt,Yi).call(this,{isEditing:d(this,vi)!==jt.NONE,isEmpty:R(this,vt,Df).call(this),hasSomethingToUndo:d(this,As).hasSomethingToUndo(),hasSomethingToRedo:d(this,As).hasSomethingToRedo(),hasSelectedEditor:!1})):(R(this,vt,TR).call(this),R(this,vt,A_).call(this),R(this,vt,Yi).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!d(this,Es)){T(this,Es,t);for(const e of d(this,Es))R(this,vt,Mo).call(this,e.defaultPropertiesToUpdate)}}getId(){return d(this,ey).id}get currentLayer(){return d(this,wi).get(d(this,_h))}getLayer(t){return d(this,wi).get(t)}get currentPageIndex(){return d(this,_h)}addLayer(t){d(this,wi).set(t.pageIndex,t),d(this,Ho)?t.enable():t.disable()}removeLayer(t){d(this,wi).delete(t.pageIndex)}async updateMode(t,e=null,n=!1){if(d(this,vi)!==t&&!(d(this,ts)&&(await d(this,ts).promise,!d(this,ts)))){if(T(this,ts,Promise.withResolvers()),T(this,vi,t),t===jt.NONE){this.setEditingState(!1),R(this,vt,DR).call(this),d(this,ts).resolve();return}this.setEditingState(!0),await R(this,vt,xR).call(this),this.unselectAll();for(const r of d(this,wi).values())r.updateMode(t);if(!e){n&&this.addNewEditorFromKeyboard(),d(this,ts).resolve();return}for(const r of d(this,ei).values())r.annotationElementId===e?(this.setSelected(r),r.enterInEditMode()):r.unselect();d(this,ts).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==d(this,vi)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,e){var n;if(d(this,Es)){switch(t){case Lt.CREATE:this.currentLayer.addNewEditor();return;case Lt.HIGHLIGHT_DEFAULT_COLOR:(n=d(this,cp))==null||n.updateColor(e);break;case Lt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(d(this,hp)||T(this,hp,new Map)).set(t,e),this.showAllEditors("highlight",e);break}for(const r of d(this,ce))r.updateParams(t,e);for(const r of d(this,Es))r.updateDefaultParams(t,e)}}showAllEditors(t,e,n=!1){var l;for(const c of d(this,ei).values())c.editorType===t&&c.show(e);(((l=d(this,hp))==null?void 0:l.get(Lt.HIGHLIGHT_SHOW_ALL))??!0)!==e&&R(this,vt,Mo).call(this,[[Lt.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(d(this,lp)!==t){T(this,lp,t);for(const e of d(this,wi).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}getEditors(t){const e=[];for(const n of d(this,ei).values())n.pageIndex===t&&e.push(n);return e}getEditor(t){return d(this,ei).get(t)}addEditor(t){d(this,ei).set(t.id,t)}removeEditor(t){var e;t.div.contains(document.activeElement)&&(d(this,er)&&clearTimeout(d(this,er)),T(this,er,setTimeout(()=>{this.focusMainContainer(),T(this,er,null)},0))),d(this,ei).delete(t.id),this.unselect(t),(!t.annotationElementId||!d(this,oc).has(t.annotationElementId))&&((e=d(this,ia))==null||e.remove(t.id))}addDeletedAnnotationElement(t){d(this,oc).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return d(this,oc).has(t)}removeDeletedAnnotationElement(t){d(this,oc).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){d(this,Tn)!==t&&(T(this,Tn,t),t&&R(this,vt,Mo).call(this,t.propertiesToUpdate))}updateUI(t){d(this,vt,MR)===t&&R(this,vt,Mo).call(this,t.propertiesToUpdate)}toggleSelected(t){if(d(this,ce).has(t)){d(this,ce).delete(t),t.unselect(),R(this,vt,Yi).call(this,{hasSelectedEditor:this.hasSelection});return}d(this,ce).add(t),t.select(),R(this,vt,Mo).call(this,t.propertiesToUpdate),R(this,vt,Yi).call(this,{hasSelectedEditor:!0})}setSelected(t){for(const e of d(this,ce))e!==t&&e.unselect();d(this,ce).clear(),d(this,ce).add(t),t.select(),R(this,vt,Mo).call(this,t.propertiesToUpdate),R(this,vt,Yi).call(this,{hasSelectedEditor:!0})}isSelected(t){return d(this,ce).has(t)}get firstSelectedEditor(){return d(this,ce).values().next().value}unselect(t){t.unselect(),d(this,ce).delete(t),R(this,vt,Yi).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return d(this,ce).size!==0}get isEnterHandled(){return d(this,ce).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){d(this,As).undo(),R(this,vt,Yi).call(this,{hasSomethingToUndo:d(this,As).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:R(this,vt,Df).call(this)})}redo(){d(this,As).redo(),R(this,vt,Yi).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:d(this,As).hasSomethingToRedo(),isEmpty:R(this,vt,Df).call(this)})}addCommands(t){d(this,As).add(t),R(this,vt,Yi).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:R(this,vt,Df).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const t=[...d(this,ce)],e=()=>{for(const r of t)r.remove()},n=()=>{for(const r of t)R(this,vt,E_).call(this,r)};this.addCommands({cmd:e,undo:n,mustExec:!0})}commitOrRemove(){var t;(t=d(this,Tn))==null||t.commitOrRemove()}hasSomethingToControl(){return d(this,Tn)||this.hasSelection}selectAll(){for(const t of d(this,ce))t.commit();R(this,vt,S_).call(this,d(this,ei).values())}unselectAll(){if(!(d(this,Tn)&&(d(this,Tn).commitOrRemove(),d(this,vi)!==jt.NONE))&&this.hasSelection){for(const t of d(this,ce))t.unselect();d(this,ce).clear(),R(this,vt,Yi).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;d(this,zo)[0]+=t,d(this,zo)[1]+=e;const[r,l]=d(this,zo),c=[...d(this,ce)],h=1e3;d(this,nr)&&clearTimeout(d(this,nr)),T(this,nr,setTimeout(()=>{T(this,nr,null),d(this,zo)[0]=d(this,zo)[1]=0,this.addCommands({cmd:()=>{for(const p of c)d(this,ei).has(p.id)&&p.translateInPage(r,l)},undo:()=>{for(const p of c)d(this,ei).has(p.id)&&p.translateInPage(-r,-l)},mustExec:!1})},h));for(const p of c)p.translateInPage(t,e)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),T(this,tr,new Map);for(const t of d(this,ce))d(this,tr).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!d(this,tr))return!1;this.disableUserSelect(!1);const t=d(this,tr);T(this,tr,null);let e=!1;for(const[{x:r,y:l,pageIndex:c},h]of t)h.newX=r,h.newY=l,h.newPageIndex=c,e||(e=r!==h.savedX||l!==h.savedY||c!==h.savedPageIndex);if(!e)return!1;const n=(r,l,c,h)=>{if(d(this,ei).has(r.id)){const p=d(this,wi).get(h);p?r._setParentAndPosition(p,l,c):(r.pageIndex=h,r.x=l,r.y=c)}};return this.addCommands({cmd:()=>{for(const[r,{newX:l,newY:c,newPageIndex:h}]of t)n(r,l,c,h)},undo:()=>{for(const[r,{savedX:l,savedY:c,savedPageIndex:h}]of t)n(r,l,c,h)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(d(this,tr))for(const n of d(this,tr).keys())n.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||d(this,ce).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return d(this,Tn)===t}getActive(){return d(this,Tn)}getMode(){return d(this,vi)}get imageManager(){return Kt(this,"imageManager",new m_)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let m=0,y=e.rangeCount;m<y;m++)if(!t.contains(e.getRangeAt(m).commonAncestorContainer))return null;const{x:n,y:r,width:l,height:c}=t.getBoundingClientRect();let h;switch(t.getAttribute("data-main-rotation")){case"90":h=(m,y,_,A)=>({x:(y-r)/c,y:1-(m+_-n)/l,width:A/c,height:_/l});break;case"180":h=(m,y,_,A)=>({x:1-(m+_-n)/l,y:1-(y+A-r)/c,width:_/l,height:A/c});break;case"270":h=(m,y,_,A)=>({x:1-(y+A-r)/c,y:(m-n)/l,width:A/c,height:_/l});break;default:h=(m,y,_,A)=>({x:(m-n)/l,y:(y-r)/c,width:_/l,height:A/c});break}const p=[];for(let m=0,y=e.rangeCount;m<y;m++){const _=e.getRangeAt(m);if(!_.collapsed)for(const{x:A,y:S,width:C,height:M}of _.getClientRects())C===0||M===0||p.push(h(A,S,C,M))}return p.length===0?null:p}addChangedExistingAnnotation({annotationElementId:t,id:e}){(d(this,bh)||T(this,bh,new Map)).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){var e;(e=d(this,bh))==null||e.delete(t)}renderAnnotationElement(t){var r;const e=(r=d(this,bh))==null?void 0:r.get(t.data.id);if(!e)return;const n=d(this,ia).getRawValue(e);n&&(d(this,vi)===jt.NONE&&!n.hasBeenModified||n.renderAnnotationElement(t))}};vh=new WeakMap,Tn=new WeakMap,ei=new WeakMap,wi=new WeakMap,yh=new WeakMap,ia=new WeakMap,bh=new WeakMap,As=new WeakMap,Fo=new WeakMap,_h=new WeakMap,oc=new WeakMap,tr=new WeakMap,Es=new WeakMap,lc=new WeakMap,rp=new WeakMap,ap=new WeakMap,Ah=new WeakMap,op=new WeakMap,er=new WeakMap,Uo=new WeakMap,Eh=new WeakMap,jo=new WeakMap,ir=new WeakMap,ey=new WeakMap,Ho=new WeakMap,lp=new WeakMap,Bo=new WeakMap,cc=new WeakMap,cp=new WeakMap,up=new WeakMap,vi=new WeakMap,ce=new WeakMap,na=new WeakMap,uc=new WeakMap,hp=new WeakMap,dp=new WeakMap,zo=new WeakMap,nr=new WeakMap,sa=new WeakMap,fp=new WeakMap,ts=new WeakMap,vt=new WeakSet,av=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},y_=function(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const n of d(this,wi).values())if(n.hasTextLayer(t))return n;return null},AR=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const n=R(this,vt,av).call(this,t).closest(".textLayer"),r=this.getSelectionBoxes(n);r&&(d(this,ir)||T(this,ir,new YI(this)),d(this,ir).show(n,r,this.direction==="ltr"))},ER=function(){var l,c,h;const t=document.getSelection();if(!t||t.isCollapsed){d(this,na)&&((l=d(this,ir))==null||l.hide(),T(this,na,null),R(this,vt,Yi).call(this,{hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===d(this,na))return;const r=R(this,vt,av).call(this,t).closest(".textLayer");if(!r){d(this,na)&&((c=d(this,ir))==null||c.hide(),T(this,na,null),R(this,vt,Yi).call(this,{hasSelectedText:!1}));return}if((h=d(this,ir))==null||h.hide(),T(this,na,e),R(this,vt,Yi).call(this,{hasSelectedText:!0}),!(d(this,vi)!==jt.HIGHLIGHT&&d(this,vi)!==jt.NONE)&&(d(this,vi)===jt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),T(this,jo,this.isShiftKeyDown),!this.isShiftKeyDown)){const p=d(this,vi)===jt.HIGHLIGHT?R(this,vt,y_).call(this,r):null;p==null||p.toggleDrawing();const m=new AbortController,y=this.combinedSignal(m),_=A=>{A.type==="pointerup"&&A.button!==0||(m.abort(),p==null||p.toggleDrawing(!0),A.type==="pointerup"&&R(this,vt,ov).call(this,"main_toolbar"))};window.addEventListener("pointerup",_,{signal:y}),window.addEventListener("blur",_,{signal:y})}},ov=function(t=""){d(this,vi)===jt.HIGHLIGHT?this.highlightSelection(t):d(this,rp)&&R(this,vt,AR).call(this)},SR=function(){document.addEventListener("selectionchange",R(this,vt,ER).bind(this),{signal:this._signal})},wR=function(){if(d(this,Uo))return;T(this,Uo,new AbortController);const t=this.combinedSignal(d(this,Uo));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})},TR=function(){var t;(t=d(this,Uo))==null||t.abort(),T(this,Uo,null)},b_=function(){if(d(this,Bo))return;T(this,Bo,new AbortController);const t=this.combinedSignal(d(this,Bo));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})},CR=function(){var t;(t=d(this,Bo))==null||t.abort(),T(this,Bo,null)},__=function(){if(d(this,Fo))return;T(this,Fo,new AbortController);const t=this.combinedSignal(d(this,Fo));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})},A_=function(){var t;(t=d(this,Fo))==null||t.abort(),T(this,Fo,null)},RR=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},Yi=function(t){Object.entries(t).some(([n,r])=>d(this,dp)[n]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(d(this,dp),t)}),d(this,vi)===jt.HIGHLIGHT&&t.hasSelectedEditor===!1&&R(this,vt,Mo).call(this,[[Lt.HIGHLIGHT_FREE,!0]]))},Mo=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},xR=async function(){if(!d(this,Ho)){T(this,Ho,!0);const t=[];for(const e of d(this,wi).values())t.push(e.enable());await Promise.all(t);for(const e of d(this,ei).values())e.enable()}},DR=function(){if(this.unselectAll(),d(this,Ho)){T(this,Ho,!1);for(const t of d(this,wi).values())t.disable();for(const t of d(this,ei).values())t.disable()}},E_=function(t){const e=d(this,wi).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},MR=function(){let t=null;for(t of d(this,ce));return t},Df=function(){if(d(this,ei).size===0)return!0;if(d(this,ei).size===1)for(const t of d(this,ei).values())return t.isEmpty();return!1},S_=function(t){for(const e of d(this,ce))e.unselect();d(this,ce).clear();for(const e of t)e.isEmpty()||(d(this,ce).add(e),e.select());R(this,vt,Yi).call(this,{hasSelectedEditor:this.hasSelection})},kt(oh,"TRANSLATE_SMALL",1),kt(oh,"TRANSLATE_BIG",10);let nu=oh;var yi,sr,Ss,Sh,rr,Cn,wh,ar,cn,ra,hc,or,Vo,Is,Mf,lv;const $i=class $i{constructor(t){O(this,Is);O(this,yi,null);O(this,sr,!1);O(this,Ss,null);O(this,Sh,null);O(this,rr,null);O(this,Cn,null);O(this,wh,!1);O(this,ar,null);O(this,cn,null);O(this,ra,null);O(this,hc,null);O(this,or,!1);T(this,cn,t),T(this,or,t._uiManager.useNewAltTextFlow),d($i,Vo)||T($i,Vo,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){$i._l10n??($i._l10n=t)}async render(){const t=T(this,Ss,document.createElement("button"));t.className="altText",t.tabIndex="0";const e=T(this,Sh,document.createElement("span"));t.append(e),d(this,or)?(t.classList.add("new"),t.setAttribute("data-l10n-id",d($i,Vo).missing),e.setAttribute("data-l10n-id",d($i,Vo)["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=d(this,cn)._uiManager._signal;t.addEventListener("contextmenu",cs,{signal:n}),t.addEventListener("pointerdown",l=>l.stopPropagation(),{signal:n});const r=l=>{l.preventDefault(),d(this,cn)._uiManager.editAltText(d(this,cn)),d(this,or)&&d(this,cn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:d(this,Is,Mf)}})};return t.addEventListener("click",r,{capture:!0,signal:n}),t.addEventListener("keydown",l=>{l.target===t&&l.key==="Enter"&&(T(this,wh,!0),r(l))},{signal:n}),await R(this,Is,lv).call(this),t}finish(){d(this,Ss)&&(d(this,Ss).focus({focusVisible:d(this,wh)}),T(this,wh,!1))}isEmpty(){return d(this,or)?d(this,yi)===null:!d(this,yi)&&!d(this,sr)}hasData(){return d(this,or)?d(this,yi)!==null||!!d(this,ra):this.isEmpty()}get guessedText(){return d(this,ra)}async setGuessedText(t){d(this,yi)===null&&(T(this,ra,t),T(this,hc,await $i._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),R(this,Is,lv).call(this))}toggleAltTextBadge(t=!1){var e;if(!d(this,or)||d(this,yi)){(e=d(this,ar))==null||e.remove(),T(this,ar,null);return}if(!d(this,ar)){const n=T(this,ar,document.createElement("div"));n.className="noAltTextBadge",d(this,cn).div.append(n)}d(this,ar).classList.toggle("hidden",!t)}serialize(t){let e=d(this,yi);return!t&&d(this,ra)===e&&(e=d(this,hc)),{altText:e,decorative:d(this,sr),guessedText:d(this,ra),textWithDisclaimer:d(this,hc)}}get data(){return{altText:d(this,yi),decorative:d(this,sr)}}set data({altText:t,decorative:e,guessedText:n,textWithDisclaimer:r,cancel:l=!1}){n&&(T(this,ra,n),T(this,hc,r)),!(d(this,yi)===t&&d(this,sr)===e)&&(l||(T(this,yi,t),T(this,sr,e)),R(this,Is,lv).call(this))}toggle(t=!1){d(this,Ss)&&(!t&&d(this,Cn)&&(clearTimeout(d(this,Cn)),T(this,Cn,null)),d(this,Ss).disabled=!t)}shown(){d(this,cn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:d(this,Is,Mf)}})}destroy(){var t,e;(t=d(this,Ss))==null||t.remove(),T(this,Ss,null),T(this,Sh,null),T(this,rr,null),(e=d(this,ar))==null||e.remove(),T(this,ar,null)}};yi=new WeakMap,sr=new WeakMap,Ss=new WeakMap,Sh=new WeakMap,rr=new WeakMap,Cn=new WeakMap,wh=new WeakMap,ar=new WeakMap,cn=new WeakMap,ra=new WeakMap,hc=new WeakMap,or=new WeakMap,Vo=new WeakMap,Is=new WeakSet,Mf=function(){return d(this,yi)&&"added"||d(this,yi)===null&&this.guessedText&&"review"||"missing"},lv=async function(){var r,l,c;const t=d(this,Ss);if(!t)return;if(d(this,or)){if(t.classList.toggle("done",!!d(this,yi)),t.setAttribute("data-l10n-id",d($i,Vo)[d(this,Is,Mf)]),(r=d(this,Sh))==null||r.setAttribute("data-l10n-id",d($i,Vo)[`${d(this,Is,Mf)}-label`]),!d(this,yi)){(l=d(this,rr))==null||l.remove();return}}else{if(!d(this,yi)&&!d(this,sr)){t.classList.remove("done"),(c=d(this,rr))==null||c.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=d(this,rr);if(!e){T(this,rr,e=document.createElement("span")),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${d(this,cn).id}`;const h=100,p=d(this,cn)._uiManager._signal;p.addEventListener("abort",()=>{clearTimeout(d(this,Cn)),T(this,Cn,null)},{once:!0}),t.addEventListener("mouseenter",()=>{T(this,Cn,setTimeout(()=>{T(this,Cn,null),d(this,rr).classList.add("show"),d(this,cn)._reportTelemetry({action:"alt_text_tooltip"})},h))},{signal:p}),t.addEventListener("mouseleave",()=>{var m;d(this,Cn)&&(clearTimeout(d(this,Cn)),T(this,Cn,null)),(m=d(this,rr))==null||m.classList.remove("show")},{signal:p})}d(this,sr)?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=d(this,yi)),e.parentNode||t.append(e);const n=d(this,cn).getImageForAltText();n==null||n.setAttribute("aria-describedby",e.id)},O($i,Vo,null),kt($i,"_l10n",null);let Yv=$i;var dc,ws,Oe,Th,fc,Ti,pc,Go,pp,gc,qo,gp,mc,aa,lr,Ch,Rh,es,mp,iy,Ht,w_,vp,T_,C_,OR,kR,R_,x_,D_,LR,M_,NR,IR,PR,O_,Of;const re=class re{constructor(t){O(this,Ht);O(this,dc,null);O(this,ws,null);O(this,Oe,null);O(this,Th,!1);O(this,fc,!1);O(this,Ti,null);O(this,pc,null);O(this,Go,null);O(this,pp,"");O(this,gc,!1);O(this,qo,null);O(this,gp,!1);O(this,mc,!1);O(this,aa,!1);O(this,lr,null);O(this,Ch,0);O(this,Rh,0);O(this,es,null);kt(this,"_editToolbar",null);kt(this,"_initialOptions",Object.create(null));kt(this,"_initialData",null);kt(this,"_isVisible",!0);kt(this,"_uiManager",null);kt(this,"_focusEventsAllowed",!0);O(this,mp,!1);O(this,iy,re._zIndex++);this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:n,pageHeight:r,pageX:l,pageY:c}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,r],this.pageTranslation=[l,c];const[h,p]=this.parentDimensions;this.x=t.x/h,this.y=t.y/p,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=re.prototype._resizeWithKeyboard,e=nu.TRANSLATE_SMALL,n=nu.TRANSLATE_BIG;return Kt(this,"_resizerKeyboardManager",new Eg([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,n]}],[["Escape","mac+Escape"],re.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Kt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new QI({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(re._l10n??(re._l10n=t),re._l10nResizer||(re._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),re._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);re._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){we("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return d(this,mp)}set _isDraggable(t){var e;T(this,mp,t),(e=this.div)==null||e.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=d(this,iy)}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):R(this,Ht,Of).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(d(this,gc)?T(this,gc,!1):this.parent.setSelected(this))}focusout(t){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const e=t.relatedTarget;e!=null&&e.closest(`#${this.id}`)||(t.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,n,r){const[l,c]=this.parentDimensions;[n,r]=this.screenToPageTranslation(n,r),this.x=(t+n)/l,this.y=(e+r)/c,this.fixAndSetPosition()}translate(t,e){R(this,Ht,w_).call(this,this.parentDimensions,t,e)}translateInPage(t,e){d(this,qo)||T(this,qo,[this.x,this.y]),R(this,Ht,w_).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}drag(t,e){d(this,qo)||T(this,qo,[this.x,this.y]);const[n,r]=this.parentDimensions;if(this.x+=t/n,this.y+=e/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:m,y}=this.div.getBoundingClientRect();this.parent.findNewParent(this,m,y)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:l,y:c}=this;const[h,p]=this.getBaseTranslation();l+=h,c+=p,this.div.style.left=`${(100*l).toFixed(2)}%`,this.div.style.top=`${(100*c).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!d(this,qo)&&(d(this,qo)[0]!==this.x||d(this,qo)[1]!==this.y)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:n}=re,r=n/t,l=n/e;switch(this.rotation){case 90:return[-r,l];case 180:return[r,l];case 270:return[r,-l];default:return[-r,-l]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const[e,n]=this.pageDimensions;let{x:r,y:l,width:c,height:h}=this;if(c*=e,h*=n,r*=e,l*=n,this._mustFixPosition)switch(t){case 0:r=Math.max(0,Math.min(e-c,r)),l=Math.max(0,Math.min(n-h,l));break;case 90:r=Math.max(0,Math.min(e-h,r)),l=Math.min(n,Math.max(c,l));break;case 180:r=Math.min(e,Math.max(c,r)),l=Math.min(n,Math.max(h,l));break;case 270:r=Math.min(e,Math.max(h,r)),l=Math.max(0,Math.min(n-c,l));break}this.x=r/=e,this.y=l/=n;const[p,m]=this.getBaseTranslation();r+=p,l+=m;const{style:y}=this.div;y.left=`${(100*r).toFixed(2)}%`,y.top=`${(100*l).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,e){var n;return R(n=re,vp,T_).call(n,t,e,this.parentRotation)}pageTranslationToScreen(t,e){var n;return R(n=re,vp,T_).call(n,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,n]}=this;return[e*t,n*t]}setDims(t,e){const[n,r]=this.parentDimensions;this.div.style.width=`${(100*t/n).toFixed(2)}%`,d(this,fc)||(this.div.style.height=`${(100*e/r).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:n}=t,r=n.endsWith("%"),l=!d(this,fc)&&e.endsWith("%");if(r&&l)return;const[c,h]=this.parentDimensions;r||(t.width=`${(100*parseFloat(n)/c).toFixed(2)}%`),!d(this,fc)&&!l&&(t.height=`${(100*parseFloat(e)/h).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var t;(t=d(this,Oe))==null||t.finish()}async addEditToolbar(){return this._editToolbar||d(this,mc)?this._editToolbar:(this._editToolbar=new p_(this),this.div.append(this._editToolbar.render()),d(this,Oe)&&await this._editToolbar.addAltText(d(this,Oe)),this._editToolbar)}removeEditToolbar(){var t;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(t=d(this,Oe))==null||t.destroy())}addContainer(t){var n;const e=(n=this._editToolbar)==null?void 0:n.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){d(this,Oe)||(Yv.initialize(re._l10n),T(this,Oe,new Yv(this)),d(this,dc)&&(d(this,Oe).data=d(this,dc),T(this,dc,null)),await this.addEditToolbar())}get altTextData(){var t;return(t=d(this,Oe))==null?void 0:t.data}set altTextData(t){d(this,Oe)&&(d(this,Oe).data=t)}get guessedAltText(){var t;return(t=d(this,Oe))==null?void 0:t.guessedText}async setGuessedAltText(t){var e;await((e=d(this,Oe))==null?void 0:e.setGuessedText(t))}serializeAltText(t){var e;return(e=d(this,Oe))==null?void 0:e.serialize(t)}hasAltText(){return!!d(this,Oe)&&!d(this,Oe).isEmpty()}hasAltTextData(){var t;return((t=d(this,Oe))==null?void 0:t.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=d(this,Th)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),R(this,Ht,M_).call(this);const[t,e]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*e/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/e).toFixed(2)}%`);const[n,r]=this.getInitialTranslation();return this.translate(n,r),Xv(this,this.div,["pointerdown"]),this.div}pointerdown(t){const{isMac:e}=Qi.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(T(this,gc,!0),this._isDraggable){R(this,Ht,LR).call(this,t);return}R(this,Ht,D_).call(this,t)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){d(this,lr)&&clearTimeout(d(this,lr)),T(this,lr,setTimeout(()=>{var t;T(this,lr,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,n){t.changeParent(this),this.x=e,this.y=n,this.fixAndSetPosition()}getRect(t,e,n=this.rotation){const r=this.parentScale,[l,c]=this.pageDimensions,[h,p]=this.pageTranslation,m=t/r,y=e/r,_=this.x*l,A=this.y*c,S=this.width*l,C=this.height*c;switch(n){case 0:return[_+m+h,c-A-y-C+p,_+m+S+h,c-A-y+p];case 90:return[_+y+h,c-A+m+p,_+y+C+h,c-A+m+S+p];case 180:return[_-m-S+h,c-A+y+p,_-m+h,c-A+y+C+p];case 270:return[_-y-C+h,c-A-m-S+p,_-y+h,c-A-m+p];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[n,r,l,c]=t,h=l-n,p=c-r;switch(this.rotation){case 0:return[n,e-c,h,p];case 90:return[n,e-r,p,h];case 180:return[l,e-r,h,p];case 270:return[l,e-c,p,h];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){T(this,mc,!0)}disableEditMode(){T(this,mc,!1)}isInEditMode(){return d(this,mc)}shouldGetKeyboardEvents(){return d(this,aa)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){R(this,Ht,M_).call(this)}rotate(t){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((t=this._initialData)==null?void 0:t.popupRef)||""}}serialize(t=!1,e=null){we("An editor must be serializable")}static async deserialize(t,e,n){const r=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:n});r.rotation=t.rotation,T(r,dc,t.accessibilityData);const[l,c]=r.pageDimensions,[h,p,m,y]=r.getRectInCurrentCoords(t.rect,c);return r.x=h/l,r.y=p/c,r.width=m/l,r.height=y/c,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var t;if((t=d(this,Go))==null||t.abort(),T(this,Go,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),d(this,lr)&&(clearTimeout(d(this,lr)),T(this,lr,null)),R(this,Ht,Of).call(this),this.removeEditToolbar(),d(this,es)){for(const e of d(this,es).values())clearTimeout(e);T(this,es,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(R(this,Ht,OR).call(this),d(this,Ti).classList.remove("hidden"),Xv(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),T(this,pc,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=d(this,Ti).children;if(!d(this,ws)){T(this,ws,Array.from(e));const c=R(this,Ht,NR).bind(this),h=R(this,Ht,IR).bind(this),p=this._uiManager._signal;for(const m of d(this,ws)){const y=m.getAttribute("data-resizer-name");m.setAttribute("role","spinbutton"),m.addEventListener("keydown",c,{signal:p}),m.addEventListener("blur",h,{signal:p}),m.addEventListener("focus",R(this,Ht,PR).bind(this,y),{signal:p}),m.setAttribute("data-l10n-id",re._l10nResizer[y])}}const n=d(this,ws)[0];let r=0;for(const c of e){if(c===n)break;r++}const l=(360-this.rotation+this.parentRotation)%360/90*(d(this,ws).length/4);if(l!==r){if(l<r)for(let h=0;h<r-l;h++)d(this,Ti).append(d(this,Ti).firstChild);else if(l>r)for(let h=0;h<l-r;h++)d(this,Ti).firstChild.before(d(this,Ti).lastChild);let c=0;for(const h of e){const m=d(this,ws)[c++].getAttribute("data-resizer-name");h.setAttribute("data-l10n-id",re._l10nResizer[m])}}R(this,Ht,O_).call(this,0),T(this,aa,!0),d(this,Ti).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){d(this,aa)&&R(this,Ht,x_).call(this,d(this,pp),{movementX:t,movementY:e})}_stopResizingWithKeyboard(){R(this,Ht,Of).call(this),this.div.focus()}select(){var t,e,n;if(this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,l;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((l=this._editToolbar)==null||l.show())});return}(e=this._editToolbar)==null||e.show(),(n=d(this,Oe))==null||n.toggleAltTextBadge(!1)}unselect(){var t,e,n,r,l;(t=d(this,Ti))==null||t.classList.add("hidden"),(e=this.div)==null||e.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(l=d(this,Oe))==null||l.toggleAltTextBadge(!0)}updateParams(t,e){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return d(this,gp)}set isEditing(t){T(this,gp,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){T(this,fc,!0);const n=t/e,{style:r}=this.div;r.aspectRatio=n,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){d(this,es)||T(this,es,new Map);const{action:n}=t;let r=d(this,es).get(n);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(t),d(this,es).delete(n),d(this,es).size===0&&T(this,es,null)},re._telemetryTimeout),d(this,es).set(n,r);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),T(this,Th,!1)}disable(){this.div&&(this.div.tabIndex=-1),T(this,Th,!0)}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const n=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),n.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;(e==null?void 0:e.nodeName)==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}};dc=new WeakMap,ws=new WeakMap,Oe=new WeakMap,Th=new WeakMap,fc=new WeakMap,Ti=new WeakMap,pc=new WeakMap,Go=new WeakMap,pp=new WeakMap,gc=new WeakMap,qo=new WeakMap,gp=new WeakMap,mc=new WeakMap,aa=new WeakMap,lr=new WeakMap,Ch=new WeakMap,Rh=new WeakMap,es=new WeakMap,mp=new WeakMap,iy=new WeakMap,Ht=new WeakSet,w_=function([t,e],n,r){[n,r]=this.screenToPageTranslation(n,r),this.x+=n/t,this.y+=r/e,this.fixAndSetPosition()},vp=new WeakSet,T_=function(t,e,n){switch(n){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}},C_=function(t){switch(t){case 90:{const[e,n]=this.pageDimensions;return[0,-e/n,n/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,n]=this.pageDimensions;return[0,e/n,-n/e,0]}default:return[1,0,0,1]}},OR=function(){if(d(this,Ti))return;T(this,Ti,document.createElement("div")),d(this,Ti).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const n of t){const r=document.createElement("div");d(this,Ti).append(r),r.classList.add("resizer",n),r.setAttribute("data-resizer-name",n),r.addEventListener("pointerdown",R(this,Ht,kR).bind(this,n),{signal:e}),r.addEventListener("contextmenu",cs,{signal:e}),r.tabIndex=-1}this.div.prepend(d(this,Ti))},kR=function(t,e){var C;e.preventDefault();const{isMac:n}=Qi.platform;if(e.button!==0||e.ctrlKey&&n)return;(C=d(this,Oe))==null||C.toggle(!1);const r=this._isDraggable;this._isDraggable=!1;const l=new AbortController,c=this._uiManager.combinedSignal(l);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",R(this,Ht,x_).bind(this,t),{passive:!0,capture:!0,signal:c}),window.addEventListener("contextmenu",cs,{signal:c});const h=this.x,p=this.y,m=this.width,y=this.height,_=this.parent.div.style.cursor,A=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const S=()=>{var M;l.abort(),this.parent.togglePointerEvents(!0),(M=d(this,Oe))==null||M.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=_,this.div.style.cursor=A,R(this,Ht,R_).call(this,h,p,m,y)};window.addEventListener("pointerup",S,{signal:c}),window.addEventListener("blur",S,{signal:c})},R_=function(t,e,n,r){const l=this.x,c=this.y,h=this.width,p=this.height;l===t&&c===e&&h===n&&p===r||this.addCommands({cmd:()=>{this.width=h,this.height=p,this.x=l,this.y=c;const[m,y]=this.parentDimensions;this.setDims(m*h,y*p),this.fixAndSetPosition()},undo:()=>{this.width=n,this.height=r,this.x=t,this.y=e;const[m,y]=this.parentDimensions;this.setDims(m*n,y*r),this.fixAndSetPosition()},mustExec:!0})},x_=function(t,e){const[n,r]=this.parentDimensions,l=this.x,c=this.y,h=this.width,p=this.height,m=re.MIN_SIZE/n,y=re.MIN_SIZE/r,_=at=>Math.round(at*1e4)/1e4,A=R(this,Ht,C_).call(this,this.rotation),S=(at,ct)=>[A[0]*at+A[2]*ct,A[1]*at+A[3]*ct],C=R(this,Ht,C_).call(this,360-this.rotation),M=(at,ct)=>[C[0]*at+C[2]*ct,C[1]*at+C[3]*ct];let j,P,z=!1,G=!1;switch(t){case"topLeft":z=!0,j=(at,ct)=>[0,0],P=(at,ct)=>[at,ct];break;case"topMiddle":j=(at,ct)=>[at/2,0],P=(at,ct)=>[at/2,ct];break;case"topRight":z=!0,j=(at,ct)=>[at,0],P=(at,ct)=>[0,ct];break;case"middleRight":G=!0,j=(at,ct)=>[at,ct/2],P=(at,ct)=>[0,ct/2];break;case"bottomRight":z=!0,j=(at,ct)=>[at,ct],P=(at,ct)=>[0,0];break;case"bottomMiddle":j=(at,ct)=>[at/2,ct],P=(at,ct)=>[at/2,0];break;case"bottomLeft":z=!0,j=(at,ct)=>[0,ct],P=(at,ct)=>[at,0];break;case"middleLeft":G=!0,j=(at,ct)=>[0,ct/2],P=(at,ct)=>[at,ct/2];break}const Y=j(h,p),W=P(h,p);let X=S(...W);const L=_(l+X[0]),D=_(c+X[1]);let x=1,I=1,[H,V]=this.screenToPageTranslation(e.movementX,e.movementY);if([H,V]=M(H/n,V/r),z){const at=Math.hypot(h,p);x=I=Math.max(Math.min(Math.hypot(W[0]-Y[0]-H,W[1]-Y[1]-V)/at,1/h,1/p),m/h,y/p)}else G?x=Math.max(m,Math.min(1,Math.abs(W[0]-Y[0]-H)))/h:I=Math.max(y,Math.min(1,Math.abs(W[1]-Y[1]-V)))/p;const U=_(h*x),gt=_(p*I);X=S(...P(U,gt));const At=L-X[0],st=D-X[1];this.width=U,this.height=gt,this.x=At,this.y=st,this.setDims(n*U,r*gt),this.fixAndSetPosition()},D_=function(t){const{isMac:e}=Qi.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)},LR=function(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();const n=new AbortController,r=this._uiManager.combinedSignal(n);if(e){this.div.classList.add("moving"),T(this,Ch,t.clientX),T(this,Rh,t.clientY);const c=h=>{const{clientX:p,clientY:m}=h,[y,_]=this.screenToPageTranslation(p-d(this,Ch),m-d(this,Rh));T(this,Ch,p),T(this,Rh,m),this._uiManager.dragSelectedEditors(y,_)};window.addEventListener("pointermove",c,{passive:!0,capture:!0,signal:r})}const l=()=>{n.abort(),e&&this.div.classList.remove("moving"),T(this,gc,!1),this._uiManager.endDragSession()||R(this,Ht,D_).call(this,t)};window.addEventListener("pointerup",l,{signal:r}),window.addEventListener("blur",l,{signal:r})},M_=function(){if(d(this,Go)||!this.div)return;T(this,Go,new AbortController);const t=this._uiManager.combinedSignal(d(this,Go));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})},NR=function(t){re._resizerKeyboardManager.exec(this,t)},IR=function(t){var e;d(this,aa)&&((e=t.relatedTarget)==null?void 0:e.parentNode)!==d(this,Ti)&&R(this,Ht,Of).call(this)},PR=function(t){T(this,pp,d(this,aa)?t:"")},O_=function(t){if(d(this,ws))for(const e of d(this,ws))e.tabIndex=t},Of=function(){if(T(this,aa,!1),R(this,Ht,O_).call(this,-1),d(this,pc)){const{savedX:t,savedY:e,savedWidth:n,savedHeight:r}=d(this,pc);R(this,Ht,R_).call(this,t,e,n,r),T(this,pc,null)}},O(re,vp),kt(re,"_l10n",null),kt(re,"_l10nResizer",null),kt(re,"_borderLineWidth",-1),kt(re,"_colorManager",new v_),kt(re,"_zIndex",1),kt(re,"_telemetryTimeout",1e3);let he=re;class QI extends he{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const x1=3285377520,Jn=4294901760,Js=65535;class FR{constructor(t){this.h1=t?t&4294967295:x1,this.h2=t?t&4294967295:x1}update(t){let e,n;if(typeof t=="string"){e=new Uint8Array(t.length*2),n=0;for(let M=0,j=t.length;M<j;M++){const P=t.charCodeAt(M);P<=255?e[n++]=P:(e[n++]=P>>>8,e[n++]=P&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),n=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=n>>2,l=n-r*4,c=new Uint32Array(e.buffer,0,r);let h=0,p=0,m=this.h1,y=this.h2;const _=3432918353,A=461845907,S=_&Js,C=A&Js;for(let M=0;M<r;M++)M&1?(h=c[M],h=h*_&Jn|h*S&Js,h=h<<15|h>>>17,h=h*A&Jn|h*C&Js,m^=h,m=m<<13|m>>>19,m=m*5+3864292196):(p=c[M],p=p*_&Jn|p*S&Js,p=p<<15|p>>>17,p=p*A&Jn|p*C&Js,y^=p,y=y<<13|y>>>19,y=y*5+3864292196);switch(h=0,l){case 3:h^=e[r*4+2]<<16;case 2:h^=e[r*4+1]<<8;case 1:h^=e[r*4],h=h*_&Jn|h*S&Js,h=h<<15|h>>>17,h=h*A&Jn|h*C&Js,r&1?m^=h:y^=h}this.h1=m,this.h2=y}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&Jn|t*36045&Js,e=e*4283543511&Jn|((e<<16|t>>>16)*2950163797&Jn)>>>16,t^=e>>>1,t=t*444984403&Jn|t*60499&Js,e=e*3301882366&Jn|((e<<16|t>>>16)*3120437893&Jn)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const k_=Object.freeze({map:null,hash:"",transfer:void 0});var vc,yc,bi,ny,UR;class nE{constructor(){O(this,ny);O(this,vc,!1);O(this,yc,null);O(this,bi,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const n=d(this,bi).get(t);return n===void 0?e:Object.assign(e,n)}getRawValue(t){return d(this,bi).get(t)}remove(t){if(d(this,bi).delete(t),d(this,bi).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of d(this,bi).values())if(e instanceof he)return;this.onAnnotationEditor(null)}}setValue(t,e){const n=d(this,bi).get(t);let r=!1;if(n!==void 0)for(const[l,c]of Object.entries(e))n[l]!==c&&(r=!0,n[l]=c);else r=!0,d(this,bi).set(t,e);r&&R(this,ny,UR).call(this),e instanceof he&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return d(this,bi).has(t)}getAll(){return d(this,bi).size>0?QA(d(this,bi)):null}setAll(t){for(const[e,n]of Object.entries(t))this.setValue(e,n)}get size(){return d(this,bi).size}resetModified(){d(this,vc)&&(T(this,vc,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new jR(this)}get serializable(){if(d(this,bi).size===0)return k_;const t=new Map,e=new FR,n=[],r=Object.create(null);let l=!1;for(const[c,h]of d(this,bi)){const p=h instanceof he?h.serialize(!1,r):h;p&&(t.set(c,p),e.update(`${c}:${JSON.stringify(p)}`),l||(l=!!p.bitmap))}if(l)for(const c of t.values())c.bitmap&&n.push(c.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:n}:k_}get editorStats(){let t=null;const e=new Map;for(const n of d(this,bi).values()){if(!(n instanceof he))continue;const r=n.telemetryFinalData;if(!r)continue;const{type:l}=r;e.has(l)||e.set(l,Object.getPrototypeOf(n).constructor),t||(t=Object.create(null));const c=t[l]||(t[l]=new Map);for(const[h,p]of Object.entries(r)){if(h==="type")continue;let m=c.get(h);m||(m=new Map,c.set(h,m));const y=m.get(p)??0;m.set(p,y+1)}}for(const[n,r]of e)t[n]=r.computeTelemetryFinalData(t[n]);return t}resetModifiedIds(){T(this,yc,null)}get modifiedIds(){if(d(this,yc))return d(this,yc);const t=[];for(const e of d(this,bi).values())!(e instanceof he)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return T(this,yc,{ids:new Set(t),hash:t.join(",")})}}vc=new WeakMap,yc=new WeakMap,bi=new WeakMap,ny=new WeakSet,UR=function(){d(this,vc)||(T(this,vc,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var yp;class jR extends nE{constructor(e){super();O(this,yp);const{map:n,hash:r,transfer:l}=e.serializable,c=structuredClone(n,l?{transfer:l}:null);T(this,yp,{map:c,hash:r,transfer:l})}get print(){we("Should not call PrintAnnotationStorage.print")}get serializable(){return d(this,yp)}get modifiedIds(){return Kt(this,"modifiedIds",{ids:new Set,hash:""})}}yp=new WeakMap;var xh;class ZI{constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){O(this,xh,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),d(this,xh).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,_inspectFont:e}){if(!(!t||d(this,xh).has(t.loadedName))){if(si(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:n,src:r,style:l}=t,c=new FontFace(n,r,l);this.addNativeFontFace(c);try{await c.load(),d(this,xh).add(n),e==null||e(t)}catch{Vt(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(c)}return}we("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const n=t.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(r){throw Vt(`Failed to load font '${n.family}': '${r}'.`),t.disableFontFace=!0,r}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const r=this._queueLoadingCallback(n);this._prepareFontLoadEvent(t,r)})}}get isFontLoadingAPISupported(){var e;const t=!!((e=this._document)!=null&&e.fonts);return Kt(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){let t=!1;return(Hi||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),Kt(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){function e(){for(si(!r.done,"completeRequest() cannot be called twice."),r.done=!0;n.length>0&&n[0].done;){const l=n.shift();setTimeout(l.callback,0)}}const{loadingRequests:n}=this,r={done:!1,complete:e,callback:t};return n.push(r),r}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Kt(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function n(Y,W){return Y.charCodeAt(W)<<24|Y.charCodeAt(W+1)<<16|Y.charCodeAt(W+2)<<8|Y.charCodeAt(W+3)&255}function r(Y,W,X,L){const D=Y.substring(0,W),x=Y.substring(W+X);return D+L+x}let l,c;const h=this._document.createElement("canvas");h.width=1,h.height=1;const p=h.getContext("2d");let m=0;function y(Y,W){if(++m>30){Vt("Load test font never loaded."),W();return}if(p.font="30px "+Y,p.fillText(".",0,20),p.getImageData(0,0,1,1).data[3]>0){W();return}setTimeout(y.bind(null,Y,W))}const _=`lt${Date.now()}${this.loadTestFontId++}`;let A=this._loadTestFont;A=r(A,976,_.length,_);const C=16,M=1482184792;let j=n(A,C);for(l=0,c=_.length-3;l<c;l+=4)j=j-M+n(_,l)|0;l<_.length&&(j=j-M+n(_+"XXX",l)|0),A=r(A,C,4,PI(j));const P=`url(data:font/opentype;base64,${btoa(A)});`,z=`@font-face {font-family:"${_}";src:${P}}`;this.insertRule(z);const G=this._document.createElement("div");G.style.visibility="hidden",G.style.width=G.style.height="10px",G.style.position="absolute",G.style.top=G.style.left="0px";for(const Y of[t.loadedName,_]){const W=this._document.createElement("span");W.textContent="Hi",W.style.fontFamily=Y,G.append(W)}this._document.body.append(G),y(_,()=>{G.remove(),e.complete()})}}xh=new WeakMap;class JI{constructor(t,{disableFontFace:e=!1,inspectFont:n=null}){this.compiledGlyphs=Object.create(null);for(const r in t)this[r]=t[r];this.disableFontFace=e===!0,this._inspectFont=n}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(e=this._inspectFont)==null||e.call(this,this),t}createFontFaceRule(){var n;if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${zI(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${t}}`}return(n=this._inspectFont)==null||n.call(this,this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];let n;try{n=t.get(this.loadedName+"_path_"+e)}catch(l){Vt(`getPathGenerator - ignoring character: "${l}".`)}if(!Array.isArray(n)||n.length===0)return this.compiledGlyphs[e]=function(l,c){};const r=[];for(let l=0,c=n.length;l<c;)switch(n[l++]){case Qr.BEZIER_CURVE_TO:{const[h,p,m,y,_,A]=n.slice(l,l+6);r.push(S=>S.bezierCurveTo(h,p,m,y,_,A)),l+=6}break;case Qr.MOVE_TO:{const[h,p]=n.slice(l,l+2);r.push(m=>m.moveTo(h,p)),l+=2}break;case Qr.LINE_TO:{const[h,p]=n.slice(l,l+2);r.push(m=>m.lineTo(h,p)),l+=2}break;case Qr.QUADRATIC_CURVE_TO:{const[h,p,m,y]=n.slice(l,l+4);r.push(_=>_.quadraticCurveTo(h,p,m,y)),l+=4}break;case Qr.RESTORE:r.push(h=>h.restore());break;case Qr.SAVE:r.push(h=>h.save());break;case Qr.SCALE:si(r.length===2,"Scale command is only valid at the third position.");break;case Qr.TRANSFORM:{const[h,p,m,y,_,A]=n.slice(l,l+6);r.push(S=>S.transform(h,p,m,y,_,A)),l+=6}break;case Qr.TRANSLATE:{const[h,p]=n.slice(l,l+2);r.push(m=>m.translate(h,p)),l+=2}break}return this.compiledGlyphs[e]=function(c,h){r[0](c),r[1](c),c.scale(h,-h);for(let p=2,m=r.length;p<m;p++)r[p](c)}}}var bp;class HR{constructor({enableHWA:t=!1}){O(this,bp,!1);T(this,bp,t)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(t,e);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!d(this,bp)})}}reset(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){we("Abstract method `_createCanvas` called.")}}bp=new WeakMap;class tP extends HR{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const n=this._document.createElement("canvas");return n.width=t,n.height=e,n}}class BR{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){we("Abstract method `_fetch` called.")}}class zR extends BR{async _fetch(t){const e=await Sy(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):Ey(e)}}class VR{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,n,r,l){return"none"}destroy(t=!1){}}var bc,_c,cr,oa,Ii,sy,Ac,yt,Li,Ju,th,cv,eh,GR,L_,ih,kf,Lf,N_,Nf;class eP extends VR{constructor({docId:e,ownerDocument:n=globalThis.document}){super();O(this,yt);O(this,bc);O(this,_c);O(this,cr);O(this,oa);O(this,Ii);O(this,sy);O(this,Ac,0);T(this,oa,e),T(this,Ii,n)}addFilter(e){if(!e)return"none";let n=d(this,yt,Li).get(e);if(n)return n;const[r,l,c]=R(this,yt,cv).call(this,e),h=e.length===1?r:`${r}${l}${c}`;if(n=d(this,yt,Li).get(h),n)return d(this,yt,Li).set(e,n),n;const p=`g_${d(this,oa)}_transfer_map_${Xi(this,Ac)._++}`,m=R(this,yt,eh).call(this,p);d(this,yt,Li).set(e,m),d(this,yt,Li).set(h,m);const y=R(this,yt,ih).call(this,p);return R(this,yt,Lf).call(this,r,l,c,y),m}addHCMFilter(e,n){var C;const r=`${e}-${n}`,l="base";let c=d(this,yt,Ju).get(l);if((c==null?void 0:c.key)===r||(c?((C=c.filter)==null||C.remove(),c.key=r,c.url="none",c.filter=null):(c={key:r,url:"none",filter:null},d(this,yt,Ju).set(l,c)),!e||!n))return c.url;const h=R(this,yt,Nf).call(this,e);e=St.makeHexColor(...h);const p=R(this,yt,Nf).call(this,n);if(n=St.makeHexColor(...p),d(this,yt,th).style.color="",e==="#000000"&&n==="#ffffff"||e===n)return c.url;const m=new Array(256);for(let M=0;M<=255;M++){const j=M/255;m[M]=j<=.03928?j/12.92:((j+.055)/1.055)**2.4}const y=m.join(","),_=`g_${d(this,oa)}_hcm_filter`,A=c.filter=R(this,yt,ih).call(this,_);R(this,yt,Lf).call(this,y,y,y,A),R(this,yt,L_).call(this,A);const S=(M,j)=>{const P=h[M]/255,z=p[M]/255,G=new Array(j+1);for(let Y=0;Y<=j;Y++)G[Y]=P+Y/j*(z-P);return G.join(",")};return R(this,yt,Lf).call(this,S(0,5),S(1,5),S(2,5),A),c.url=R(this,yt,eh).call(this,_),c.url}addAlphaFilter(e){let n=d(this,yt,Li).get(e);if(n)return n;const[r]=R(this,yt,cv).call(this,[e]),l=`alpha_${r}`;if(n=d(this,yt,Li).get(l),n)return d(this,yt,Li).set(e,n),n;const c=`g_${d(this,oa)}_alpha_map_${Xi(this,Ac)._++}`,h=R(this,yt,eh).call(this,c);d(this,yt,Li).set(e,h),d(this,yt,Li).set(l,h);const p=R(this,yt,ih).call(this,c);return R(this,yt,N_).call(this,r,p),h}addLuminosityFilter(e){let n=d(this,yt,Li).get(e||"luminosity");if(n)return n;let r,l;if(e?([r]=R(this,yt,cv).call(this,[e]),l=`luminosity_${r}`):l="luminosity",n=d(this,yt,Li).get(l),n)return d(this,yt,Li).set(e,n),n;const c=`g_${d(this,oa)}_luminosity_map_${Xi(this,Ac)._++}`,h=R(this,yt,eh).call(this,c);d(this,yt,Li).set(e,h),d(this,yt,Li).set(l,h);const p=R(this,yt,ih).call(this,c);return R(this,yt,GR).call(this,p),e&&R(this,yt,N_).call(this,r,p),h}addHighlightHCMFilter(e,n,r,l,c){var z;const h=`${n}-${r}-${l}-${c}`;let p=d(this,yt,Ju).get(e);if((p==null?void 0:p.key)===h||(p?((z=p.filter)==null||z.remove(),p.key=h,p.url="none",p.filter=null):(p={key:h,url:"none",filter:null},d(this,yt,Ju).set(e,p)),!n||!r))return p.url;const[m,y]=[n,r].map(R(this,yt,Nf).bind(this));let _=Math.round(.2126*m[0]+.7152*m[1]+.0722*m[2]),A=Math.round(.2126*y[0]+.7152*y[1]+.0722*y[2]),[S,C]=[l,c].map(R(this,yt,Nf).bind(this));A<_&&([_,A,S,C]=[A,_,C,S]),d(this,yt,th).style.color="";const M=(G,Y,W)=>{const X=new Array(256),L=(A-_)/W,D=G/255,x=(Y-G)/(255*W);let I=0;for(let H=0;H<=W;H++){const V=Math.round(_+H*L),U=D+H*x;for(let gt=I;gt<=V;gt++)X[gt]=U;I=V+1}for(let H=I;H<256;H++)X[H]=X[I-1];return X.join(",")},j=`g_${d(this,oa)}_hcm_${e}_filter`,P=p.filter=R(this,yt,ih).call(this,j);return R(this,yt,L_).call(this,P),R(this,yt,Lf).call(this,M(S[0],C[0],5),M(S[1],C[1],5),M(S[2],C[2],5),P),p.url=R(this,yt,eh).call(this,j),p.url}destroy(e=!1){e&&d(this,yt,Ju).size!==0||(d(this,cr)&&(d(this,cr).parentNode.parentNode.remove(),T(this,cr,null)),d(this,_c)&&(d(this,_c).clear(),T(this,_c,null)),T(this,Ac,0))}}bc=new WeakMap,_c=new WeakMap,cr=new WeakMap,oa=new WeakMap,Ii=new WeakMap,sy=new WeakMap,Ac=new WeakMap,yt=new WeakSet,Li=function(){return d(this,_c)||T(this,_c,new Map)},Ju=function(){return d(this,sy)||T(this,sy,new Map)},th=function(){if(!d(this,cr)){const e=d(this,Ii).createElement("div"),{style:n}=e;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const r=d(this,Ii).createElementNS(Jr,"svg");r.setAttribute("width",0),r.setAttribute("height",0),T(this,cr,d(this,Ii).createElementNS(Jr,"defs")),e.append(r),r.append(d(this,cr)),d(this,Ii).body.append(e)}return d(this,cr)},cv=function(e){if(e.length===1){const m=e[0],y=new Array(256);for(let A=0;A<256;A++)y[A]=m[A]/255;const _=y.join(",");return[_,_,_]}const[n,r,l]=e,c=new Array(256),h=new Array(256),p=new Array(256);for(let m=0;m<256;m++)c[m]=n[m]/255,h[m]=r[m]/255,p[m]=l[m]/255;return[c.join(","),h.join(","),p.join(",")]},eh=function(e){if(d(this,bc)===void 0){T(this,bc,"");const n=d(this,Ii).URL;n!==d(this,Ii).baseURI&&(wy(n)?Vt('#createUrl: ignore "data:"-URL for performance reasons.'):T(this,bc,n.split("#",1)[0]))}return`url(${d(this,bc)}#${e})`},GR=function(e){const n=d(this,Ii).createElementNS(Jr,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(n)},L_=function(e){const n=d(this,Ii).createElementNS(Jr,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(n)},ih=function(e){const n=d(this,Ii).createElementNS(Jr,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",e),d(this,yt,th).append(n),n},kf=function(e,n,r){const l=d(this,Ii).createElementNS(Jr,n);l.setAttribute("type","discrete"),l.setAttribute("tableValues",r),e.append(l)},Lf=function(e,n,r,l){const c=d(this,Ii).createElementNS(Jr,"feComponentTransfer");l.append(c),R(this,yt,kf).call(this,c,"feFuncR",e),R(this,yt,kf).call(this,c,"feFuncG",n),R(this,yt,kf).call(this,c,"feFuncB",r)},N_=function(e,n){const r=d(this,Ii).createElementNS(Jr,"feComponentTransfer");n.append(r),R(this,yt,kf).call(this,r,"feFuncA",e)},Nf=function(e){return d(this,yt,th).style.color=e,iE(getComputedStyle(d(this,yt,th)).getPropertyValue("color"))};class qR{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(n=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){we("Abstract method `_fetch` called.")}}class XR extends qR{async _fetch(t){const e=await Sy(t,"arraybuffer");return new Uint8Array(e)}}if(Hi){var I_=Promise.withResolvers(),$f=null;(async()=>{const t=await Xm(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),e=await Xm(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),n=await Xm(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await Xm(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let l,c;return new Map(Object.entries({fs:t,http:e,https:n,url:r,canvas:l,path2d:c}))})().then(t=>{$f=t,I_.resolve()},t=>{Vt(`loadPackages: ${t}`),$f=new Map,I_.resolve()})}class dl{static get promise(){return I_.promise}static get(t){return $f==null?void 0:$f.get(t)}}async function YR(o){const e=await dl.get("fs").promises.readFile(o);return new Uint8Array(e)}class iP extends VR{}class nP extends HR{_createCanvas(t,e){return dl.get("canvas").createCanvas(t,e)}}class sP extends BR{async _fetch(t){return YR(t)}}class rP extends qR{async _fetch(t){return YR(t)}}const Wi={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function P_(o,t){if(!t)return;const e=t[2]-t[0],n=t[3]-t[1],r=new Path2D;r.rect(t[0],t[1],e,n),o.clip(r)}class sE{getPattern(){we("Abstract method `getPattern` called.")}}class aP extends sE{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)e.addColorStop(n[0],n[1]);return e}getPattern(t,e,n,r){let l;if(r===Wi.STROKE||r===Wi.FILL){const c=e.current.getClippedPathBoundingBox(r,Le(t))||[0,0,0,0],h=Math.ceil(c[2]-c[0])||1,p=Math.ceil(c[3]-c[1])||1,m=e.cachedCanvases.getCanvas("pattern",h,p),y=m.context;y.clearRect(0,0,y.canvas.width,y.canvas.height),y.beginPath(),y.rect(0,0,y.canvas.width,y.canvas.height),y.translate(-c[0],-c[1]),n=St.transform(n,[1,0,0,1,c[0],c[1]]),y.transform(...e.baseTransform),this.matrix&&y.transform(...this.matrix),P_(y,this._bbox),y.fillStyle=this._createGradient(y),y.fill(),l=t.createPattern(m.canvas,"no-repeat");const _=new DOMMatrix(n);l.setTransform(_)}else P_(t,this._bbox),l=this._createGradient(t);return l}}function W0(o,t,e,n,r,l,c,h){const p=t.coords,m=t.colors,y=o.data,_=o.width*4;let A;p[e+1]>p[n+1]&&(A=e,e=n,n=A,A=l,l=c,c=A),p[n+1]>p[r+1]&&(A=n,n=r,r=A,A=c,c=h,h=A),p[e+1]>p[n+1]&&(A=e,e=n,n=A,A=l,l=c,c=A);const S=(p[e]+t.offsetX)*t.scaleX,C=(p[e+1]+t.offsetY)*t.scaleY,M=(p[n]+t.offsetX)*t.scaleX,j=(p[n+1]+t.offsetY)*t.scaleY,P=(p[r]+t.offsetX)*t.scaleX,z=(p[r+1]+t.offsetY)*t.scaleY;if(C>=z)return;const G=m[l],Y=m[l+1],W=m[l+2],X=m[c],L=m[c+1],D=m[c+2],x=m[h],I=m[h+1],H=m[h+2],V=Math.round(C),U=Math.round(z);let gt,At,st,at,ct,Ot,q,ot;for(let pt=V;pt<=U;pt++){if(pt<j){const xt=pt<C?0:(C-pt)/(C-j);gt=S-(S-M)*xt,At=G-(G-X)*xt,st=Y-(Y-L)*xt,at=W-(W-D)*xt}else{let xt;pt>z?xt=1:j===z?xt=0:xt=(j-pt)/(j-z),gt=M-(M-P)*xt,At=X-(X-x)*xt,st=L-(L-I)*xt,at=D-(D-H)*xt}let ht;pt<C?ht=0:pt>z?ht=1:ht=(C-pt)/(C-z),ct=S-(S-P)*ht,Ot=G-(G-x)*ht,q=Y-(Y-I)*ht,ot=W-(W-H)*ht;const ft=Math.round(Math.min(gt,ct)),Rt=Math.round(Math.max(gt,ct));let _t=_*pt+ft*4;for(let xt=ft;xt<=Rt;xt++)ht=(gt-xt)/(gt-ct),ht<0?ht=0:ht>1&&(ht=1),y[_t++]=At-(At-Ot)*ht|0,y[_t++]=st-(st-q)*ht|0,y[_t++]=at-(at-ot)*ht|0,y[_t++]=255}}function oP(o,t,e){const n=t.coords,r=t.colors;let l,c;switch(t.type){case"lattice":const h=t.verticesPerRow,p=Math.floor(n.length/h)-1,m=h-1;for(l=0;l<p;l++){let y=l*h;for(let _=0;_<m;_++,y++)W0(o,e,n[y],n[y+1],n[y+h],r[y],r[y+1],r[y+h]),W0(o,e,n[y+h+1],n[y+1],n[y+h],r[y+h+1],r[y+1],r[y+h])}break;case"triangles":for(l=0,c=n.length;l<c;l+=3)W0(o,e,n[l],n[l+1],n[l+2],r[l],r[l+1],r[l+2]);break;default:throw new Error("illegal figure")}}class lP extends sE{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,e,n){const h=Math.floor(this._bounds[0]),p=Math.floor(this._bounds[1]),m=Math.ceil(this._bounds[2])-h,y=Math.ceil(this._bounds[3])-p,_=Math.min(Math.ceil(Math.abs(m*t[0]*1.1)),3e3),A=Math.min(Math.ceil(Math.abs(y*t[1]*1.1)),3e3),S=m/_,C=y/A,M={coords:this._coords,colors:this._colors,offsetX:-h,offsetY:-p,scaleX:1/S,scaleY:1/C},j=_+2*2,P=A+2*2,z=n.getCanvas("mesh",j,P),G=z.context,Y=G.createImageData(_,A);if(e){const X=Y.data;for(let L=0,D=X.length;L<D;L+=4)X[L]=e[0],X[L+1]=e[1],X[L+2]=e[2],X[L+3]=255}for(const X of this._figures)oP(Y,X,M);return G.putImageData(Y,2,2),{canvas:z.canvas,offsetX:h-2*S,offsetY:p-2*C,scaleX:S,scaleY:C}}getPattern(t,e,n,r){P_(t,this._bbox);let l;if(r===Wi.SHADING)l=St.singularValueDecompose2dScale(Le(t));else if(l=St.singularValueDecompose2dScale(e.baseTransform),this.matrix){const h=St.singularValueDecompose2dScale(this.matrix);l=[l[0]*h[0],l[1]*h[1]]}const c=this._createMeshCanvas(l,r===Wi.SHADING?null:this._background,e.cachedCanvases);return r!==Wi.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(c.offsetX,c.offsetY),t.scale(c.scaleX,c.scaleY),t.createPattern(c.canvas,"no-repeat")}}class cP extends sE{getPattern(){return"hotpink"}}function uP(o){switch(o[0]){case"RadialAxial":return new aP(o);case"Mesh":return new lP(o);case"Dummy":return new cP}throw new Error(`Unknown IR type: ${o[0]}`)}const D1={COLORED:1,UNCOLORED:2},ry=class ry{constructor(t,e,n,r,l){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=e,this.ctx=n,this.canvasGraphicsFactory=r,this.baseTransform=l}createPatternCanvas(t){const{bbox:e,operatorList:n,paintType:r,tilingType:l,color:c,canvasGraphicsFactory:h}=this;let{xstep:p,ystep:m}=this;p=Math.abs(p),m=Math.abs(m),_y("TilingType: "+l);const y=e[0],_=e[1],A=e[2],S=e[3],C=A-y,M=S-_,j=St.singularValueDecompose2dScale(this.matrix),P=St.singularValueDecompose2dScale(this.baseTransform),z=j[0]*P[0],G=j[1]*P[1];let Y=C,W=M,X=!1,L=!1;const D=Math.ceil(p*z),x=Math.ceil(m*G),I=Math.ceil(C*z),H=Math.ceil(M*G);D>=I?Y=p:X=!0,x>=H?W=m:L=!0;const V=this.getSizeAndScale(Y,this.ctx.canvas.width,z),U=this.getSizeAndScale(W,this.ctx.canvas.height,G),gt=t.cachedCanvases.getCanvas("pattern",V.size,U.size),At=gt.context,st=h.createCanvasGraphics(At);if(st.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(st,r,c),At.translate(-V.scale*y,-U.scale*_),st.transform(V.scale,0,0,U.scale,0,0),At.save(),this.clipBbox(st,y,_,A,S),st.baseTransform=Le(st.ctx),st.executeOperatorList(n),st.endDrawing(),At.restore(),X||L){const at=gt.canvas;X&&(Y=p),L&&(W=m);const ct=this.getSizeAndScale(Y,this.ctx.canvas.width,z),Ot=this.getSizeAndScale(W,this.ctx.canvas.height,G),q=ct.size,ot=Ot.size,pt=t.cachedCanvases.getCanvas("pattern-workaround",q,ot),ht=pt.context,ft=X?Math.floor(C/p):0,Rt=L?Math.floor(M/m):0;for(let _t=0;_t<=ft;_t++)for(let xt=0;xt<=Rt;xt++)ht.drawImage(at,q*_t,ot*xt,q,ot,0,0,q,ot);return{canvas:pt.canvas,scaleX:ct.scale,scaleY:Ot.scale,offsetX:y,offsetY:_}}return{canvas:gt.canvas,scaleX:V.scale,scaleY:U.scale,offsetX:y,offsetY:_}}getSizeAndScale(t,e,n){const r=Math.max(ry.MAX_PATTERN_SIZE,e);let l=Math.ceil(t*n);return l>=r?l=r:n=l/t,{scale:n,size:l}}clipBbox(t,e,n,r,l){const c=r-e,h=l-n;t.ctx.rect(e,n,c,h),t.current.updateRectMinMax(Le(t.ctx),[e,n,r,l]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,n){const r=t.ctx,l=t.current;switch(e){case D1.COLORED:const c=this.ctx;r.fillStyle=c.fillStyle,r.strokeStyle=c.strokeStyle,l.fillColor=c.fillStyle,l.strokeColor=c.strokeStyle;break;case D1.UNCOLORED:const h=St.makeHexColor(n[0],n[1],n[2]);r.fillStyle=h,r.strokeStyle=h,l.fillColor=h,l.strokeColor=h;break;default:throw new II(`Unsupported paint type: ${e}`)}}getPattern(t,e,n,r){let l=n;r!==Wi.SHADING&&(l=St.transform(l,e.baseTransform),this.matrix&&(l=St.transform(l,this.matrix)));const c=this.createPatternCanvas(e);let h=new DOMMatrix(l);h=h.translate(c.offsetX,c.offsetY),h=h.scale(1/c.scaleX,1/c.scaleY);const p=t.createPattern(c.canvas,"repeat");return p.setTransform(h),p}};kt(ry,"MAX_PATTERN_SIZE",3e3);let F_=ry;function hP({src:o,srcPos:t=0,dest:e,width:n,height:r,nonBlackColor:l=4294967295,inverseDecode:c=!1}){const h=Qi.isLittleEndian?4278190080:255,[p,m]=c?[l,h]:[h,l],y=n>>3,_=n&7,A=o.length;e=new Uint32Array(e.buffer);let S=0;for(let C=0;C<r;C++){for(const j=t+y;t<j;t++){const P=t<A?o[t]:255;e[S++]=P&128?m:p,e[S++]=P&64?m:p,e[S++]=P&32?m:p,e[S++]=P&16?m:p,e[S++]=P&8?m:p,e[S++]=P&4?m:p,e[S++]=P&2?m:p,e[S++]=P&1?m:p}if(_===0)continue;const M=t<A?o[t++]:255;for(let j=0;j<_;j++)e[S++]=M&1<<7-j?m:p}return{srcPos:t,destPos:S}}const M1=16,O1=100,dP=15,k1=10,L1=1e3,dn=16;function fP(o,t){if(o._removeMirroring)throw new Error("Context is already forwarding operations.");o.__originalSave=o.save,o.__originalRestore=o.restore,o.__originalRotate=o.rotate,o.__originalScale=o.scale,o.__originalTranslate=o.translate,o.__originalTransform=o.transform,o.__originalSetTransform=o.setTransform,o.__originalResetTransform=o.resetTransform,o.__originalClip=o.clip,o.__originalMoveTo=o.moveTo,o.__originalLineTo=o.lineTo,o.__originalBezierCurveTo=o.bezierCurveTo,o.__originalRect=o.rect,o.__originalClosePath=o.closePath,o.__originalBeginPath=o.beginPath,o._removeMirroring=()=>{o.save=o.__originalSave,o.restore=o.__originalRestore,o.rotate=o.__originalRotate,o.scale=o.__originalScale,o.translate=o.__originalTranslate,o.transform=o.__originalTransform,o.setTransform=o.__originalSetTransform,o.resetTransform=o.__originalResetTransform,o.clip=o.__originalClip,o.moveTo=o.__originalMoveTo,o.lineTo=o.__originalLineTo,o.bezierCurveTo=o.__originalBezierCurveTo,o.rect=o.__originalRect,o.closePath=o.__originalClosePath,o.beginPath=o.__originalBeginPath,delete o._removeMirroring},o.save=function(){t.save(),this.__originalSave()},o.restore=function(){t.restore(),this.__originalRestore()},o.translate=function(n,r){t.translate(n,r),this.__originalTranslate(n,r)},o.scale=function(n,r){t.scale(n,r),this.__originalScale(n,r)},o.transform=function(n,r,l,c,h,p){t.transform(n,r,l,c,h,p),this.__originalTransform(n,r,l,c,h,p)},o.setTransform=function(n,r,l,c,h,p){t.setTransform(n,r,l,c,h,p),this.__originalSetTransform(n,r,l,c,h,p)},o.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},o.rotate=function(n){t.rotate(n),this.__originalRotate(n)},o.clip=function(n){t.clip(n),this.__originalClip(n)},o.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},o.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},o.bezierCurveTo=function(e,n,r,l,c,h){t.bezierCurveTo(e,n,r,l,c,h),this.__originalBezierCurveTo(e,n,r,l,c,h)},o.rect=function(e,n,r,l){t.rect(e,n,r,l),this.__originalRect(e,n,r,l)},o.closePath=function(){t.closePath(),this.__originalClosePath()},o.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class pP{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,n){let r;return this.cache[t]!==void 0?(r=this.cache[t],this.canvasFactory.reset(r,e,n)):(r=this.canvasFactory.create(e,n),this.cache[t]=r),r}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function Ym(o,t,e,n,r,l,c,h,p,m){const[y,_,A,S,C,M]=Le(o);if(_===0&&A===0){const z=c*y+C,G=Math.round(z),Y=h*S+M,W=Math.round(Y),X=(c+p)*y+C,L=Math.abs(Math.round(X)-G)||1,D=(h+m)*S+M,x=Math.abs(Math.round(D)-W)||1;return o.setTransform(Math.sign(y),0,0,Math.sign(S),G,W),o.drawImage(t,e,n,r,l,0,0,L,x),o.setTransform(y,_,A,S,C,M),[L,x]}if(y===0&&S===0){const z=h*A+C,G=Math.round(z),Y=c*_+M,W=Math.round(Y),X=(h+m)*A+C,L=Math.abs(Math.round(X)-G)||1,D=(c+p)*_+M,x=Math.abs(Math.round(D)-W)||1;return o.setTransform(0,Math.sign(_),Math.sign(A),0,G,W),o.drawImage(t,e,n,r,l,0,0,x,L),o.setTransform(y,_,A,S,C,M),[x,L]}o.drawImage(t,e,n,r,l,c,h,p,m);const j=Math.hypot(y,_),P=Math.hypot(A,S);return[j*p,P*m]}function gP(o){const{width:t,height:e}=o;if(t>L1||e>L1)return null;const n=1e3,r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),l=t+1;let c=new Uint8Array(l*(e+1)),h,p,m;const y=t+7&-8;let _=new Uint8Array(y*e),A=0;for(const P of o.data){let z=128;for(;z>0;)_[A++]=P&z?0:255,z>>=1}let S=0;for(A=0,_[A]!==0&&(c[0]=1,++S),p=1;p<t;p++)_[A]!==_[A+1]&&(c[p]=_[A]?2:1,++S),A++;for(_[A]!==0&&(c[p]=2,++S),h=1;h<e;h++){A=h*y,m=h*l,_[A-y]!==_[A]&&(c[m]=_[A]?1:8,++S);let P=(_[A]?4:0)+(_[A-y]?8:0);for(p=1;p<t;p++)P=(P>>2)+(_[A+1]?4:0)+(_[A-y+1]?8:0),r[P]&&(c[m+p]=r[P],++S),A++;if(_[A-y]!==_[A]&&(c[m+p]=_[A]?2:4,++S),S>n)return null}for(A=y*(e-1),m=h*l,_[A]!==0&&(c[m]=8,++S),p=1;p<t;p++)_[A]!==_[A+1]&&(c[m+p]=_[A]?4:8,++S),A++;if(_[A]!==0&&(c[m+p]=4,++S),S>n)return null;const C=new Int32Array([0,l,-1,0,-l,0,0,0,1]),M=new Path2D;for(h=0;S&&h<=e;h++){let P=h*l;const z=P+t;for(;P<z&&!c[P];)P++;if(P===z)continue;M.moveTo(P%l,h);const G=P;let Y=c[P];do{const W=C[Y];do P+=W;while(!c[P]);const X=c[P];X!==5&&X!==10?(Y=X,c[P]=0):(Y=X&51*Y>>4,c[P]&=Y>>2|Y<<2),M.lineTo(P%l,P/l|0),c[P]||--S}while(G!==P);--h}return _=null,c=null,function(P){P.save(),P.scale(1/t,-1/e),P.translate(0,-e),P.fill(M),P.beginPath(),P.restore()}}class N1{constructor(t,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=uR,this.textMatrixScale=1,this.fontMatrix=c_,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=ki.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,t,e])}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,e){this.x=t,this.y=e}updatePathMinMax(t,e,n){[e,n]=St.applyTransform([e,n],t),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(t,e){const n=St.applyTransform(e,t),r=St.applyTransform(e.slice(2),t),l=St.applyTransform([e[0],e[3]],t),c=St.applyTransform([e[2],e[1]],t);this.minX=Math.min(this.minX,n[0],r[0],l[0],c[0]),this.minY=Math.min(this.minY,n[1],r[1],l[1],c[1]),this.maxX=Math.max(this.maxX,n[0],r[0],l[0],c[0]),this.maxY=Math.max(this.maxY,n[1],r[1],l[1],c[1])}updateScalingPathMinMax(t,e){St.scaleMinMax(t,e),this.minX=Math.min(this.minX,e[0]),this.minY=Math.min(this.minY,e[1]),this.maxX=Math.max(this.maxX,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(t,e,n,r,l,c,h,p,m,y){const _=St.bezierBoundingBox(e,n,r,l,c,h,p,m,y);y||this.updateRectMinMax(t,_)}getPathBoundingBox(t=Wi.FILL,e=null){const n=[this.minX,this.minY,this.maxX,this.maxY];if(t===Wi.STROKE){e||we("Stroke bounding box must include transform.");const r=St.singularValueDecompose2dScale(e),l=r[0]*this.lineWidth/2,c=r[1]*this.lineWidth/2;n[0]-=l,n[1]-=c,n[2]+=l,n[3]+=c}return n}updateClipFromPath(){const t=St.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(t=Wi.FILL,e=null){return St.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function I1(o,t){if(typeof ImageData<"u"&&t instanceof ImageData){o.putImageData(t,0,0);return}const e=t.height,n=t.width,r=e%dn,l=(e-r)/dn,c=r===0?l:l+1,h=o.createImageData(n,dn);let p=0,m;const y=t.data,_=h.data;let A,S,C,M;if(t.kind===iv.GRAYSCALE_1BPP){const j=y.byteLength,P=new Uint32Array(_.buffer,0,_.byteLength>>2),z=P.length,G=n+7>>3,Y=4294967295,W=Qi.isLittleEndian?4278190080:255;for(A=0;A<c;A++){for(C=A<l?dn:r,m=0,S=0;S<C;S++){const X=j-p;let L=0;const D=X>G?n:X*8-7,x=D&-8;let I=0,H=0;for(;L<x;L+=8)H=y[p++],P[m++]=H&128?Y:W,P[m++]=H&64?Y:W,P[m++]=H&32?Y:W,P[m++]=H&16?Y:W,P[m++]=H&8?Y:W,P[m++]=H&4?Y:W,P[m++]=H&2?Y:W,P[m++]=H&1?Y:W;for(;L<D;L++)I===0&&(H=y[p++],I=128),P[m++]=H&I?Y:W,I>>=1}for(;m<z;)P[m++]=0;o.putImageData(h,0,A*dn)}}else if(t.kind===iv.RGBA_32BPP){for(S=0,M=n*dn*4,A=0;A<l;A++)_.set(y.subarray(p,p+M)),p+=M,o.putImageData(h,0,S),S+=dn;A<c&&(M=n*r*4,_.set(y.subarray(p,p+M)),o.putImageData(h,0,S))}else if(t.kind===iv.RGB_24BPP)for(C=dn,M=n*C,A=0;A<c;A++){for(A>=l&&(C=r,M=n*C),m=0,S=M;S--;)_[m++]=y[p++],_[m++]=y[p++],_[m++]=y[p++],_[m++]=255;o.putImageData(h,0,A*dn)}else throw new Error(`bad image kind: ${t.kind}`)}function P1(o,t){if(t.bitmap){o.drawImage(t.bitmap,0,0);return}const e=t.height,n=t.width,r=e%dn,l=(e-r)/dn,c=r===0?l:l+1,h=o.createImageData(n,dn);let p=0;const m=t.data,y=h.data;for(let _=0;_<c;_++){const A=_<l?dn:r;({srcPos:p}=hP({src:m,srcPos:p,dest:y,width:n,height:A,nonBlackColor:0})),o.putImageData(h,0,_*dn)}}function wf(o,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of e)o[n]!==void 0&&(t[n]=o[n]);o.setLineDash!==void 0&&(t.setLineDash(o.getLineDash()),t.lineDashOffset=o.lineDashOffset)}function $m(o){if(o.strokeStyle=o.fillStyle="#000000",o.fillRule="nonzero",o.globalAlpha=1,o.lineWidth=1,o.lineCap="butt",o.lineJoin="miter",o.miterLimit=10,o.globalCompositeOperation="source-over",o.font="10px sans-serif",o.setLineDash!==void 0&&(o.setLineDash([]),o.lineDashOffset=0),!Hi){const{filter:t}=o;t!=="none"&&t!==""&&(o.filter="none")}}function F1(o,t){if(t)return!0;const e=St.singularValueDecompose2dScale(o);e[0]=Math.fround(e[0]),e[1]=Math.fround(e[1]);const n=Math.fround((globalThis.devicePixelRatio||1)*hl.PDF_TO_CSS_UNITS);return e[0]<=n&&e[1]<=n}const mP=["butt","round","square"],vP=["miter","round","bevel"],yP={},U1={};var pl,U_,j_;const dE=class dE{constructor(t,e,n,r,l,{optionalContentConfig:c,markedContentStack:h=null},p,m){O(this,pl);this.ctx=t,this.current=new N1(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.canvasFactory=r,this.filterFactory=l,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=h||[],this.optionalContentConfig=c,this.cachedCanvases=new pP(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=p,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=m,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:n=!1,background:r=null}){const l=this.ctx.canvas.width,c=this.ctx.canvas.height,h=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,l,c),this.ctx.fillStyle=h,n){const p=this.cachedCanvases.getCanvas("transparent",l,c);this.compositeCtx=this.ctx,this.transparentCanvas=p.canvas,this.ctx=p.context,this.ctx.save(),this.ctx.transform(...Le(this.compositeCtx))}this.ctx.save(),$m(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=Le(this.ctx)}executeOperatorList(t,e,n,r){const l=t.argsArray,c=t.fnArray;let h=e||0;const p=l.length;if(p===h)return h;const m=p-h>k1&&typeof n=="function",y=m?Date.now()+dP:0;let _=0;const A=this.commonObjs,S=this.objs;let C;for(;;){if(r!==void 0&&h===r.nextBreakPoint)return r.breakIt(h,n),h;if(C=c[h],C!==bs.dependency)this[C].apply(this,l[h]);else for(const M of l[h]){const j=M.startsWith("g_")?A:S;if(!j.has(M))return j.get(M,n),h}if(h++,h===p)return h;if(m&&++_>k1){if(Date.now()>y)return n(),h;_=0}}}endDrawing(){R(this,pl,U_).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),R(this,pl,j_).call(this)}_scaleImage(t,e){const n=t.width??t.displayWidth,r=t.height??t.displayHeight;let l=Math.max(Math.hypot(e[0],e[1]),1),c=Math.max(Math.hypot(e[2],e[3]),1),h=n,p=r,m="prescale1",y,_;for(;l>2&&h>1||c>2&&p>1;){let A=h,S=p;l>2&&h>1&&(A=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h/2),l/=h/A),c>2&&p>1&&(S=p>=16384?Math.floor(p/2)-1||1:Math.ceil(p)/2,c/=p/S),y=this.cachedCanvases.getCanvas(m,A,S),_=y.context,_.clearRect(0,0,A,S),_.drawImage(t,0,0,h,p,0,0,A,S),t=y.canvas,h=A,p=S,m=m==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:h,paintHeight:p}}_createMaskCanvas(t){const e=this.ctx,{width:n,height:r}=t,l=this.current.fillColor,c=this.current.patternFill,h=Le(e);let p,m,y,_;if((t.bitmap||t.data)&&t.count>1){const D=t.bitmap||t.data.buffer;m=JSON.stringify(c?h:[h.slice(0,4),l]),p=this._cachedBitmapsMap.get(D),p||(p=new Map,this._cachedBitmapsMap.set(D,p));const x=p.get(m);if(x&&!c){const I=Math.round(Math.min(h[0],h[2])+h[4]),H=Math.round(Math.min(h[1],h[3])+h[5]);return{canvas:x,offsetX:I,offsetY:H}}y=x}y||(_=this.cachedCanvases.getCanvas("maskCanvas",n,r),P1(_.context,t));let A=St.transform(h,[1/n,0,0,-1/r,0,0]);A=St.transform(A,[1,0,0,1,0,-r]);const[S,C,M,j]=St.getAxialAlignedBoundingBox([0,0,n,r],A),P=Math.round(M-S)||1,z=Math.round(j-C)||1,G=this.cachedCanvases.getCanvas("fillCanvas",P,z),Y=G.context,W=S,X=C;Y.translate(-W,-X),Y.transform(...A),y||(y=this._scaleImage(_.canvas,Zr(Y)),y=y.img,p&&c&&p.set(m,y)),Y.imageSmoothingEnabled=F1(Le(Y),t.interpolate),Ym(Y,y,0,0,y.width,y.height,0,0,n,r),Y.globalCompositeOperation="source-in";const L=St.transform(Zr(Y),[1,0,0,1,-W,-X]);return Y.fillStyle=c?l.getPattern(e,this,L,Wi.FILL):l,Y.fillRect(0,0,n,r),p&&!c&&(this.cachedCanvases.delete("fillCanvas"),p.set(m,G.canvas)),{canvas:G.canvas,offsetX:Math.round(W),offsetY:Math.round(X)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=mP[t]}setLineJoin(t){this.ctx.lineJoin=vP[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(t),n.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,n]of t)switch(e){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(n,t,e);this.suspendedCtx=this.ctx,this.ctx=r.context;const l=this.ctx;l.setTransform(...Le(this.suspendedCtx)),wf(this.suspendedCtx,l),fP(l,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),wf(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,n,r){const l=r[0],c=r[1],h=r[2]-l,p=r[3]-c;h===0||p===0||(this.genericComposeSMask(e.context,n,h,p,e.subtype,e.backdrop,e.transferMap,l,c,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(n.canvas,0,0),t.restore())}genericComposeSMask(t,e,n,r,l,c,h,p,m,y,_){let A=t.canvas,S=p-y,C=m-_;if(c){const j=St.makeHexColor(...c);if(S<0||C<0||S+n>A.width||C+r>A.height){const P=this.cachedCanvases.getCanvas("maskExtension",n,r),z=P.context;z.drawImage(A,-S,-C),z.globalCompositeOperation="destination-atop",z.fillStyle=j,z.fillRect(0,0,n,r),z.globalCompositeOperation="source-over",A=P.canvas,S=C=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const P=new Path2D;P.rect(S,C,n,r),t.clip(P),t.globalCompositeOperation="destination-atop",t.fillStyle=j,t.fillRect(S,C,n,r),t.restore()}}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),l==="Alpha"&&h?e.filter=this.filterFactory.addAlphaFilter(h):l==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(h));const M=new Path2D;M.rect(p,m,n,r),e.clip(M),e.globalCompositeOperation="destination-in",e.drawImage(A,S,C,n,r,p,m,n,r),e.restore()}save(){this.inSMaskMode?(wf(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),wf(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(t,e,n,r,l,c){this.ctx.transform(t,e,n,r,l,c),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,n){const r=this.ctx,l=this.current;let c=l.x,h=l.y,p,m;const y=Le(r),_=y[0]===0&&y[3]===0||y[1]===0&&y[2]===0,A=_?n.slice(0):null;for(let S=0,C=0,M=t.length;S<M;S++)switch(t[S]|0){case bs.rectangle:c=e[C++],h=e[C++];const j=e[C++],P=e[C++],z=c+j,G=h+P;r.moveTo(c,h),j===0||P===0?r.lineTo(z,G):(r.lineTo(z,h),r.lineTo(z,G),r.lineTo(c,G)),_||l.updateRectMinMax(y,[c,h,z,G]),r.closePath();break;case bs.moveTo:c=e[C++],h=e[C++],r.moveTo(c,h),_||l.updatePathMinMax(y,c,h);break;case bs.lineTo:c=e[C++],h=e[C++],r.lineTo(c,h),_||l.updatePathMinMax(y,c,h);break;case bs.curveTo:p=c,m=h,c=e[C+4],h=e[C+5],r.bezierCurveTo(e[C],e[C+1],e[C+2],e[C+3],c,h),l.updateCurvePathMinMax(y,p,m,e[C],e[C+1],e[C+2],e[C+3],c,h,A),C+=6;break;case bs.curveTo2:p=c,m=h,r.bezierCurveTo(c,h,e[C],e[C+1],e[C+2],e[C+3]),l.updateCurvePathMinMax(y,p,m,c,h,e[C],e[C+1],e[C+2],e[C+3],A),c=e[C+2],h=e[C+3],C+=4;break;case bs.curveTo3:p=c,m=h,c=e[C+2],h=e[C+3],r.bezierCurveTo(e[C],e[C+1],c,h,c,h),l.updateCurvePathMinMax(y,p,m,e[C],e[C+1],c,h,c,h,A),C+=4;break;case bs.closePath:r.closePath();break}_&&l.updateScalingPathMinMax(y,A),l.setCurrentPoint(c,h)}closePath(){this.ctx.closePath()}stroke(t=!0){const e=this.ctx,n=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof n=="object"&&(n!=null&&n.getPattern)?(e.save(),e.strokeStyle=n.getPattern(e,this,Zr(e),Wi.STROKE),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(t=!0){const e=this.ctx,n=this.current.fillColor,r=this.current.patternFill;let l=!1;r&&(e.save(),e.fillStyle=n.getPattern(e,this,Zr(e),Wi.FILL),l=!0);const c=this.current.getClippedPathBoundingBox();this.contentVisible&&c!==null&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),l&&e.restore(),t&&this.consumePath(c)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=yP}eoClip(){this.pendingClip=U1}beginText(){this.current.textMatrix=uR,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0){e.beginPath();return}e.save(),e.beginPath();for(const n of t)e.setTransform(...n.transform),e.translate(n.x,n.y),n.addToPath(e,n.fontSize);e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){var y;const n=this.commonObjs.get(t),r=this.current;if(!n)throw new Error(`Can't find font for ${t}`);if(r.fontMatrix=n.fontMatrix||c_,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&Vt("Invalid font matrix for font "+t),e<0?(e=-e,r.fontDirection=-1):r.fontDirection=1,this.current.font=n,this.current.fontSize=e,n.isType3Font)return;const l=n.loadedName||"sans-serif",c=((y=n.systemFontInfo)==null?void 0:y.css)||`"${l}", ${n.fallbackName}`;let h="normal";n.black?h="900":n.bold&&(h="bold");const p=n.italic?"italic":"normal";let m=e;e<M1?m=M1:e>O1&&(m=O1),this.current.fontSizeScale=e/m,this.ctx.font=`${p} ${h} ${m}px ${c}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t,e,n,r,l,c){this.current.textMatrix=[t,e,n,r,l,c],this.current.textMatrixScale=Math.hypot(t,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,n,r){const l=this.ctx,c=this.current,h=c.font,p=c.textRenderingMode,m=c.fontSize/c.fontSizeScale,y=p&ki.FILL_STROKE_MASK,_=!!(p&ki.ADD_TO_PATH_FLAG),A=c.patternFill&&!h.missingFile;let S;(h.disableFontFace||_||A)&&(S=h.getPathGenerator(this.commonObjs,t)),h.disableFontFace||A?(l.save(),l.translate(e,n),l.beginPath(),S(l,m),r&&l.setTransform(...r),(y===ki.FILL||y===ki.FILL_STROKE)&&l.fill(),(y===ki.STROKE||y===ki.FILL_STROKE)&&l.stroke(),l.restore()):((y===ki.FILL||y===ki.FILL_STROKE)&&l.fillText(t,e,n),(y===ki.STROKE||y===ki.FILL_STROKE)&&l.strokeText(t,e,n)),_&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Le(l),x:e,y:n,fontSize:m,addToPath:S})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let n=!1;for(let r=3;r<e.length;r+=4)if(e[r]>0&&e[r]<255){n=!0;break}return Kt(this,"isFontSubpixelAAEnabled",n)}showText(t){const e=this.current,n=e.font;if(n.isType3Font)return this.showType3Text(t);const r=e.fontSize;if(r===0)return;const l=this.ctx,c=e.fontSizeScale,h=e.charSpacing,p=e.wordSpacing,m=e.fontDirection,y=e.textHScale*m,_=t.length,A=n.vertical,S=A?1:-1,C=n.defaultVMetrics,M=r*e.fontMatrix[0],j=e.textRenderingMode===ki.FILL&&!n.disableFontFace&&!e.patternFill;l.save(),l.transform(...e.textMatrix),l.translate(e.x,e.y+e.textRise),m>0?l.scale(y,-1):l.scale(y,1);let P;if(e.patternFill){l.save();const X=e.fillColor.getPattern(l,this,Zr(l),Wi.FILL);P=Le(l),l.restore(),l.fillStyle=X}let z=e.lineWidth;const G=e.textMatrixScale;if(G===0||z===0){const X=e.textRenderingMode&ki.FILL_STROKE_MASK;(X===ki.STROKE||X===ki.FILL_STROKE)&&(z=this.getSinglePixelWidth())}else z/=G;if(c!==1&&(l.scale(c,c),z/=c),l.lineWidth=z,n.isInvalidPDFjsFont){const X=[];let L=0;for(const D of t)X.push(D.unicode),L+=D.width;l.fillText(X.join(""),0,0),e.x+=L*M*y,l.restore(),this.compose();return}let Y=0,W;for(W=0;W<_;++W){const X=t[W];if(typeof X=="number"){Y+=S*X*r/1e3;continue}let L=!1;const D=(X.isSpace?p:0)+h,x=X.fontChar,I=X.accent;let H,V,U=X.width;if(A){const At=X.vmetric||C,st=-(X.vmetric?At[1]:U*.5)*M,at=At[2]*M;U=At?-At[0]:U,H=st/c,V=(Y+at)/c}else H=Y/c,V=0;if(n.remeasure&&U>0){const At=l.measureText(x).width*1e3/r*c;if(U<At&&this.isFontSubpixelAAEnabled){const st=U/At;L=!0,l.save(),l.scale(st,1),H/=st}else U!==At&&(H+=(U-At)/2e3*r/c)}if(this.contentVisible&&(X.isInFont||n.missingFile)){if(j&&!I)l.fillText(x,H,V);else if(this.paintChar(x,H,V,P),I){const At=H+r*I.offset.x/c,st=V-r*I.offset.y/c;this.paintChar(I.fontChar,At,st,P)}}const gt=A?U*M-D*m:U*M+D*m;Y+=gt,L&&l.restore()}A?e.y-=Y:e.x+=Y*y,l.restore(),this.compose()}showType3Text(t){const e=this.ctx,n=this.current,r=n.font,l=n.fontSize,c=n.fontDirection,h=r.vertical?1:-1,p=n.charSpacing,m=n.wordSpacing,y=n.textHScale*c,_=n.fontMatrix||c_,A=t.length,S=n.textRenderingMode===ki.INVISIBLE;let C,M,j,P;if(!(S||l===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),e.transform(...n.textMatrix),e.translate(n.x,n.y),e.scale(y,c),C=0;C<A;++C){if(M=t[C],typeof M=="number"){P=h*M*l/1e3,this.ctx.translate(P,0),n.x+=P*y;continue}const z=(M.isSpace?m:0)+p,G=r.charProcOperatorList[M.operatorListId];if(!G){Vt(`Type3 character "${M.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=M,this.save(),e.scale(l,l),e.transform(..._),this.executeOperatorList(G),this.restore()),j=St.applyTransform([M.width,0],_)[0]*l+z,e.translate(j,0),n.x+=j*y}e.restore(),this.processingType3=null}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,n,r,l,c){this.ctx.rect(n,r,l-n,c-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const n=t[1],r=this.baseTransform||Le(this.ctx),l={createCanvasGraphics:c=>new dE(c,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new F_(t,n,this.ctx,l,r)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,e,n){this.ctx.strokeStyle=this.current.strokeColor=St.makeHexColor(t,e,n)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(t,e,n){this.ctx.fillStyle=this.current.fillColor=St.makeHexColor(t,e,n),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let n;return this.cachedPatterns.has(t)?n=this.cachedPatterns.get(t):(n=uP(this.getObject(t)),this.cachedPatterns.set(t,n)),e&&(n.matrix=e),n}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const n=this._getPattern(t);e.fillStyle=n.getPattern(e,this,Zr(e),Wi.SHADING);const r=Zr(e);if(r){const{width:l,height:c}=e.canvas,[h,p,m,y]=St.getAxialAlignedBoundingBox([0,0,l,c],r);this.ctx.fillRect(h,p,m-h,y-p)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){we("Should not call beginInlineImage")}beginImageData(){we("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=Le(this.ctx),e)){const n=e[2]-e[0],r=e[3]-e[1];this.ctx.rect(e[0],e[1],n,r),this.current.updateRectMinMax(Le(this.ctx),e),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||_y("TODO: Support non-isolated groups."),t.knockout&&Vt("Knockout groups not supported.");const n=Le(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let r=St.getAxialAlignedBoundingBox(t.bbox,Le(e));const l=[0,0,e.canvas.width,e.canvas.height];r=St.intersect(r,l)||[0,0,0,0];const c=Math.floor(r[0]),h=Math.floor(r[1]),p=Math.max(Math.ceil(r[2])-c,1),m=Math.max(Math.ceil(r[3])-h,1);this.current.startNewPathAndClipBox([0,0,p,m]);let y="groupAt"+this.groupLevel;t.smask&&(y+="_smask_"+this.smaskCounter++%2);const _=this.cachedCanvases.getCanvas(y,p,m),A=_.context;A.translate(-c,-h),A.transform(...n),t.smask?this.smaskStack.push({canvas:_.canvas,context:A,offsetX:c,offsetY:h,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(c,h),e.save()),wf(e,A),this.ctx=A,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=Le(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const l=St.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],r);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(l)}}beginAnnotation(t,e,n,r,l){if(R(this,pl,U_).call(this),$m(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const c=e[2]-e[0],h=e[3]-e[1];if(l&&this.annotationCanvasMap){n=n.slice(),n[4]-=e[0],n[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=c,e[3]=h;const[p,m]=St.singularValueDecompose2dScale(Le(this.ctx)),{viewportScale:y}=this,_=Math.ceil(c*this.outputScaleX*y),A=Math.ceil(h*this.outputScaleY*y);this.annotationCanvas=this.canvasFactory.create(_,A);const{canvas:S,context:C}=this.annotationCanvas;this.annotationCanvasMap.set(t,S),this.annotationCanvas.savedCtx=this.ctx,this.ctx=C,this.ctx.save(),this.ctx.setTransform(p,0,0,-m,0,h*m),$m(this.ctx)}else $m(this.ctx),this.endPath(),this.ctx.rect(e[0],e[1],c,h),this.ctx.clip(),this.ctx.beginPath()}this.current=new N1(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),R(this,pl,j_).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const n=this.ctx,r=this.processingType3;if(r&&(r.compiled===void 0&&(r.compiled=gP(t)),r.compiled)){r.compiled(n);return}const l=this._createMaskCanvas(t),c=l.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(c,l.offsetX,l.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,n=0,r=0,l,c){if(!this.contentVisible)return;t=this.getObject(t.data,t);const h=this.ctx;h.save();const p=Le(h);h.transform(e,n,r,l,0,0);const m=this._createMaskCanvas(t);h.setTransform(1,0,0,1,m.offsetX-p[4],m.offsetY-p[5]);for(let y=0,_=c.length;y<_;y+=2){const A=St.transform(p,[e,n,r,l,c[y],c[y+1]]),[S,C]=St.applyTransform([0,0],A);h.drawImage(m.canvas,S,C)}h.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,n=this.current.fillColor,r=this.current.patternFill;for(const l of t){const{data:c,width:h,height:p,transform:m}=l,y=this.cachedCanvases.getCanvas("maskCanvas",h,p),_=y.context;_.save();const A=this.getObject(c,l);P1(_,A),_.globalCompositeOperation="source-in",_.fillStyle=r?n.getPattern(_,this,Zr(e),Wi.FILL):n,_.fillRect(0,0,h,p),_.restore(),e.save(),e.transform(...m),e.scale(1,-1),Ym(e,y.canvas,0,0,h,p,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){Vt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,n,r){if(!this.contentVisible)return;const l=this.getObject(t);if(!l){Vt("Dependent image isn't ready yet");return}const c=l.width,h=l.height,p=[];for(let m=0,y=r.length;m<y;m+=2)p.push({transform:[e,0,0,n,r[m],r[m+1]],x:0,y:0,w:c,h});this.paintInlineImageXObjectGroup(l,p)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:n,height:r}=t,l=this.cachedCanvases.getCanvas("inlineImage",n,r),c=l.context;return c.filter=this.current.transferMaps,c.drawImage(e,0,0),c.filter="none",l.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,n=t.height,r=this.ctx;if(this.save(),!Hi){const{filter:h}=r;h!=="none"&&h!==""&&(r.filter="none")}r.scale(1/e,-1/n);let l;if(t.bitmap)l=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)l=t;else{const p=this.cachedCanvases.getCanvas("inlineImage",e,n).context;I1(p,t),l=this.applyTransferMapsToCanvas(p)}const c=this._scaleImage(l,Zr(r));r.imageSmoothingEnabled=F1(Le(r),t.interpolate),Ym(r,c.img,0,0,c.paintWidth,c.paintHeight,0,-n,e,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const n=this.ctx;let r;if(t.bitmap)r=t.bitmap;else{const l=t.width,c=t.height,p=this.cachedCanvases.getCanvas("inlineImage",l,c).context;I1(p,t),r=this.applyTransferMapsToCanvas(p)}for(const l of e)n.save(),n.transform(...l.transform),n.scale(1,-1),Ym(n,r,l.x,l.y,l.w,l.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){const e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const n=this.ctx;this.pendingClip&&(e||(this.pendingClip===U1?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=Le(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.hypot(t[0],t[2]),r=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(n,r)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:n,c:r,d:l}=this.ctx.getTransform();let c,h;if(n===0&&r===0){const p=Math.abs(e),m=Math.abs(l);if(p===m)if(t===0)c=h=1/p;else{const y=p*t;c=h=y<1?1/y:1}else if(t===0)c=1/p,h=1/m;else{const y=p*t,_=m*t;c=y<1?1/y:1,h=_<1?1/_:1}}else{const p=Math.abs(e*l-n*r),m=Math.hypot(e,n),y=Math.hypot(r,l);if(t===0)c=y/p,h=m/p;else{const _=t*p;c=y>_?y/_:1,h=m>_?m/_:1}}this._cachedScaleForStroking[0]=c,this._cachedScaleForStroking[1]=h}return this._cachedScaleForStroking}rescaleAndStroke(t){const{ctx:e}=this,{lineWidth:n}=this.current,[r,l]=this.getScaleForStroking();if(e.lineWidth=n||1,r===1&&l===1){e.stroke();return}const c=e.getLineDash();if(t&&e.save(),e.scale(r,l),c.length>0){const h=Math.max(r,l);e.setLineDash(c.map(p=>p/h)),e.lineDashOffset/=h}e.stroke(),t&&e.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};pl=new WeakSet,U_=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},j_=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}};let hh=dE;for(const o in bs)hh.prototype[o]!==void 0&&(hh.prototype[bs[o]]=hh.prototype[o]);var _p,Ap;class Da{static get workerPort(){return d(this,_p)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");T(this,_p,t)}static get workerSrc(){return d(this,Ap)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");T(this,Ap,t)}}_p=new WeakMap,Ap=new WeakMap,O(Da,_p,null),O(Da,Ap,"");const Km={DATA:1,ERROR:2},Ke={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function wn(o){switch(o instanceof Error||typeof o=="object"&&o!==null||we('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),o.name){case"AbortException":return new hu(o.message);case"MissingPDFException":return new uu(o.message);case"PasswordException":return new u_(o.message,o.code);case"UnexpectedResponseException":return new Ay(o.message,o.status);case"UnknownErrorException":return new h_(o.message,o.details);default:return new h_(o.message,o.toString())}}var Dh,os,$R,KR,WR,uv;class If{constructor(t,e,n){O(this,os);O(this,Dh,new AbortController);this.sourceName=t,this.targetName=e,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",R(this,os,$R).bind(this),{signal:d(this,Dh).signal})}on(t,e){const n=this.actionHandler;if(n[t])throw new Error(`There is already an actionName called "${t}"`);n[t]=e}send(t,e,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}sendWithPromise(t,e,n){const r=this.callbackId++,l=Promise.withResolvers();this.callbackCapabilities[r]=l;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:r,data:e},n)}catch(c){l.reject(c)}return l.promise}sendWithStream(t,e,n,r){const l=this.streamId++,c=this.sourceName,h=this.targetName,p=this.comObj;return new ReadableStream({start:m=>{const y=Promise.withResolvers();return this.streamControllers[l]={controller:m,startCall:y,pullCall:null,cancelCall:null,isClosed:!1},p.postMessage({sourceName:c,targetName:h,action:t,streamId:l,data:e,desiredSize:m.desiredSize},r),y.promise},pull:m=>{const y=Promise.withResolvers();return this.streamControllers[l].pullCall=y,p.postMessage({sourceName:c,targetName:h,stream:Ke.PULL,streamId:l,desiredSize:m.desiredSize}),y.promise},cancel:m=>{si(m instanceof Error,"cancel must have a valid reason");const y=Promise.withResolvers();return this.streamControllers[l].cancelCall=y,this.streamControllers[l].isClosed=!0,p.postMessage({sourceName:c,targetName:h,stream:Ke.CANCEL,streamId:l,reason:wn(m)}),y.promise}},n)}destroy(){var t;(t=d(this,Dh))==null||t.abort(),T(this,Dh,null)}}Dh=new WeakMap,os=new WeakSet,$R=function({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){R(this,os,WR).call(this,t);return}if(t.callback){const n=t.callbackId,r=this.callbackCapabilities[n];if(!r)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],t.callback===Km.DATA)r.resolve(t.data);else if(t.callback===Km.ERROR)r.reject(wn(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const n=this.sourceName,r=t.sourceName,l=this.comObj;new Promise(function(c){c(e(t.data))}).then(function(c){l.postMessage({sourceName:n,targetName:r,callback:Km.DATA,callbackId:t.callbackId,data:c})},function(c){l.postMessage({sourceName:n,targetName:r,callback:Km.ERROR,callbackId:t.callbackId,reason:wn(c)})});return}if(t.streamId){R(this,os,KR).call(this,t);return}e(t.data)},KR=function(t){const e=t.streamId,n=this.sourceName,r=t.sourceName,l=this.comObj,c=this,h=this.actionHandler[t.action],p={enqueue(m,y=1,_){if(this.isCancelled)return;const A=this.desiredSize;this.desiredSize-=y,A>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),l.postMessage({sourceName:n,targetName:r,stream:Ke.ENQUEUE,streamId:e,chunk:m},_)},close(){this.isCancelled||(this.isCancelled=!0,l.postMessage({sourceName:n,targetName:r,stream:Ke.CLOSE,streamId:e}),delete c.streamSinks[e])},error(m){si(m instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,l.postMessage({sourceName:n,targetName:r,stream:Ke.ERROR,streamId:e,reason:wn(m)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};p.sinkCapability.resolve(),p.ready=p.sinkCapability.promise,this.streamSinks[e]=p,new Promise(function(m){m(h(t.data,p))}).then(function(){l.postMessage({sourceName:n,targetName:r,stream:Ke.START_COMPLETE,streamId:e,success:!0})},function(m){l.postMessage({sourceName:n,targetName:r,stream:Ke.START_COMPLETE,streamId:e,reason:wn(m)})})},WR=function(t){const e=t.streamId,n=this.sourceName,r=t.sourceName,l=this.comObj,c=this.streamControllers[e],h=this.streamSinks[e];switch(t.stream){case Ke.START_COMPLETE:t.success?c.startCall.resolve():c.startCall.reject(wn(t.reason));break;case Ke.PULL_COMPLETE:t.success?c.pullCall.resolve():c.pullCall.reject(wn(t.reason));break;case Ke.PULL:if(!h){l.postMessage({sourceName:n,targetName:r,stream:Ke.PULL_COMPLETE,streamId:e,success:!0});break}h.desiredSize<=0&&t.desiredSize>0&&h.sinkCapability.resolve(),h.desiredSize=t.desiredSize,new Promise(function(p){var m;p((m=h.onPull)==null?void 0:m.call(h))}).then(function(){l.postMessage({sourceName:n,targetName:r,stream:Ke.PULL_COMPLETE,streamId:e,success:!0})},function(p){l.postMessage({sourceName:n,targetName:r,stream:Ke.PULL_COMPLETE,streamId:e,reason:wn(p)})});break;case Ke.ENQUEUE:if(si(c,"enqueue should have stream controller"),c.isClosed)break;c.controller.enqueue(t.chunk);break;case Ke.CLOSE:if(si(c,"close should have stream controller"),c.isClosed)break;c.isClosed=!0,c.controller.close(),R(this,os,uv).call(this,c,e);break;case Ke.ERROR:si(c,"error should have stream controller"),c.controller.error(wn(t.reason)),R(this,os,uv).call(this,c,e);break;case Ke.CANCEL_COMPLETE:t.success?c.cancelCall.resolve():c.cancelCall.reject(wn(t.reason)),R(this,os,uv).call(this,c,e);break;case Ke.CANCEL:if(!h)break;new Promise(function(p){var m;p((m=h.onCancel)==null?void 0:m.call(h,wn(t.reason)))}).then(function(){l.postMessage({sourceName:n,targetName:r,stream:Ke.CANCEL_COMPLETE,streamId:e,success:!0})},function(p){l.postMessage({sourceName:n,targetName:r,stream:Ke.CANCEL_COMPLETE,streamId:e,reason:wn(p)})}),h.sinkCapability.reject(wn(t.reason)),h.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}},uv=async function(t,e){var n,r,l;await Promise.allSettled([(n=t.startCall)==null?void 0:n.promise,(r=t.pullCall)==null?void 0:r.promise,(l=t.cancelCall)==null?void 0:l.promise]),delete this.streamControllers[e]};var Ec,Ep;class bP{constructor({parsedData:t,rawData:e}){O(this,Ec);O(this,Ep);T(this,Ec,t),T(this,Ep,e)}getRaw(){return d(this,Ep)}get(t){return d(this,Ec).get(t)??null}getAll(){return QA(d(this,Ec))}has(t){return d(this,Ec).has(t)}}Ec=new WeakMap,Ep=new WeakMap;const nh=Symbol("INTERNAL");var Sp,wp,Tp,Mh;class _P{constructor(t,{name:e,intent:n,usage:r,rbGroups:l}){O(this,Sp,!1);O(this,wp,!1);O(this,Tp,!1);O(this,Mh,!0);T(this,Sp,!!(t&Ln.DISPLAY)),T(this,wp,!!(t&Ln.PRINT)),this.name=e,this.intent=n,this.usage=r,this.rbGroups=l}get visible(){if(d(this,Tp))return d(this,Mh);if(!d(this,Mh))return!1;const{print:t,view:e}=this.usage;return d(this,Sp)?(e==null?void 0:e.viewState)!=="OFF":d(this,wp)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,e,n=!1){t!==nh&&we("Internal method `_setVisible` called."),T(this,Tp,n),T(this,Mh,e)}}Sp=new WeakMap,wp=new WeakMap,Tp=new WeakMap,Mh=new WeakMap;var Xo,ue,Oh,kh,Cp,H_;class AP{constructor(t,e=Ln.DISPLAY){O(this,Cp);O(this,Xo,null);O(this,ue,new Map);O(this,Oh,null);O(this,kh,null);if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,T(this,kh,t.order);for(const n of t.groups)d(this,ue).set(n.id,new _P(e,n));if(t.baseState==="OFF")for(const n of d(this,ue).values())n._setVisible(nh,!1);for(const n of t.on)d(this,ue).get(n)._setVisible(nh,!0);for(const n of t.off)d(this,ue).get(n)._setVisible(nh,!1);T(this,Oh,this.getHash())}}isVisible(t){if(d(this,ue).size===0)return!0;if(!t)return _y("Optional content group not defined."),!0;if(t.type==="OCG")return d(this,ue).has(t.id)?d(this,ue).get(t.id).visible:(Vt(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return R(this,Cp,H_).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!d(this,ue).has(e))return Vt(`Optional content group not found: ${e}`),!0;if(d(this,ue).get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!d(this,ue).has(e))return Vt(`Optional content group not found: ${e}`),!0;if(!d(this,ue).get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!d(this,ue).has(e))return Vt(`Optional content group not found: ${e}`),!0;if(!d(this,ue).get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!d(this,ue).has(e))return Vt(`Optional content group not found: ${e}`),!0;if(d(this,ue).get(e).visible)return!1}return!0}return Vt(`Unknown optional content policy ${t.policy}.`),!0}return Vt(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,n=!0){var l;const r=d(this,ue).get(t);if(!r){Vt(`Optional content group not found: ${t}`);return}if(n&&e&&r.rbGroups.length)for(const c of r.rbGroups)for(const h of c)h!==t&&((l=d(this,ue).get(h))==null||l._setVisible(nh,!1,!0));r._setVisible(nh,!!e,!0),T(this,Xo,null)}setOCGState({state:t,preserveRB:e}){let n;for(const r of t){switch(r){case"ON":case"OFF":case"Toggle":n=r;continue}const l=d(this,ue).get(r);if(l)switch(n){case"ON":this.setVisibility(r,!0,e);break;case"OFF":this.setVisibility(r,!1,e);break;case"Toggle":this.setVisibility(r,!l.visible,e);break}}T(this,Xo,null)}get hasInitialVisibility(){return d(this,Oh)===null||this.getHash()===d(this,Oh)}getOrder(){return d(this,ue).size?d(this,kh)?d(this,kh).slice():[...d(this,ue).keys()]:null}getGroups(){return d(this,ue).size>0?QA(d(this,ue)):null}getGroup(t){return d(this,ue).get(t)||null}getHash(){if(d(this,Xo)!==null)return d(this,Xo);const t=new FR;for(const[e,n]of d(this,ue))t.update(`${e}:${n.visible}`);return T(this,Xo,t.hexdigest())}}Xo=new WeakMap,ue=new WeakMap,Oh=new WeakMap,kh=new WeakMap,Cp=new WeakSet,H_=function(t){const e=t.length;if(e<2)return!0;const n=t[0];for(let r=1;r<e;r++){const l=t[r];let c;if(Array.isArray(l))c=R(this,Cp,H_).call(this,l);else if(d(this,ue).has(l))c=d(this,ue).get(l).visible;else return Vt(`Optional content group not found: ${l}`),!0;switch(n){case"And":if(!c)return!1;break;case"Or":if(c)return!0;break;case"Not":return!c;default:return!0}}return n==="And"};class EP{constructor(t,{disableRange:e=!1,disableStream:n=!1}){si(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:l,progressiveDone:c,contentDispositionFilename:h}=t;if(this._queuedChunks=[],this._progressiveDone=c,this._contentDispositionFilename=h,(l==null?void 0:l.length)>0){const p=l instanceof Uint8Array&&l.byteLength===l.buffer.byteLength?l.buffer:new Uint8Array(l).buffer;this._queuedChunks.push(p)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!n,this._isRangeSupported=!e,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((p,m)=>{this._onReceiveData({begin:p,chunk:m})}),t.addProgressListener((p,m)=>{this._onProgress({loaded:p,total:m})}),t.addProgressiveReadListener(p=>{this._onReceiveData({chunk:p})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const n=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const r=this._rangeReaders.some(function(l){return l._begin!==t?!1:(l._enqueue(n),!0)});si(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var e,n,r,l;t.total===void 0?(n=(e=this._rangeReaders[0])==null?void 0:e.onProgress)==null||n.call(e,{loaded:t.loaded}):(l=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||l.call(r,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){si(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new SP(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new wP(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeReaders.slice(0))n.cancel(t);this._pdfDataRangeTransport.abort()}}class SP{constructor(t,e,n=!1,r=null){this._stream=t,this._done=n||!1,this._filename=tE(r)?r:null,this._queuedChunks=e||[],this._loaded=0;for(const l of this._queuedChunks)this._loaded+=l.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class wP{constructor(t,e,n){this._stream=t,this._begin=e,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function TP(o){let t=!0,e=n("filename\\*","i").exec(o);if(e){e=e[1];let y=h(e);return y=unescape(y),y=p(y),y=m(y),l(y)}if(e=c(o),e){const y=m(e);return l(y)}if(e=n("filename","i").exec(o),e){e=e[1];let y=h(e);return y=m(y),l(y)}function n(y,_){return new RegExp("(?:^|;)\\s*"+y+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',_)}function r(y,_){if(y){if(!/^[\x00-\xFF]+$/.test(_))return _;try{const A=new TextDecoder(y,{fatal:!0}),S=Ey(_);_=A.decode(S),t=!1}catch{}}return _}function l(y){return t&&/[\x80-\xff]/.test(y)&&(y=r("utf-8",y),t&&(y=r("iso-8859-1",y))),y}function c(y){const _=[];let A;const S=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(A=S.exec(y))!==null;){let[,M,j,P]=A;if(M=parseInt(M,10),M in _){if(M===0)break;continue}_[M]=[j,P]}const C=[];for(let M=0;M<_.length&&M in _;++M){let[j,P]=_[M];P=h(P),j&&(P=unescape(P),M===0&&(P=p(P))),C.push(P)}return C.join("")}function h(y){if(y.startsWith('"')){const _=y.slice(1).split('\\"');for(let A=0;A<_.length;++A){const S=_[A].indexOf('"');S!==-1&&(_[A]=_[A].slice(0,S),_.length=A+1),_[A]=_[A].replaceAll(/\\(.)/g,"$1")}y=_.join('"')}return y}function p(y){const _=y.indexOf("'");if(_===-1)return y;const A=y.slice(0,_),C=y.slice(_+1).replace(/^[^']*'/,"");return r(A,C)}function m(y){return!y.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(y)?y:y.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(_,A,S,C){if(S==="q"||S==="Q")return C=C.replaceAll("_"," "),C=C.replaceAll(/=([0-9a-fA-F]{2})/g,function(M,j){return String.fromCharCode(parseInt(j,16))}),r(A,C);try{C=atob(C)}catch{}return r(A,C)})}return""}function rE(o,t){const e=new Headers;if(!o||!t||typeof t!="object")return e;for(const n in t){const r=t[n];r!==void 0&&e.append(n,r)}return e}function aE({responseHeaders:o,isHttp:t,rangeChunkSize:e,disableRange:n}){const r={allowRangeRequests:!1,suggestedLength:void 0},l=parseInt(o.get("Content-Length"),10);return!Number.isInteger(l)||(r.suggestedLength=l,l<=2*e)||n||!t||o.get("Accept-Ranges")!=="bytes"||(o.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function oE(o){const t=o.get("Content-Disposition");if(t){let e=TP(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(tE(e))return e}return null}function Ty(o,t){return o===404||o===0&&t.startsWith("file:")?new uu('Missing PDF "'+t+'".'):new Ay(`Unexpected server response (${o}) while retrieving PDF "${t}".`,o)}function QR(o){return o===200||o===206}function ZR(o,t,e){return{method:"GET",headers:o,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function JR(o){return o instanceof Uint8Array?o.buffer:o instanceof ArrayBuffer?o:(Vt(`getArrayBuffer - unexpected data format: ${o}`),new Uint8Array(o).buffer)}class j1{constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=rE(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return si(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new CP(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new RP(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class CP{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const n=new Headers(t.headers),r=e.url;fetch(r,ZR(n,this._withCredentials,this._abortController)).then(l=>{if(!QR(l.status))throw Ty(l.status,r);this._reader=l.body.getReader(),this._headersCapability.resolve();const c=l.headers,{allowRangeRequests:h,suggestedLength:p}=aE({responseHeaders:c,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=h,this._contentLength=p||this._contentLength,this._filename=oE(c),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new hu("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:JR(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}class RP{constructor(t,e,n){this._stream=t,this._reader=null,this._loaded=0;const r=t.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const l=new Headers(t.headers);l.append("Range",`bytes=${e}-${n-1}`);const c=r.url;fetch(c,ZR(l,this._withCredentials,this._abortController)).then(h=>{if(!QR(h.status))throw Ty(h.status,c);this._readCapability.resolve(),this._reader=h.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:JR(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}const Q0=200,Z0=206;function xP(o){const t=o.response;return typeof t!="string"?t:Ey(t).buffer}class DP{constructor({url:t,httpHeaders:e,withCredentials:n}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=rE(this.isHttp,e),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,e,n){const r={begin:t,end:e};for(const l in n)r[l]=n[l];return this.request(r)}requestFull(t){return this.request(t)}request(t){const e=new XMLHttpRequest,n=this.currXhrId++,r=this.pendingRequests[n]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[l,c]of this.headers)e.setRequestHeader(l,c);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),r.expectedStatus=Z0):r.expectedStatus=Q0,e.responseType="arraybuffer",t.onError&&(e.onerror=function(l){t.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=t.onHeadersReceived,r.onDone=t.onDone,r.onError=t.onError,r.onProgress=t.onProgress,e.send(null),n}onProgress(t,e){var r;const n=this.pendingRequests[t];n&&((r=n.onProgress)==null||r.call(n,e))}onStateChange(t,e){var p,m,y;const n=this.pendingRequests[t];if(!n)return;const r=n.xhr;if(r.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),r.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],r.status===0&&this.isHttp){(p=n.onError)==null||p.call(n,r.status);return}const l=r.status||Q0;if(!(l===Q0&&n.expectedStatus===Z0)&&l!==n.expectedStatus){(m=n.onError)==null||m.call(n,r.status);return}const h=xP(r);if(l===Z0){const _=r.getResponseHeader("Content-Range"),A=/bytes (\d+)-(\d+)\/(\d+)/.exec(_);n.onDone({begin:parseInt(A[1],10),chunk:h})}else h?n.onDone({begin:0,chunk:h}):(y=n.onError)==null||y.call(n,r.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class MP{constructor(t){this._source=t,this._manager=new DP(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return si(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new OP(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const n=new kP(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class OP{constructor(t,e){this._manager=t;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._fullRequestId=t.requestFull(n),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t),n=new Headers(e.getAllResponseHeaders().trim().split(/[\r\n]+/).map(c=>{const[h,...p]=c.split(": ");return[h,p.join(": ")]})),{allowRangeRequests:r,suggestedLength:l}=aE({responseHeaders:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=l||this._contentLength,this._filename=oE(n),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=Ty(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;(e=this.onProgress)==null||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class kP{constructor(t,e,n){this._manager=t;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(e,n,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError=Ty(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(e=this.onProgress)==null||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const LP=/^[a-z][a-z0-9\-+.]+:/i;function NP(o){if(LP.test(o))return new URL(o);const t=dl.get("url");return new URL(t.pathToFileURL(o))}function tx(o,t,e){return o.protocol==="http:"?dl.get("http").request(o,{headers:t},e):dl.get("https").request(o,{headers:t},e)}class IP{constructor(t){this.source=t,this.url=NP(t.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=rE(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return si(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new UP(this):new PP(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=this.isFsUrl?new jP(this,t,e):new FP(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class ex{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new hu("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class ix{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const e=t.source;this._isStreamingSupported=!e.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class PP extends ex{constructor(t){super(t);const e=Object.fromEntries(t.headers),n=r=>{if(r.statusCode===404){const p=new uu(`Missing PDF "${this._url}".`);this._storedError=p,this._headersCapability.reject(p);return}this._headersCapability.resolve(),this._setReadableStream(r);const l=new Headers(this._readableStream.headers),{allowRangeRequests:c,suggestedLength:h}=aE({responseHeaders:l,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=h||this._contentLength,this._filename=oE(l)};this._request=tx(this._url,e,n),this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class FP extends ix{constructor(t,e,n){super(t);const r=Object.fromEntries(t.headers);r.Range=`bytes=${e}-${n-1}`;const l=c=>{if(c.statusCode===404){const h=new uu(`Missing PDF "${this._url}".`);this._storedError=h;return}this._setReadableStream(c)};this._request=tx(this._url,r,l),this._request.on("error",c=>{this._storedError=c}),this._request.end()}}class UP extends ex{constructor(t){super(t);const e=dl.get("fs");e.promises.lstat(this._url).then(n=>{this._contentLength=n.size,this._setReadableStream(e.createReadStream(this._url)),this._headersCapability.resolve()},n=>{n.code==="ENOENT"&&(n=new uu(`Missing PDF "${this._url}".`)),this._storedError=n,this._headersCapability.reject(n)})}}class jP extends ix{constructor(t,e,n){super(t);const r=dl.get("fs");this._setReadableStream(r.createReadStream(this._url,{start:e,end:n-1}))}}const HP=1e5,on=30,BP=.8;var tC,Yo,un,Rp,xp,Sc,la,Dp,Mp,wc,Lh,Nh,$o,Ih,Op,Ph,Tc,kp,Lp,je,Cc,Rc,Np,Ko,Fh,Ha,nx,sx,z_,In,hv,V_,rx,ax;let B_=(je=class{constructor({textContentSource:t,container:e,viewport:n}){O(this,Ha);O(this,Yo,Promise.withResolvers());O(this,un,null);O(this,Rp,!1);O(this,xp,!!((tC=globalThis.FontInspector)!=null&&tC.enabled));O(this,Sc,null);O(this,la,null);O(this,Dp,0);O(this,Mp,0);O(this,wc,null);O(this,Lh,null);O(this,Nh,0);O(this,$o,0);O(this,Ih,Object.create(null));O(this,Op,[]);O(this,Ph,null);O(this,Tc,[]);O(this,kp,new WeakMap);O(this,Lp,null);var p;if(t instanceof ReadableStream)T(this,Ph,t);else if(typeof t=="object")T(this,Ph,new ReadableStream({start(m){m.enqueue(t),m.close()}}));else throw new Error('No "textContentSource" parameter specified.');T(this,un,T(this,Lh,e)),T(this,$o,n.scale*(globalThis.devicePixelRatio||1)),T(this,Nh,n.rotation),T(this,la,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:l,pageX:c,pageY:h}=n.rawDims;T(this,Lp,[1,0,0,-1,-c,h+l]),T(this,Mp,r),T(this,Dp,l),R(p=je,In,rx).call(p),iu(e,n),d(this,Yo).promise.finally(()=>{d(je,Fh).delete(this),T(this,la,null),T(this,Ih,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=Qi.platform;return Kt(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{d(this,wc).read().then(({value:e,done:n})=>{if(n){d(this,Yo).resolve();return}d(this,Sc)??T(this,Sc,e.lang),Object.assign(d(this,Ih),e.styles),R(this,Ha,nx).call(this,e.items),t()},d(this,Yo).reject)};return T(this,wc,d(this,Ph).getReader()),d(je,Fh).add(this),t(),d(this,Yo).promise}update({viewport:t,onBefore:e=null}){var l;const n=t.scale*(globalThis.devicePixelRatio||1),r=t.rotation;if(r!==d(this,Nh)&&(e==null||e(),T(this,Nh,r),iu(d(this,Lh),{rotation:r})),n!==d(this,$o)){e==null||e(),T(this,$o,n);const c={div:null,properties:null,ctx:R(l=je,In,hv).call(l,d(this,Sc))};for(const h of d(this,Tc))c.properties=d(this,kp).get(h),c.div=h,R(this,Ha,z_).call(this,c)}}cancel(){var e;const t=new hu("TextLayer task cancelled.");(e=d(this,wc))==null||e.cancel(t).catch(()=>{}),T(this,wc,null),d(this,Yo).reject(t)}get textDivs(){return d(this,Tc)}get textContentItemsStr(){return d(this,Op)}static cleanup(){if(!(d(this,Fh).size>0)){d(this,Cc).clear();for(const{canvas:t}of d(this,Rc).values())t.remove();d(this,Rc).clear()}}},Yo=new WeakMap,un=new WeakMap,Rp=new WeakMap,xp=new WeakMap,Sc=new WeakMap,la=new WeakMap,Dp=new WeakMap,Mp=new WeakMap,wc=new WeakMap,Lh=new WeakMap,Nh=new WeakMap,$o=new WeakMap,Ih=new WeakMap,Op=new WeakMap,Ph=new WeakMap,Tc=new WeakMap,kp=new WeakMap,Lp=new WeakMap,Cc=new WeakMap,Rc=new WeakMap,Np=new WeakMap,Ko=new WeakMap,Fh=new WeakMap,Ha=new WeakSet,nx=function(t){var r,l;if(d(this,Rp))return;(l=d(this,la)).ctx??(l.ctx=R(r=je,In,hv).call(r,d(this,Sc)));const e=d(this,Tc),n=d(this,Op);for(const c of t){if(e.length>HP){Vt("Ignoring additional textDivs for performance reasons."),T(this,Rp,!0);return}if(c.str===void 0){if(c.type==="beginMarkedContentProps"||c.type==="beginMarkedContent"){const h=d(this,un);T(this,un,document.createElement("span")),d(this,un).classList.add("markedContent"),c.id!==null&&d(this,un).setAttribute("id",`${c.id}`),h.append(d(this,un))}else c.type==="endMarkedContent"&&T(this,un,d(this,un).parentNode);continue}n.push(c.str),R(this,Ha,sx).call(this,c)}},sx=function(t){var M;const e=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};d(this,Tc).push(e);const r=St.transform(d(this,Lp),t.transform);let l=Math.atan2(r[1],r[0]);const c=d(this,Ih)[t.fontName];c.vertical&&(l+=Math.PI/2);let h=d(this,xp)&&c.fontSubstitution||c.fontFamily;h=je.fontFamilyMap.get(h)||h;const p=Math.hypot(r[2],r[3]),m=p*R(M=je,In,ax).call(M,h,d(this,Sc));let y,_;l===0?(y=r[4],_=r[5]-m):(y=r[4]+m*Math.sin(l),_=r[5]-m*Math.cos(l));const A="calc(var(--scale-factor)*",S=e.style;d(this,un)===d(this,Lh)?(S.left=`${(100*y/d(this,Mp)).toFixed(2)}%`,S.top=`${(100*_/d(this,Dp)).toFixed(2)}%`):(S.left=`${A}${y.toFixed(2)}px)`,S.top=`${A}${_.toFixed(2)}px)`),S.fontSize=`${A}${(d(je,Ko)*p).toFixed(2)}px)`,S.fontFamily=h,n.fontSize=p,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,d(this,xp)&&(e.dataset.fontName=c.fontSubstitutionLoadedName||t.fontName),l!==0&&(n.angle=l*(180/Math.PI));let C=!1;if(t.str.length>1)C=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const j=Math.abs(t.transform[0]),P=Math.abs(t.transform[3]);j!==P&&Math.max(j,P)/Math.min(j,P)>1.5&&(C=!0)}if(C&&(n.canvasWidth=c.vertical?t.height:t.width),d(this,kp).set(e,n),d(this,la).div=e,d(this,la).properties=n,R(this,Ha,z_).call(this,d(this,la)),n.hasText&&d(this,un).append(e),n.hasEOL){const j=document.createElement("br");j.setAttribute("role","presentation"),d(this,un).append(j)}},z_=function(t){var h;const{div:e,properties:n,ctx:r}=t,{style:l}=e;let c="";if(d(je,Ko)>1&&(c=`scale(${1/d(je,Ko)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:p}=l,{canvasWidth:m,fontSize:y}=n;R(h=je,In,V_).call(h,r,y*d(this,$o),p);const{width:_}=r.measureText(e.textContent);_>0&&(c=`scaleX(${m*d(this,$o)/_}) ${c}`)}n.angle!==0&&(c=`rotate(${n.angle}deg) ${c}`),c.length>0&&(l.transform=c)},In=new WeakSet,hv=function(t=null){let e=d(this,Rc).get(t||(t=""));if(!e){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=t,document.body.append(n),e=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),d(this,Rc).set(t,e),d(this,Np).set(e,{size:0,family:""})}return e},V_=function(t,e,n){const r=d(this,Np).get(t);e===r.size&&n===r.family||(t.font=`${e}px ${n}`,r.size=e,r.family=n)},rx=function(){if(d(this,Ko)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),T(this,Ko,t.getBoundingClientRect().height),t.remove()},ax=function(t,e){const n=d(this,Cc).get(t);if(n)return n;const r=R(this,In,hv).call(this,e);r.canvas.width=r.canvas.height=on,R(this,In,V_).call(this,r,on,t);const l=r.measureText("");let c=l.fontBoundingBoxAscent,h=Math.abs(l.fontBoundingBoxDescent);if(c){const y=c/(c+h);return d(this,Cc).set(t,y),r.canvas.width=r.canvas.height=0,y}r.strokeStyle="red",r.clearRect(0,0,on,on),r.strokeText("g",0,0);let p=r.getImageData(0,0,on,on).data;h=0;for(let y=p.length-1-3;y>=0;y-=4)if(p[y]>0){h=Math.ceil(y/4/on);break}r.clearRect(0,0,on,on),r.strokeText("A",0,on),p=r.getImageData(0,0,on,on).data,c=0;for(let y=0,_=p.length;y<_;y+=4)if(p[y]>0){c=on-Math.floor(y/4/on);break}r.canvas.width=r.canvas.height=0;const m=c?c/(c+h):BP;return d(this,Cc).set(t,m),m},O(je,In),O(je,Cc,new Map),O(je,Rc,new Map),O(je,Np,new WeakMap),O(je,Ko,null),O(je,Fh,new Set),je);class Zf{static textContent(t){const e=[],n={items:e,styles:Object.create(null)};function r(l){var p;if(!l)return;let c=null;const h=l.name;if(h==="#text")c=l.value;else if(Zf.shouldBuildText(h))(p=l==null?void 0:l.attributes)!=null&&p.textContent?c=l.attributes.textContent:l.value&&(c=l.value);else return;if(c!==null&&e.push({str:c}),!!l.children)for(const m of l.children)r(m)}return r(t),n}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const zP=65536,VP=100,GP=5e3,qP=Hi?nP:tP,XP=Hi?sP:zR,YP=Hi?iP:eP,$P=Hi?rP:XR;function KP(o={}){typeof o=="string"||o instanceof URL?o={url:o}:(o instanceof ArrayBuffer||ArrayBuffer.isView(o))&&(o={data:o});const t=new G_,{docId:e}=t,n=o.url?WP(o.url):null,r=o.data?QP(o.data):null,l=o.httpHeaders||null,c=o.withCredentials===!0,h=o.password??null,p=o.range instanceof ox?o.range:null,m=Number.isInteger(o.rangeChunkSize)&&o.rangeChunkSize>0?o.rangeChunkSize:zP;let y=o.worker instanceof dh?o.worker:null;const _=o.verbosity,A=typeof o.docBaseUrl=="string"&&!wy(o.docBaseUrl)?o.docBaseUrl:null,S=typeof o.cMapUrl=="string"?o.cMapUrl:null,C=o.cMapPacked!==!1,M=o.CMapReaderFactory||XP,j=typeof o.standardFontDataUrl=="string"?o.standardFontDataUrl:null,P=o.StandardFontDataFactory||$P,z=o.stopAtErrors!==!0,G=Number.isInteger(o.maxImageSize)&&o.maxImageSize>-1?o.maxImageSize:-1,Y=o.isEvalSupported!==!1,W=typeof o.isOffscreenCanvasSupported=="boolean"?o.isOffscreenCanvasSupported:!Hi,X=typeof o.isChrome=="boolean"?o.isChrome:!Qi.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),L=Number.isInteger(o.canvasMaxAreaInBytes)?o.canvasMaxAreaInBytes:-1,D=typeof o.disableFontFace=="boolean"?o.disableFontFace:Hi,x=o.fontExtraProperties===!0,I=o.enableXfa===!0,H=o.ownerDocument||globalThis.document,V=o.disableRange===!0,U=o.disableStream===!0,gt=o.disableAutoFetch===!0,At=o.pdfBug===!0,st=o.CanvasFactory||qP,at=o.FilterFactory||YP,ct=o.enableHWA===!0,Ot=p?p.length:o.length??NaN,q=typeof o.useSystemFonts=="boolean"?o.useSystemFonts:!Hi&&!D,ot=typeof o.useWorkerFetch=="boolean"?o.useWorkerFetch:M===zR&&P===XR&&S&&j&&xf(S,document.baseURI)&&xf(j,document.baseURI);o.canvasFactory&&R1("`canvasFactory`-instance option, please use `CanvasFactory` instead."),o.filterFactory&&R1("`filterFactory`-instance option, please use `FilterFactory` instead.");const pt=null;OI(_);const ht={canvasFactory:new st({ownerDocument:H,enableHWA:ct}),filterFactory:new at({docId:e,ownerDocument:H}),cMapReaderFactory:ot?null:new M({baseUrl:S,isCompressed:C}),standardFontDataFactory:ot?null:new P({baseUrl:j})};if(!y){const _t={verbosity:_,port:Da.workerPort};y=_t.port?dh.fromPort(_t):new dh(_t),t._worker=y}const ft={docId:e,apiVersion:"4.8.69",data:r,password:h,disableAutoFetch:gt,rangeChunkSize:m,length:Ot,docBaseUrl:A,enableXfa:I,evaluatorOptions:{maxImageSize:G,disableFontFace:D,ignoreErrors:z,isEvalSupported:Y,isOffscreenCanvasSupported:W,isChrome:X,canvasMaxAreaInBytes:L,fontExtraProperties:x,useSystemFonts:q,cMapUrl:ot?S:null,standardFontDataUrl:ot?j:null}},Rt={disableFontFace:D,fontExtraProperties:x,ownerDocument:H,pdfBug:At,styleElement:pt,loadingParams:{disableAutoFetch:gt,enableXfa:I}};return y.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(y.destroyed)throw new Error("Worker was destroyed");const _t=y.messageHandler.sendWithPromise("GetDocRequest",ft,r?[r.buffer]:null);let xt;if(p)xt=new EP(p,{disableRange:V,disableStream:U});else if(!r){if(!n)throw new Error("getDocument - no `url` parameter provided.");let Pt;Hi?Pt=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&xf(n)?j1:IP:Pt=xf(n)?j1:MP,xt=new Pt({url:n,length:Ot,httpHeaders:l,withCredentials:c,rangeChunkSize:m,disableRange:V,disableStream:U})}return _t.then(Pt=>{if(t.destroyed)throw new Error("Loading aborted");if(y.destroyed)throw new Error("Worker was destroyed");const Wt=new If(e,Pt,y.port),Tt=new e4(Wt,t,xt,Rt,ht);t._transport=Tt,Wt.send("Ready",null)})}).catch(t._capability.reject),t}function WP(o){if(o instanceof URL)return o.href;try{return new URL(o,window.location).href}catch{if(Hi&&typeof o=="string")return o}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function QP(o){if(Hi&&typeof Buffer<"u"&&o instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength)return o;if(typeof o=="string")return Ey(o);if(o instanceof ArrayBuffer||ArrayBuffer.isView(o)||typeof o=="object"&&!isNaN(o==null?void 0:o.length))return new Uint8Array(o);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function H1(o){return typeof o=="object"&&Number.isInteger(o==null?void 0:o.num)&&o.num>=0&&Number.isInteger(o==null?void 0:o.gen)&&o.gen>=0}var ay;const oy=class oy{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Xi(oy,ay)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var t,e,n;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((e=this._transport)==null?void 0:e.destroy())}catch(r){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,r}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};ay=new WeakMap,O(oy,ay,0);let G_=oy,ox=class{constructor(t,e,n=!1,r=null){this.length=t,this.initialData=e,this.progressiveDone=n,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,e){for(const n of this._rangeListeners)n(t,e)}onDataProgress(t,e){this._readyCapability.promise.then(()=>{for(const n of this._progressListeners)n(t,e)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(const e of this._progressiveReadListeners)e(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,e){we("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class ZP{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Kt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Wo,ca,rs,sh,dv;class JP{constructor(t,e,n,r=!1){O(this,rs);O(this,Wo,null);O(this,ca,!1);this._pageIndex=t,this._pageInfo=e,this._transport=n,this._stats=r?new C1:null,this._pdfBug=r,this.commonObjs=n.commonObjs,this.objs=new lx,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:n=0,offsetY:r=0,dontFlip:l=!1}={}){return new Ag({viewBox:this.view,scale:t,rotation:e,offsetX:n,offsetY:r,dontFlip:l})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Kt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,viewport:e,intent:n="display",annotationMode:r=No.ENABLE,transform:l=null,background:c=null,optionalContentConfigPromise:h=null,annotationCanvasMap:p=null,pageColors:m=null,printAnnotationStorage:y=null,isEditing:_=!1}){var Y,W;(Y=this._stats)==null||Y.time("Overall");const A=this._transport.getRenderingIntent(n,r,y,_),{renderingIntent:S,cacheKey:C}=A;T(this,ca,!1),R(this,rs,dv).call(this),h||(h=this._transport.getOptionalContentConfig(S));let M=this._intentStates.get(C);M||(M=Object.create(null),this._intentStates.set(C,M)),M.streamReaderCancelTimeout&&(clearTimeout(M.streamReaderCancelTimeout),M.streamReaderCancelTimeout=null);const j=!!(S&Ln.PRINT);M.displayReadyCapability||(M.displayReadyCapability=Promise.withResolvers(),M.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(W=this._stats)==null||W.time("Page Request"),this._pumpOperatorList(A));const P=X=>{var L;M.renderTasks.delete(z),(this._maybeCleanupAfterRender||j)&&T(this,ca,!0),R(this,rs,sh).call(this,!j),X?(z.capability.reject(X),this._abortOperatorList({intentState:M,reason:X instanceof Error?X:new Error(X)})):z.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(L=globalThis.Stats)!=null&&L.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},z=new X_({callback:P,params:{canvasContext:t,viewport:e,transform:l,background:c},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:p,operatorList:M.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!j,pdfBug:this._pdfBug,pageColors:m});(M.renderTasks||(M.renderTasks=new Set)).add(z);const G=z.task;return Promise.all([M.displayReadyCapability.promise,h]).then(([X,L])=>{var D;if(this.destroyed){P();return}if((D=this._stats)==null||D.time("Rendering"),!(L.renderingIntent&S))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");z.initializeGraphics({transparency:X,optionalContentConfig:L}),z.operatorListChanged()}).catch(P),G}getOperatorList({intent:t="display",annotationMode:e=No.ENABLE,printAnnotationStorage:n=null,isEditing:r=!1}={}){var m;function l(){h.operatorList.lastChunk&&(h.opListReadCapability.resolve(h.operatorList),h.renderTasks.delete(p))}const c=this._transport.getRenderingIntent(t,e,n,r,!0);let h=this._intentStates.get(c.cacheKey);h||(h=Object.create(null),this._intentStates.set(c.cacheKey,h));let p;return h.opListReadCapability||(p=Object.create(null),p.operatorListChanged=l,h.opListReadCapability=Promise.withResolvers(),(h.renderTasks||(h.renderTasks=new Set)).add(p),h.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(m=this._stats)==null||m.time("Page Request"),this._pumpOperatorList(c)),h.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>Zf.textContent(n));const e=this.streamTextContent(t);return new Promise(function(n,r){function l(){c.read().then(function({value:p,done:m}){if(m){n(h);return}h.lang??(h.lang=p.lang),Object.assign(h.styles,p.styles),h.items.push(...p.items),l()},r)}const c=e.getReader(),h={items:[],styles:Object.create(null),lang:null};l()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const n of e.renderTasks)t.push(n.completed),n.cancel();return this.objs.clear(),T(this,ca,!1),R(this,rs,dv).call(this),Promise.all(t)}cleanup(t=!1){T(this,ca,!0);const e=R(this,rs,sh).call(this,!1);return t&&e&&this._stats&&(this._stats=new C1),e}_startRenderPage(t,e){var r,l;const n=this._intentStates.get(e);n&&((r=this._stats)==null||r.timeEnd("Page Request"),(l=n.displayReadyCapability)==null||l.resolve(t))}_renderPageChunk(t,e){for(let n=0,r=t.length;n<r;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const n of e.renderTasks)n.operatorListChanged();t.lastChunk&&R(this,rs,sh).call(this,!0)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:n,modifiedIds:r}){const{map:l,transfer:c}=n,p=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:l,modifiedIds:r},c).getReader(),m=this._intentStates.get(e);m.streamReader=p;const y=()=>{p.read().then(({value:_,done:A})=>{if(A){m.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(_,m),y())},_=>{if(m.streamReader=null,!this._transport.destroyed){if(m.operatorList){m.operatorList.lastChunk=!0;for(const A of m.renderTasks)A.operatorListChanged();R(this,rs,sh).call(this,!0)}if(m.displayReadyCapability)m.displayReadyCapability.reject(_);else if(m.opListReadCapability)m.opListReadCapability.reject(_);else throw _}})};y()}_abortOperatorList({intentState:t,reason:e,force:n=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!n){if(t.renderTasks.size>0)return;if(e instanceof JA){let r=VP;e.extraDelay>0&&e.extraDelay<1e3&&(r+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},r);return}}if(t.streamReader.cancel(new hu(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[r,l]of this._intentStates)if(l===t){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}Wo=new WeakMap,ca=new WeakMap,rs=new WeakSet,sh=function(t=!1){if(R(this,rs,dv).call(this),!d(this,ca)||this.destroyed)return!1;if(t)return T(this,Wo,setTimeout(()=>{T(this,Wo,null),R(this,rs,sh).call(this,!1)},GP)),!1;for(const{renderTasks:e,operatorList:n}of this._intentStates.values())if(e.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),T(this,ca,!1),!0},dv=function(){d(this,Wo)&&(clearTimeout(d(this,Wo)),T(this,Wo,null))};var ua,ly;class t4{constructor(){O(this,ua,new Map);O(this,ly,Promise.resolve())}postMessage(t,e){const n={data:structuredClone(t,e?{transfer:e}:null)};d(this,ly).then(()=>{for(const[r]of d(this,ua))r.call(this,n)})}addEventListener(t,e,n=null){let r=null;if((n==null?void 0:n.signal)instanceof AbortSignal){const{signal:l}=n;if(l.aborted){Vt("LoopbackPort - cannot use an `aborted` signal.");return}const c=()=>this.removeEventListener(t,e);r=()=>l.removeEventListener("abort",c),l.addEventListener("abort",c)}d(this,ua).set(e,r)}removeEventListener(t,e){const n=d(this,ua).get(e);n==null||n(),d(this,ua).delete(e)}terminate(){for(const[,t]of d(this,ua))t==null||t();d(this,ua).clear()}}ua=new WeakMap,ly=new WeakMap;var cy,xc,Dc,Uh,fv,jh,pv;const Ce=class Ce{constructor({name:t=null,port:e=null,verbosity:n=kI()}={}){O(this,Uh);var r;if(this.name=t,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,e){if((r=d(Ce,Dc))!=null&&r.has(e))throw new Error("Cannot use more than one PDFWorker per port.");(d(Ce,Dc)||T(Ce,Dc,new WeakMap)).set(e,this),this._initializeFromPort(e);return}this._initialize()}get promise(){return Hi?Promise.all([dl.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new If("main","worker",t),this._messageHandler.on("ready",function(){}),R(this,Uh,fv).call(this)}_initialize(){if(d(Ce,xc)||d(Ce,jh,pv)){this._setupFakeWorker();return}let{workerSrc:t}=Ce;try{Ce._isSameOrigin(window.location.href,t)||(t=Ce._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),n=new If("main","worker",e),r=()=>{l.abort(),n.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},l=new AbortController;e.addEventListener("error",()=>{this._webWorker||r()},{signal:l.signal}),n.on("test",h=>{if(l.abort(),this.destroyed||!h){r();return}this._messageHandler=n,this._port=e,this._webWorker=e,R(this,Uh,fv).call(this)}),n.on("ready",h=>{if(l.abort(),this.destroyed){r();return}try{c()}catch{this._setupFakeWorker()}});const c=()=>{const h=new Uint8Array;n.send("test",h,[h.buffer])};c();return}catch{_y("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){d(Ce,xc)||(Vt("Setting up fake worker."),T(Ce,xc,!0)),Ce._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const e=new t4;this._port=e;const n=`fake${Xi(Ce,cy)._++}`,r=new If(n+"_worker",n,e);t.setup(r,e),this._messageHandler=new If(n,n+"_worker",e),R(this,Uh,fv).call(this)}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){var t;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(t=d(Ce,Dc))==null||t.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){var n;if(!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const e=(n=d(this,Dc))==null?void 0:n.get(t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new Ce(t)}static get workerSrc(){if(Da.workerSrc)return Da.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Kt(this,"_setupFakeWorkerGlobal",(async()=>d(this,jh,pv)?d(this,jh,pv):(await import(this.workerSrc)).WorkerMessageHandler)())}};cy=new WeakMap,xc=new WeakMap,Dc=new WeakMap,Uh=new WeakSet,fv=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},jh=new WeakSet,pv=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},O(Ce,jh),O(Ce,cy,0),O(Ce,xc,!1),O(Ce,Dc),Hi&&(T(Ce,xc,!0),Da.workerSrc||(Da.workerSrc="./pdf.worker.mjs")),Ce._isSameOrigin=(t,e)=>{let n;try{if(n=new URL(t),!n.origin||n.origin==="null")return!1}catch{return!1}const r=new URL(e,n);return n.origin===r.origin},Ce._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};let dh=Ce;var ha,ur,Hh,Bh,hr,Mc,Pf;class e4{constructor(t,e,n,r,l){O(this,Mc);O(this,ha,new Map);O(this,ur,new Map);O(this,Hh,new Map);O(this,Bh,new Map);O(this,hr,null);this.messageHandler=t,this.loadingTask=e,this.commonObjs=new lx,this.fontLoader=new ZI({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=l.canvasFactory,this.filterFactory=l.filterFactory,this.cMapReaderFactory=l.cMapReaderFactory,this.standardFontDataFactory=l.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Kt(this,"annotationStorage",new nE)}getRenderingIntent(t,e=No.ENABLE,n=null,r=!1,l=!1){let c=Ln.DISPLAY,h=k_;switch(t){case"any":c=Ln.ANY;break;case"display":break;case"print":c=Ln.PRINT;break;default:Vt(`getRenderingIntent - invalid intent: ${t}`)}const p=c&Ln.PRINT&&n instanceof jR?n:this.annotationStorage;switch(e){case No.DISABLE:c+=Ln.ANNOTATIONS_DISABLE;break;case No.ENABLE:break;case No.ENABLE_FORMS:c+=Ln.ANNOTATIONS_FORMS;break;case No.ENABLE_STORAGE:c+=Ln.ANNOTATIONS_STORAGE,h=p.serializable;break;default:Vt(`getRenderingIntent - invalid annotationMode: ${e}`)}r&&(c+=Ln.IS_EDITING),l&&(c+=Ln.OPLIST);const{ids:m,hash:y}=p.modifiedIds,_=[c,h.hash,y];return{renderingIntent:c,cacheKey:_.join("_"),annotationStorageSerializable:h,modifiedIds:m}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=d(this,hr))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const r of d(this,ur).values())t.push(r._destroy());d(this,ur).clear(),d(this,Hh).clear(),d(this,Bh).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{var r;this.commonObjs.clear(),this.fontLoader.clear(),d(this,ha).clear(),this.filterFactory.destroy(),B_.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new hu("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(n,r)=>{si(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=l=>{this._lastProgress={loaded:l.loaded,total:l.total}},r.onPull=()=>{this._fullReader.read().then(function({value:l,done:c}){if(c){r.close();return}si(l instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{r.error(l)})},r.onCancel=l=>{this._fullReader.cancel(l),r.ready.catch(c=>{if(!this.destroyed)throw c})}}),t.on("ReaderHeadersReady",async n=>{var h;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:l,contentLength:c}=this._fullReader;return(!r||!l)&&(this._lastProgress&&((h=e.onProgress)==null||h.call(e,this._lastProgress)),this._fullReader.onProgress=p=>{var m;(m=e.onProgress)==null||m.call(e,{loaded:p.loaded,total:p.total})}),{isStreamingSupported:r,isRangeSupported:l,contentLength:c}}),t.on("GetRangeReader",(n,r)=>{si(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const l=this._networkStream.getRangeReader(n.begin,n.end);if(!l){r.close();return}r.onPull=()=>{l.read().then(function({value:c,done:h}){if(h){r.close();return}si(c instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(c),1,[c])}).catch(c=>{r.error(c)})},r.onCancel=c=>{l.cancel(c),r.ready.catch(h=>{if(!this.destroyed)throw h})}}),t.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,e._capability.resolve(new ZP(n,this))}),t.on("DocException",function(n){let r;switch(n.name){case"PasswordException":r=new u_(n.message,n.code);break;case"InvalidPDFException":r=new hR(n.message);break;case"MissingPDFException":r=new uu(n.message);break;case"UnexpectedResponseException":r=new Ay(n.message,n.status);break;case"UnknownErrorException":r=new h_(n.message,n.details);break;default:we("DocException - expected a valid Error.")}e._capability.reject(r)}),t.on("PasswordRequest",n=>{if(T(this,hr,Promise.withResolvers()),e.onPassword){const r=l=>{l instanceof Error?d(this,hr).reject(l):d(this,hr).resolve({password:l})};try{e.onPassword(r,n.code)}catch(l){d(this,hr).reject(l)}}else d(this,hr).reject(new u_(n.message,n.code));return d(this,hr).promise}),t.on("DataLoaded",n=>{var r;(r=e.onProgress)==null||r.call(e,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),t.on("StartRenderPage",n=>{if(this.destroyed)return;d(this,ur).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),t.on("commonobj",([n,r,l])=>{var c;if(this.destroyed||this.commonObjs.has(n))return null;switch(r){case"Font":const{disableFontFace:h,fontExtraProperties:p,pdfBug:m}=this._params;if("error"in l){const S=l.error;Vt(`Error during font loading: ${S}`),this.commonObjs.resolve(n,S);break}const y=m&&((c=globalThis.FontInspector)!=null&&c.enabled)?(S,C)=>globalThis.FontInspector.fontAdded(S,C):null,_=new JI(l,{disableFontFace:h,inspectFont:y});this.fontLoader.bind(_).catch(()=>t.sendWithPromise("FontFallback",{id:n})).finally(()=>{!p&&_.data&&(_.data=null),this.commonObjs.resolve(n,_)});break;case"CopyLocalImage":const{imageRef:A}=l;si(A,"The imageRef must be defined.");for(const S of d(this,ur).values())for(const[,C]of S.objs)if((C==null?void 0:C.ref)===A)return C.dataLen?(this.commonObjs.resolve(n,structuredClone(C)),C.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,l);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),t.on("obj",([n,r,l,c])=>{var p;if(this.destroyed)return;const h=d(this,ur).get(r);if(!h.objs.has(n)){if(h._intentStates.size===0){(p=c==null?void 0:c.bitmap)==null||p.close();return}switch(l){case"Image":h.objs.resolve(n,c),(c==null?void 0:c.dataLen)>RI&&(h._maybeCleanupAfterRender=!0);break;case"Pattern":h.objs.resolve(n,c);break;default:throw new Error(`Got unknown object type ${l}`)}}}),t.on("DocProgress",n=>{var r;this.destroyed||(r=e.onProgress)==null||r.call(e,{loaded:n.loaded,total:n.total})}),t.on("FetchBuiltInCMap",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(n)}),t.on("FetchStandardFontData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&Vt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((n=this._fullReader)==null?void 0:n.filename)??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,n=d(this,Hh).get(e);if(n)return n;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(l=>{if(this.destroyed)throw new Error("Transport destroyed");l.refStr&&d(this,Bh).set(l.refStr,t);const c=new JP(e,l,this,this._params.pdfBug);return d(this,ur).set(e,c),c});return d(this,Hh).set(e,r),r}getPageIndex(t){return H1(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return R(this,Mc,Pf).call(this,"GetFieldObjects")}hasJSActions(){return R(this,Mc,Pf).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return R(this,Mc,Pf).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return R(this,Mc,Pf).call(this,"GetOptionalContentConfig").then(e=>new AP(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=d(this,ha).get(t);if(e)return e;const n=this.messageHandler.sendWithPromise(t,null).then(r=>{var l,c;return{info:r[0],metadata:r[1]?new bP(r[1]):null,contentDispositionFilename:((l=this._fullReader)==null?void 0:l.filename)??null,contentLength:((c=this._fullReader)==null?void 0:c.contentLength)??null}});return d(this,ha).set(t,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of d(this,ur).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),d(this,ha).clear(),this.filterFactory.destroy(!0),B_.cleanup()}}cachedPageNumber(t){if(!H1(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return d(this,Bh).get(e)??null}}ha=new WeakMap,ur=new WeakMap,Hh=new WeakMap,Bh=new WeakMap,hr=new WeakMap,Mc=new WeakSet,Pf=function(t,e=null){const n=d(this,ha).get(t);if(n)return n;const r=this.messageHandler.sendWithPromise(t,e);return d(this,ha).set(t,r),r};const Wm=Symbol("INITIAL_DATA");var Ts,Ip,q_;class lx{constructor(){O(this,Ip);O(this,Ts,Object.create(null))}get(t,e=null){if(e){const r=R(this,Ip,q_).call(this,t);return r.promise.then(()=>e(r.data)),null}const n=d(this,Ts)[t];if(!n||n.data===Wm)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return n.data}has(t){const e=d(this,Ts)[t];return!!e&&e.data!==Wm}resolve(t,e=null){const n=R(this,Ip,q_).call(this,t);n.data=e,n.resolve()}clear(){var t;for(const e in d(this,Ts)){const{data:n}=d(this,Ts)[e];(t=n==null?void 0:n.bitmap)==null||t.close()}T(this,Ts,Object.create(null))}*[Symbol.iterator](){for(const t in d(this,Ts)){const{data:e}=d(this,Ts)[t];e!==Wm&&(yield[t,e])}}}Ts=new WeakMap,Ip=new WeakSet,q_=function(t){var e;return(e=d(this,Ts))[t]||(e[t]={...Promise.withResolvers(),data:Wm})};var Qo;class i4{constructor(t){O(this,Qo,null);T(this,Qo,t),this.onContinue=null}get promise(){return d(this,Qo).capability.promise}cancel(t=0){d(this,Qo).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=d(this,Qo).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=d(this,Qo);return t.form||t.canvas&&(e==null?void 0:e.size)>0}}Qo=new WeakMap;var Zo,Oc;const ec=class ec{constructor({callback:t,params:e,objs:n,commonObjs:r,annotationCanvasMap:l,operatorList:c,pageIndex:h,canvasFactory:p,filterFactory:m,useRequestAnimationFrame:y=!1,pdfBug:_=!1,pageColors:A=null}){O(this,Zo,null);this.callback=t,this.params=e,this.objs=n,this.commonObjs=r,this.annotationCanvasMap=l,this.operatorListIdx=null,this.operatorList=c,this._pageIndex=h,this.canvasFactory=p,this.filterFactory=m,this._pdfBug=_,this.pageColors=A,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=y===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new i4(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){var h,p;if(this.cancelled)return;if(this._canvas){if(d(ec,Oc).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");d(ec,Oc).add(this._canvas)}this._pdfBug&&((h=globalThis.StepperManager)!=null&&h.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:r,transform:l,background:c}=this.params;this.gfx=new hh(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:l,viewport:r,transparency:t,background:c}),this.operatorListIdx=0,this.graphicsReady=!0,(p=this.graphicsReadyCallback)==null||p.call(this)}cancel(t=null,e=0){var n;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),d(this,Zo)&&(window.cancelAnimationFrame(d(this,Zo)),T(this,Zo,null)),d(ec,Oc).delete(this._canvas),this.callback(t||new JA(`Rendering cancelled, page ${this._pageIndex+1}`,e))}operatorListChanged(){var t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?T(this,Zo,window.requestAnimationFrame(()=>{T(this,Zo,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),d(ec,Oc).delete(this._canvas),this.callback())))}};Zo=new WeakMap,Oc=new WeakMap,O(ec,Oc,new WeakSet);let X_=ec;const n4="4.8.69",s4="3634dab10";function B1(o){return Math.floor(Math.max(0,Math.min(1,o))*255).toString(16).padStart(2,"0")}function Tf(o){return Math.max(0,Math.min(255,255*o))}class z1{static CMYK_G([t,e,n,r]){return["G",1-Math.min(1,.3*t+.59*n+.11*e+r)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=Tf(t),[t,t,t]}static G_HTML([t]){const e=B1(t);return`#${e}${e}${e}`}static RGB_G([t,e,n]){return["G",.3*t+.59*e+.11*n]}static RGB_rgb(t){return t.map(Tf)}static RGB_HTML(t){return`#${t.map(B1).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,n,r]){return["RGB",1-Math.min(1,t+r),1-Math.min(1,n+r),1-Math.min(1,e+r)]}static CMYK_rgb([t,e,n,r]){return[Tf(1-Math.min(1,t+r)),Tf(1-Math.min(1,n+r)),Tf(1-Math.min(1,e+r))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,n]){const r=1-t,l=1-e,c=1-n,h=Math.min(r,l,c);return["CMYK",r,l,c,h]}}class r4{create(t,e,n=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),n||(r.setAttribute("width",`${t}px`),r.setAttribute("height",`${e}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${t} ${e}`),r}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){we("Abstract method `_createSVG` called.")}}class lE extends r4{_createSVG(t){return document.createElementNS(Jr,t)}}class cx{static setupStorage(t,e,n,r,l){const c=r.getValue(e,{value:null});switch(n.name){case"textarea":if(c.value!==null&&(t.textContent=c.value),l==="print")break;t.addEventListener("input",h=>{r.setValue(e,{value:h.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(c.value===n.attributes.xfaOn?t.setAttribute("checked",!0):c.value===n.attributes.xfaOff&&t.removeAttribute("checked"),l==="print")break;t.addEventListener("change",h=>{r.setValue(e,{value:h.target.checked?h.target.getAttribute("xfaOn"):h.target.getAttribute("xfaOff")})})}else{if(c.value!==null&&t.setAttribute("value",c.value),l==="print")break;t.addEventListener("input",h=>{r.setValue(e,{value:h.target.value})})}break;case"select":if(c.value!==null){t.setAttribute("value",c.value);for(const h of n.children)h.attributes.value===c.value?h.attributes.selected=!0:h.attributes.hasOwnProperty("selected")&&delete h.attributes.selected}t.addEventListener("input",h=>{const p=h.target.options,m=p.selectedIndex===-1?"":p[p.selectedIndex].value;r.setValue(e,{value:m})});break}}static setAttributes({html:t,element:e,storage:n=null,intent:r,linkService:l}){const{attributes:c}=e,h=t instanceof HTMLAnchorElement;c.type==="radio"&&(c.name=`${c.name}-${r}`);for(const[p,m]of Object.entries(c))if(m!=null)switch(p){case"class":m.length&&t.setAttribute(p,m.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",m);break;case"style":Object.assign(t.style,m);break;case"textContent":t.textContent=m;break;default:(!h||p!=="href"&&p!=="newWindow")&&t.setAttribute(p,m)}h&&l.addLinkAttributes(t,c.href,c.newWindow),n&&c.dataId&&this.setupStorage(t,c.dataId,e,n)}static render(t){var _,A;const e=t.annotationStorage,n=t.linkService,r=t.xfaHtml,l=t.intent||"display",c=document.createElement(r.name);r.attributes&&this.setAttributes({html:c,element:r,intent:l,linkService:n});const h=l!=="richText",p=t.div;if(p.append(c),t.viewport){const S=`matrix(${t.viewport.transform.join(",")})`;p.style.transform=S}h&&p.setAttribute("class","xfaLayer xfaFont");const m=[];if(r.children.length===0){if(r.value){const S=document.createTextNode(r.value);c.append(S),h&&Zf.shouldBuildText(r.name)&&m.push(S)}return{textDivs:m}}const y=[[r,-1,c]];for(;y.length>0;){const[S,C,M]=y.at(-1);if(C+1===S.children.length){y.pop();continue}const j=S.children[++y.at(-1)[1]];if(j===null)continue;const{name:P}=j;if(P==="#text"){const G=document.createTextNode(j.value);m.push(G),M.append(G);continue}const z=(_=j==null?void 0:j.attributes)!=null&&_.xmlns?document.createElementNS(j.attributes.xmlns,P):document.createElement(P);if(M.append(z),j.attributes&&this.setAttributes({html:z,element:j,storage:e,intent:l,linkService:n}),((A=j.children)==null?void 0:A.length)>0)y.push([j,-1,z]);else if(j.value){const G=document.createTextNode(j.value);h&&Zf.shouldBuildText(P)&&m.push(G),z.append(G)}}for(const S of p.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))S.setAttribute("readOnly",!0);return{textDivs:m}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const Sg=1e3,a4=9,su=new WeakSet;function Ia(o){return{width:o[2]-o[0],height:o[3]-o[1]}}class o4{static create(t){switch(t.data.annotationType){case ti.LINK:return new ux(t);case ti.TEXT:return new l4(t);case ti.WIDGET:switch(t.data.fieldType){case"Tx":return new c4(t);case"Btn":return t.data.radioButton?new fx(t):t.data.checkBox?new h4(t):new d4(t);case"Ch":return new f4(t);case"Sig":return new u4(t)}return new du(t);case ti.POPUP:return new $_(t);case ti.FREETEXT:return new yx(t);case ti.LINE:return new g4(t);case ti.SQUARE:return new m4(t);case ti.CIRCLE:return new v4(t);case ti.POLYLINE:return new bx(t);case ti.CARET:return new b4(t);case ti.INK:return new cE(t);case ti.POLYGON:return new y4(t);case ti.HIGHLIGHT:return new _x(t);case ti.UNDERLINE:return new _4(t);case ti.SQUIGGLY:return new A4(t);case ti.STRIKEOUT:return new E4(t);case ti.STAMP:return new Ax(t);case ti.FILEATTACHMENT:return new S4(t);default:return new qe(t)}}}var kc,zh,Vh,Pp,Y_;const fE=class fE{constructor(t,{isRenderable:e=!1,ignoreBorder:n=!1,createQuadrilaterals:r=!1}={}){O(this,Pp);O(this,kc,null);O(this,zh,!1);O(this,Vh,null);this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(n)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:e,richText:n}){return!!(t!=null&&t.str||e!=null&&e.str||n!=null&&n.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return fE._hasPopupData(this.data)}updateEdited(t){var n;if(!this.container)return;d(this,kc)||T(this,kc,{rect:this.data.rect.slice(0)});const{rect:e}=t;e&&R(this,Pp,Y_).call(this,e),(n=d(this,Vh))==null||n.popup.updateEdited(t)}resetEdited(){var t;d(this,kc)&&(R(this,Pp,Y_).call(this,d(this,kc).rect),(t=d(this,Vh))==null||t.popup.resetEdited(),T(this,kc,null))}_createContainer(t){const{data:e,parent:{page:n,viewport:r}}=this,l=document.createElement("section");l.setAttribute("data-annotation-id",e.id),this instanceof du||(l.tabIndex=Sg);const{style:c}=l;if(c.zIndex=this.parent.zIndex++,e.alternativeText&&(l.title=e.alternativeText),e.noRotate&&l.classList.add("norotate"),!e.rect||this instanceof $_){const{rotation:M}=e;return!e.hasOwnCanvas&&M!==0&&this.setRotation(M,l),l}const{width:h,height:p}=Ia(e.rect);if(!t&&e.borderStyle.width>0){c.borderWidth=`${e.borderStyle.width}px`;const M=e.borderStyle.horizontalCornerRadius,j=e.borderStyle.verticalCornerRadius;if(M>0||j>0){const z=`calc(${M}px * var(--scale-factor)) / calc(${j}px * var(--scale-factor))`;c.borderRadius=z}else if(this instanceof fx){const z=`calc(${h}px * var(--scale-factor)) / calc(${p}px * var(--scale-factor))`;c.borderRadius=z}switch(e.borderStyle.style){case Sf.SOLID:c.borderStyle="solid";break;case Sf.DASHED:c.borderStyle="dashed";break;case Sf.BEVELED:Vt("Unimplemented border style: beveled");break;case Sf.INSET:Vt("Unimplemented border style: inset");break;case Sf.UNDERLINE:c.borderBottomStyle="solid";break}const P=e.borderColor||null;P?(T(this,zh,!0),c.borderColor=St.makeHexColor(P[0]|0,P[1]|0,P[2]|0)):c.borderWidth=0}const m=St.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]),{pageWidth:y,pageHeight:_,pageX:A,pageY:S}=r.rawDims;c.left=`${100*(m[0]-A)/y}%`,c.top=`${100*(m[1]-S)/_}%`;const{rotation:C}=e;return e.hasOwnCanvas||C===0?(c.width=`${100*h/y}%`,c.height=`${100*p/_}%`):this.setRotation(C,l),l}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:r}=this.parent.viewport.rawDims,{width:l,height:c}=Ia(this.data.rect);let h,p;t%180===0?(h=100*l/n,p=100*c/r):(h=100*c/n,p=100*l/r),e.style.width=`${h}%`,e.style.height=`${p}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,n,r)=>{const l=r.detail[e],c=l[0],h=l.slice(1);r.target.style[n]=z1[`${c}_HTML`](h),this.annotationStorage.setValue(this.data.id,{[n]:z1[`${c}_rgb`](h)})};return Kt(this,"_commonActions",{display:e=>{const{display:n}=e.detail,r=n%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:n===1||n===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:n}=e.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const n=e.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(t,e){const n=this._commonActions;for(const r of Object.keys(e.detail)){const l=t[r]||n[r];l==null||l(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const n=this._commonActions;for(const[r,l]of Object.entries(e)){const c=n[r];if(c){const h={detail:{[r]:l},target:t};c(h),delete e[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,n,r,l]=this.data.rect.map(M=>Math.fround(M));if(t.length===8){const[M,j,P,z]=t.subarray(2,6);if(r===M&&l===j&&e===P&&n===z)return}const{style:c}=this.container;let h;if(d(this,zh)){const{borderColor:M,borderWidth:j}=c;c.borderWidth=0,h=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${M}" stroke-width="${j}">`],this.container.classList.add("hasBorder")}const p=r-e,m=l-n,{svgFactory:y}=this,_=y.createElement("svg");_.classList.add("quadrilateralsContainer"),_.setAttribute("width",0),_.setAttribute("height",0);const A=y.createElement("defs");_.append(A);const S=y.createElement("clipPath"),C=`clippath_${this.data.id}`;S.setAttribute("id",C),S.setAttribute("clipPathUnits","objectBoundingBox"),A.append(S);for(let M=2,j=t.length;M<j;M+=8){const P=t[M],z=t[M+1],G=t[M+2],Y=t[M+3],W=y.createElement("rect"),X=(G-e)/p,L=(l-z)/m,D=(P-G)/p,x=(z-Y)/m;W.setAttribute("x",X),W.setAttribute("y",L),W.setAttribute("width",D),W.setAttribute("height",x),S.append(W),h==null||h.push(`<rect vector-effect="non-scaling-stroke" x="${X}" y="${L}" width="${D}" height="${x}"/>`)}d(this,zh)&&(h.push("</g></svg>')"),c.backgroundImage=h.join("")),this.container.append(_),this.container.style.clipPath=`url(#${C})`}_createPopup(){const{data:t}=this,e=T(this,Vh,new $_({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(e.render())}render(){we("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const n=[];if(this._fieldObjects){const r=this._fieldObjects[t];if(r)for(const{page:l,id:c,exportValues:h}of r){if(l===-1||c===e)continue;const p=typeof h=="string"?h:null,m=document.querySelector(`[data-element-id="${c}"]`);if(m&&!su.has(m)){Vt(`_getElementsByName - element not allowed: ${c}`);continue}n.push({id:c,exportValue:p,domElement:m})}return n}for(const r of document.getElementsByName(t)){const{exportValue:l}=r,c=r.getAttribute("data-element-id");c!==e&&su.has(r)&&n.push({id:c,exportValue:l,domElement:r})}return n}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})})}};kc=new WeakMap,zh=new WeakMap,Vh=new WeakMap,Pp=new WeakSet,Y_=function(t){const{container:{style:e},data:{rect:n,rotation:r},parent:{viewport:{rawDims:{pageWidth:l,pageHeight:c,pageX:h,pageY:p}}}}=this;n==null||n.splice(0,4,...t);const{width:m,height:y}=Ia(t);e.left=`${100*(t[0]-h)/l}%`,e.top=`${100*(c-t[3]+p)/c}%`,r===0?(e.width=`${100*m/l}%`,e.height=`${100*y/c}%`):this.setRotation(r)};let qe=fE;var Nn,Wl,hx,dx;class ux extends qe{constructor(e,n=null){super(e,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});O(this,Nn);this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:n}=this,r=document.createElement("a");r.setAttribute("data-element-id",e.id);let l=!1;return e.url?(n.addLinkAttributes(r,e.url,e.newWindow),l=!0):e.action?(this._bindNamedAction(r,e.action),l=!0):e.attachment?(R(this,Nn,hx).call(this,r,e.attachment,e.attachmentDest),l=!0):e.setOCGState?(R(this,Nn,dx).call(this,r,e.setOCGState),l=!0):e.dest?(this._bindLink(r,e.dest),l=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,e),l=!0),e.resetForm?(this._bindResetFormAction(r,e.resetForm),l=!0):this.isTooltipOnly&&!l&&(this._bindLink(r,""),l=!0)),this.container.classList.add("linkAnnotation"),l&&this.container.append(r),this.container}_bindLink(e,n){e.href=this.linkService.getDestinationHash(n),e.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&R(this,Nn,Wl).call(this)}_bindNamedAction(e,n){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(n),!1),R(this,Nn,Wl).call(this)}_bindJSAction(e,n){e.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const l of Object.keys(n.actions)){const c=r.get(l);c&&(e[c]=()=>{var h;return(h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:l}}),!1})}e.onclick||(e.onclick=()=>!1),R(this,Nn,Wl).call(this)}_bindResetFormAction(e,n){const r=e.onclick;if(r||(e.href=this.linkService.getAnchorUrl("")),R(this,Nn,Wl).call(this),!this._fieldObjects){Vt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(e.onclick=()=>!1);return}e.onclick=()=>{var _;r==null||r();const{fields:l,refs:c,include:h}=n,p=[];if(l.length!==0||c.length!==0){const A=new Set(c);for(const S of l){const C=this._fieldObjects[S]||[];for(const{id:M}of C)A.add(M)}for(const S of Object.values(this._fieldObjects))for(const C of S)A.has(C.id)===h&&p.push(C)}else for(const A of Object.values(this._fieldObjects))p.push(...A);const m=this.annotationStorage,y=[];for(const A of p){const{id:S}=A;switch(y.push(S),A.type){case"text":{const M=A.defaultValue||"";m.setValue(S,{value:M});break}case"checkbox":case"radiobutton":{const M=A.defaultValue===A.exportValues;m.setValue(S,{value:M});break}case"combobox":case"listbox":{const M=A.defaultValue||"";m.setValue(S,{value:M});break}default:continue}const C=document.querySelector(`[data-element-id="${S}"]`);if(C){if(!su.has(C)){Vt(`_bindResetFormAction - element not allowed: ${S}`);continue}}else continue;C.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:y,name:"ResetForm"}})),!1}}}Nn=new WeakSet,Wl=function(){this.container.setAttribute("data-internal-link","")},hx=function(e,n,r=null){e.href=this.linkService.getAnchorUrl(""),n.description&&(e.title=n.description),e.onclick=()=>{var l;return(l=this.downloadManager)==null||l.openOrDownloadData(n.content,n.filename,r),!1},R(this,Nn,Wl).call(this)},dx=function(e,n){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(n),!1),R(this,Nn,Wl).call(this)};class l4 extends qe{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class du extends qe{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&(((e=t.previousSibling)==null?void 0:e.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Qi.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,n,r,l){n.includes("mouse")?t.addEventListener(n,c=>{var h;(h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:l(c),shift:c.shiftKey,modifier:this._getKeyModifier(c)}})}):t.addEventListener(n,c=>{var h;if(n==="blur"){if(!e.focused||!c.relatedTarget)return;e.focused=!1}else if(n==="focus"){if(e.focused)return;e.focused=!0}l&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:l(c)}}))})}_setEventListeners(t,e,n,r){var l,c,h;for(const[p,m]of n)(m==="Action"||(l=this.data.actions)!=null&&l[m])&&((m==="Focus"||m==="Blur")&&(e||(e={focused:!1})),this._setEventListener(t,e,p,m,r),m==="Focus"&&!((c=this.data.actions)!=null&&c.Blur)?this._setEventListener(t,e,"blur","Blur",null):m==="Blur"&&!((h=this.data.actions)!=null&&h.Focus)&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":St.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||a4,l=t.style;let c;const h=2,p=m=>Math.round(10*m)/10;if(this.data.multiLine){const m=Math.abs(this.data.rect[3]-this.data.rect[1]-h),y=Math.round(m/(Y0*r))||1,_=m/y;c=Math.min(r,p(_/Y0))}else{const m=Math.abs(this.data.rect[3]-this.data.rect[1]-h);c=Math.min(r,p(m/Y0))}l.fontSize=`calc(${c}px * var(--scale-factor))`,l.color=St.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(l.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class c4 extends du{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,n,r){const l=this.annotationStorage;for(const c of this._getElementsByName(t.name,t.id))c.domElement&&(c.domElement[e]=n),l.setValue(c.id,{[r]:n})}render(){var r,l;const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const c=t.getValue(e,{value:this.data.fieldValue});let h=c.value||"";const p=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;p&&h.length>p&&(h=h.slice(0,p));let m=c.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;m&&this.data.comb&&(m=m.replaceAll(/\s+/g,""));const y={userValue:h,formattedValue:m,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=m??h,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",m??h),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),su.add(n),n.setAttribute("data-element-id",e),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=Sg,this._setRequired(n,this.data.required),p&&(n.maxLength=p),n.addEventListener("input",A=>{t.setValue(e,{value:A.target.value}),this.setPropertyOnSiblings(n,"value",A.target.value,"value"),y.formattedValue=null}),n.addEventListener("resetform",A=>{const S=this.data.defaultFieldValue??"";n.value=y.userValue=S,y.formattedValue=null});let _=A=>{const{formattedValue:S}=y;S!=null&&(A.target.value=S),A.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",S=>{var M;if(y.focused)return;const{target:C}=S;y.userValue&&(C.value=y.userValue),y.lastCommittedValue=C.value,y.commitKey=1,(M=this.data.actions)!=null&&M.Focus||(y.focused=!0)}),n.addEventListener("updatefromsandbox",S=>{this.showElementAndHideCanvas(S.target);const C={value(M){y.userValue=M.detail.value??"",t.setValue(e,{value:y.userValue.toString()}),M.target.value=y.userValue},formattedValue(M){const{formattedValue:j}=M.detail;y.formattedValue=j,j!=null&&M.target!==document.activeElement&&(M.target.value=j),t.setValue(e,{formattedValue:j})},selRange(M){M.target.setSelectionRange(...M.detail.selRange)},charLimit:M=>{var G;const{charLimit:j}=M.detail,{target:P}=M;if(j===0){P.removeAttribute("maxLength");return}P.setAttribute("maxLength",j);let z=y.userValue;!z||z.length<=j||(z=z.slice(0,j),P.value=y.userValue=z,t.setValue(e,{value:z}),(G=this.linkService.eventBus)==null||G.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:z,willCommit:!0,commitKey:1,selStart:P.selectionStart,selEnd:P.selectionEnd}}))}};this._dispatchEventFromSandbox(C,S)}),n.addEventListener("keydown",S=>{var j;y.commitKey=1;let C=-1;if(S.key==="Escape"?C=0:S.key==="Enter"&&!this.data.multiLine?C=2:S.key==="Tab"&&(y.commitKey=3),C===-1)return;const{value:M}=S.target;y.lastCommittedValue!==M&&(y.lastCommittedValue=M,y.userValue=M,(j=this.linkService.eventBus)==null||j.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:M,willCommit:!0,commitKey:C,selStart:S.target.selectionStart,selEnd:S.target.selectionEnd}}))});const A=_;_=null,n.addEventListener("blur",S=>{var M,j;if(!y.focused||!S.relatedTarget)return;(M=this.data.actions)!=null&&M.Blur||(y.focused=!1);const{value:C}=S.target;y.userValue=C,y.lastCommittedValue!==C&&((j=this.linkService.eventBus)==null||j.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:C,willCommit:!0,commitKey:y.commitKey,selStart:S.target.selectionStart,selEnd:S.target.selectionEnd}})),A(S)}),(l=this.data.actions)!=null&&l.Keystroke&&n.addEventListener("beforeinput",S=>{var W;y.lastCommittedValue=null;const{data:C,target:M}=S,{value:j,selectionStart:P,selectionEnd:z}=M;let G=P,Y=z;switch(S.inputType){case"deleteWordBackward":{const X=j.substring(0,P).match(/\w*[^\w]*$/);X&&(G-=X[0].length);break}case"deleteWordForward":{const X=j.substring(P).match(/^[^\w]*\w*/);X&&(Y+=X[0].length);break}case"deleteContentBackward":P===z&&(G-=1);break;case"deleteContentForward":P===z&&(Y+=1);break}S.preventDefault(),(W=this.linkService.eventBus)==null||W.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:j,change:C||"",willCommit:!1,selStart:G,selEnd:Y}})}),this._setEventListeners(n,y,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],S=>S.target.value)}if(_&&n.addEventListener("blur",_),this.data.comb){const S=(this.data.rect[2]-this.data.rect[0])/p;n.classList.add("comb"),n.style.letterSpacing=`calc(${S}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class u4 extends du{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class h4 extends du{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,n=e.id;let r=t.getValue(n,{value:e.exportValue===e.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",t.setValue(n,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const l=document.createElement("input");return su.add(l),l.setAttribute("data-element-id",n),l.disabled=e.readOnly,this._setRequired(l,this.data.required),l.type="checkbox",l.name=e.fieldName,r&&l.setAttribute("checked",!0),l.setAttribute("exportValue",e.exportValue),l.tabIndex=Sg,l.addEventListener("change",c=>{const{name:h,checked:p}=c.target;for(const m of this._getElementsByName(h,n)){const y=p&&m.exportValue===e.exportValue;m.domElement&&(m.domElement.checked=y),t.setValue(m.id,{value:y})}t.setValue(n,{value:p})}),l.addEventListener("resetform",c=>{const h=e.defaultFieldValue||"Off";c.target.checked=h===e.exportValue}),this.enableScripting&&this.hasJSActions&&(l.addEventListener("updatefromsandbox",c=>{const h={value(p){p.target.checked=p.detail.value!=="Off",t.setValue(n,{value:p.target.checked})}};this._dispatchEventFromSandbox(h,c)}),this._setEventListeners(l,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)),this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class fx extends du{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,n=e.id;let r=t.getValue(n,{value:e.fieldValue===e.buttonValue}).value;if(typeof r=="string"&&(r=r!==e.buttonValue,t.setValue(n,{value:r})),r)for(const c of this._getElementsByName(e.fieldName,n))t.setValue(c.id,{value:!1});const l=document.createElement("input");if(su.add(l),l.setAttribute("data-element-id",n),l.disabled=e.readOnly,this._setRequired(l,this.data.required),l.type="radio",l.name=e.fieldName,r&&l.setAttribute("checked",!0),l.tabIndex=Sg,l.addEventListener("change",c=>{const{name:h,checked:p}=c.target;for(const m of this._getElementsByName(h,n))t.setValue(m.id,{value:!1});t.setValue(n,{value:p})}),l.addEventListener("resetform",c=>{const h=e.defaultFieldValue;c.target.checked=h!=null&&h===e.buttonValue}),this.enableScripting&&this.hasJSActions){const c=e.buttonValue;l.addEventListener("updatefromsandbox",h=>{const p={value:m=>{const y=c===m.detail.value;for(const _ of this._getElementsByName(m.target.name)){const A=y&&_.id===n;_.domElement&&(_.domElement.checked=A),t.setValue(_.id,{value:A})}}};this._dispatchEventFromSandbox(p,h)}),this._setEventListeners(l,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],h=>h.target.checked)}return this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class d4 extends ux{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),t}}class f4 extends du{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,n=t.getValue(e,{value:this.data.fieldValue}),r=document.createElement("select");su.add(r),r.setAttribute("data-element-id",e),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=Sg;let l=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",y=>{const _=this.data.defaultFieldValue;for(const A of r.options)A.selected=A.value===_});for(const y of this.data.options){const _=document.createElement("option");_.textContent=y.displayValue,_.value=y.exportValue,n.value.includes(y.exportValue)&&(_.setAttribute("selected",!0),l=!1),r.append(_)}let c=null;if(l){const y=document.createElement("option");y.value=" ",y.setAttribute("hidden",!0),y.setAttribute("selected",!0),r.prepend(y),c=()=>{y.remove(),r.removeEventListener("input",c),c=null},r.addEventListener("input",c)}const h=y=>{const _=y?"value":"textContent",{options:A,multiple:S}=r;return S?Array.prototype.filter.call(A,C=>C.selected).map(C=>C[_]):A.selectedIndex===-1?null:A[A.selectedIndex][_]};let p=h(!1);const m=y=>{const _=y.target.options;return Array.prototype.map.call(_,A=>({displayValue:A.textContent,exportValue:A.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",y=>{const _={value(A){c==null||c();const S=A.detail.value,C=new Set(Array.isArray(S)?S:[S]);for(const M of r.options)M.selected=C.has(M.value);t.setValue(e,{value:h(!0)}),p=h(!1)},multipleSelection(A){r.multiple=!0},remove(A){const S=r.options,C=A.detail.remove;S[C].selected=!1,r.remove(C),S.length>0&&Array.prototype.findIndex.call(S,j=>j.selected)===-1&&(S[0].selected=!0),t.setValue(e,{value:h(!0),items:m(A)}),p=h(!1)},clear(A){for(;r.length!==0;)r.remove(0);t.setValue(e,{value:null,items:[]}),p=h(!1)},insert(A){const{index:S,displayValue:C,exportValue:M}=A.detail.insert,j=r.children[S],P=document.createElement("option");P.textContent=C,P.value=M,j?j.before(P):r.append(P),t.setValue(e,{value:h(!0),items:m(A)}),p=h(!1)},items(A){const{items:S}=A.detail;for(;r.length!==0;)r.remove(0);for(const C of S){const{displayValue:M,exportValue:j}=C,P=document.createElement("option");P.textContent=M,P.value=j,r.append(P)}r.options.length>0&&(r.options[0].selected=!0),t.setValue(e,{value:h(!0),items:m(A)}),p=h(!1)},indices(A){const S=new Set(A.detail.indices);for(const C of A.target.options)C.selected=S.has(C.index);t.setValue(e,{value:h(!0)}),p=h(!1)},editable(A){A.target.disabled=!A.detail.editable}};this._dispatchEventFromSandbox(_,y)}),r.addEventListener("input",y=>{var S;const _=h(!0),A=h(!1);t.setValue(e,{value:_}),y.preventDefault(),(S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:p,change:A,changeEx:_,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],y=>y.target.value)):r.addEventListener("input",function(y){t.setValue(e,{value:h(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class $_ extends qe{constructor(t){const{data:e,elements:n}=t;super(t,{isRenderable:qe._hasPopupData(e)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new p4({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const n of this.elements)n.popup=t,n.container.ariaHasPopup="dialog",e.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",e.map(n=>`${ZA}${n}`).join(",")),this.container}}var Gh,uy,hy,qh,Lc,Ue,da,Xh,Fp,Up,Yh,fa,Cs,pa,jp,ga,Hp,Nc,Ic,me,gv,K_,px,gx,mx,vx,mv,vv,W_;class p4{constructor({container:t,color:e,elements:n,titleObj:r,modificationDate:l,contentsObj:c,richText:h,parent:p,rect:m,parentRect:y,open:_}){O(this,me);O(this,Gh,R(this,me,mx).bind(this));O(this,uy,R(this,me,W_).bind(this));O(this,hy,R(this,me,vv).bind(this));O(this,qh,R(this,me,mv).bind(this));O(this,Lc,null);O(this,Ue,null);O(this,da,null);O(this,Xh,null);O(this,Fp,null);O(this,Up,null);O(this,Yh,null);O(this,fa,!1);O(this,Cs,null);O(this,pa,null);O(this,jp,null);O(this,ga,null);O(this,Hp,null);O(this,Nc,null);O(this,Ic,!1);var A;T(this,Ue,t),T(this,Hp,r),T(this,da,c),T(this,ga,h),T(this,Up,p),T(this,Lc,e),T(this,jp,m),T(this,Yh,y),T(this,Fp,n),T(this,Xh,eE.toDateObject(l)),this.trigger=n.flatMap(S=>S.getElementsToTriggerPopup());for(const S of this.trigger)S.addEventListener("click",d(this,qh)),S.addEventListener("mouseenter",d(this,hy)),S.addEventListener("mouseleave",d(this,uy)),S.classList.add("popupTriggerArea");for(const S of n)(A=S.container)==null||A.addEventListener("keydown",d(this,Gh));d(this,Ue).hidden=!0,_&&R(this,me,mv).call(this)}render(){if(d(this,Cs))return;const t=T(this,Cs,document.createElement("div"));if(t.className="popup",d(this,Lc)){const l=t.style.outlineColor=St.makeHexColor(...d(this,Lc));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?t.style.backgroundColor=`color-mix(in srgb, ${l} 30%, white)`:t.style.backgroundColor=St.makeHexColor(...d(this,Lc).map(h=>Math.floor(.7*(255-h)+h)))}const e=document.createElement("span");e.className="header";const n=document.createElement("h1");if(e.append(n),{dir:n.dir,str:n.textContent}=d(this,Hp),t.append(e),d(this,Xh)){const l=document.createElement("span");l.classList.add("popupDate"),l.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),l.setAttribute("data-l10n-args",JSON.stringify({dateObj:d(this,Xh).valueOf()})),e.append(l)}const r=d(this,me,gv);if(r)cx.render({xfaHtml:r,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const l=this._formatContents(d(this,da));t.append(l)}d(this,Ue).append(t)}_formatContents({str:t,dir:e}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=e;const r=t.split(/(?:\r\n?|\n)/);for(let l=0,c=r.length;l<c;++l){const h=r[l];n.append(document.createTextNode(h)),l<c-1&&n.append(document.createElement("br"))}return n}updateEdited({rect:t,popupContent:e}){var n;d(this,Nc)||T(this,Nc,{contentsObj:d(this,da),richText:d(this,ga)}),t&&T(this,pa,null),e&&(T(this,ga,R(this,me,gx).call(this,e)),T(this,da,null)),(n=d(this,Cs))==null||n.remove(),T(this,Cs,null)}resetEdited(){var t;d(this,Nc)&&({contentsObj:Xi(this,da)._,richText:Xi(this,ga)._}=d(this,Nc),T(this,Nc,null),(t=d(this,Cs))==null||t.remove(),T(this,Cs,null),T(this,pa,null))}forceHide(){T(this,Ic,this.isVisible),d(this,Ic)&&(d(this,Ue).hidden=!0)}maybeShow(){d(this,Ic)&&(d(this,Cs)||R(this,me,vv).call(this),T(this,Ic,!1),d(this,Ue).hidden=!1)}get isVisible(){return d(this,Ue).hidden===!1}}Gh=new WeakMap,uy=new WeakMap,hy=new WeakMap,qh=new WeakMap,Lc=new WeakMap,Ue=new WeakMap,da=new WeakMap,Xh=new WeakMap,Fp=new WeakMap,Up=new WeakMap,Yh=new WeakMap,fa=new WeakMap,Cs=new WeakMap,pa=new WeakMap,jp=new WeakMap,ga=new WeakMap,Hp=new WeakMap,Nc=new WeakMap,Ic=new WeakMap,me=new WeakSet,gv=function(){const t=d(this,ga),e=d(this,da);return t!=null&&t.str&&(!(e!=null&&e.str)||e.str===t.str)&&d(this,ga).html||null},K_=function(){var t,e,n;return((n=(e=(t=d(this,me,gv))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:n.fontSize)||0},px=function(){var t,e,n;return((n=(e=(t=d(this,me,gv))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:n.color)||null},gx=function(t){const e=[],n={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},r={style:{color:d(this,me,px),fontSize:d(this,me,K_)?`calc(${d(this,me,K_)}px * var(--scale-factor))`:""}};for(const l of t.split(`
`))e.push({name:"span",value:l,attributes:r});return n},mx=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&d(this,fa))&&R(this,me,mv).call(this)},vx=function(){if(d(this,pa)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:n,pageX:r,pageY:l}}}=d(this,Up);let c=!!d(this,Yh),h=c?d(this,Yh):d(this,jp);for(const C of d(this,Fp))if(!h||St.intersect(C.data.rect,h)!==null){h=C.data.rect,c=!0;break}const p=St.normalizeRect([h[0],t[3]-h[1]+t[1],h[2],t[3]-h[3]+t[1]]),y=c?h[2]-h[0]+5:0,_=p[0]+y,A=p[1];T(this,pa,[100*(_-r)/e,100*(A-l)/n]);const{style:S}=d(this,Ue);S.left=`${d(this,pa)[0]}%`,S.top=`${d(this,pa)[1]}%`},mv=function(){T(this,fa,!d(this,fa)),d(this,fa)?(R(this,me,vv).call(this),d(this,Ue).addEventListener("click",d(this,qh)),d(this,Ue).addEventListener("keydown",d(this,Gh))):(R(this,me,W_).call(this),d(this,Ue).removeEventListener("click",d(this,qh)),d(this,Ue).removeEventListener("keydown",d(this,Gh)))},vv=function(){d(this,Cs)||this.render(),this.isVisible?d(this,fa)&&d(this,Ue).classList.add("focused"):(R(this,me,vx).call(this),d(this,Ue).hidden=!1,d(this,Ue).style.zIndex=parseInt(d(this,Ue).style.zIndex)+1e3)},W_=function(){d(this,Ue).classList.remove("focused"),!(d(this,fa)||!this.isVisible)&&(d(this,Ue).hidden=!0,d(this,Ue).style.zIndex=parseInt(d(this,Ue).style.zIndex)-1e3)};class yx extends qe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=jt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const n=document.createElement("span");n.textContent=e,t.append(n)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Bp;class g4 extends qe{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});O(this,Bp,null)}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:n,height:r}=Ia(e.rect),l=this.svgFactory.create(n,r,!0),c=T(this,Bp,this.svgFactory.createElement("svg:line"));return c.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),c.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),c.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),c.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),c.setAttribute("stroke-width",e.borderStyle.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),l.append(c),this.container.append(l),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,Bp)}addHighlightArea(){this.container.classList.add("highlightArea")}}Bp=new WeakMap;var zp;class m4 extends qe{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});O(this,zp,null)}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:n,height:r}=Ia(e.rect),l=this.svgFactory.create(n,r,!0),c=e.borderStyle.width,h=T(this,zp,this.svgFactory.createElement("svg:rect"));return h.setAttribute("x",c/2),h.setAttribute("y",c/2),h.setAttribute("width",n-c),h.setAttribute("height",r-c),h.setAttribute("stroke-width",c||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),l.append(h),this.container.append(l),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,zp)}addHighlightArea(){this.container.classList.add("highlightArea")}}zp=new WeakMap;var Vp;class v4 extends qe{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});O(this,Vp,null)}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:n,height:r}=Ia(e.rect),l=this.svgFactory.create(n,r,!0),c=e.borderStyle.width,h=T(this,Vp,this.svgFactory.createElement("svg:ellipse"));return h.setAttribute("cx",n/2),h.setAttribute("cy",r/2),h.setAttribute("rx",n/2-c/2),h.setAttribute("ry",r/2-c/2),h.setAttribute("stroke-width",c||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),l.append(h),this.container.append(l),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,Vp)}addHighlightArea(){this.container.classList.add("highlightArea")}}Vp=new WeakMap;var Gp;class bx extends qe{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});O(this,Gp,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:n,borderStyle:r,popupRef:l}}=this;if(!n)return this.container;const{width:c,height:h}=Ia(e),p=this.svgFactory.create(c,h,!0);let m=[];for(let _=0,A=n.length;_<A;_+=2){const S=n[_]-e[0],C=e[3]-n[_+1];m.push(`${S},${C}`)}m=m.join(" ");const y=T(this,Gp,this.svgFactory.createElement(this.svgElementName));return y.setAttribute("points",m),y.setAttribute("stroke-width",r.width||1),y.setAttribute("stroke","transparent"),y.setAttribute("fill","transparent"),p.append(y),this.container.append(p),!l&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,Gp)}addHighlightArea(){this.container.classList.add("highlightArea")}}Gp=new WeakMap;class y4 extends bx{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class b4 extends qe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var qp;class cE extends qe{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});O(this,qp,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?jt.HIGHLIGHT:jt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,inkLists:n,borderStyle:r,popupRef:l}}=this,{width:c,height:h}=Ia(e),p=this.svgFactory.create(c,h,!0);for(const m of n){let y=[];for(let A=0,S=m.length;A<S;A+=2){const C=m[A]-e[0],M=e[3]-m[A+1];y.push(`${C},${M}`)}y=y.join(" ");const _=this.svgFactory.createElement(this.svgElementName);d(this,qp).push(_),_.setAttribute("points",y),_.setAttribute("stroke-width",r.width||1),_.setAttribute("stroke","transparent"),_.setAttribute("fill","transparent"),p.append(_)}return!l&&this.hasPopupData&&this._createPopup(),this.container.append(p),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return d(this,qp)}addHighlightArea(){this.container.classList.add("highlightArea")}}qp=new WeakMap;class _x extends qe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=jt.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class _4 extends qe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class A4 extends qe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class E4 extends qe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Ax extends qe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=jt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Xp,Yp,Q_;class S4 extends qe{constructor(e){var r;super(e,{isRenderable:!0});O(this,Yp);O(this,Xp,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:n}=this;let r;n.hasAppearance||n.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),r.addEventListener("dblclick",R(this,Yp,Q_).bind(this)),T(this,Xp,r);const{isMac:l}=Qi.platform;return e.addEventListener("keydown",c=>{c.key==="Enter"&&(l?c.metaKey:c.ctrlKey)&&R(this,Yp,Q_).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),e.append(r),e}getElementsToTriggerPopup(){return d(this,Xp)}addHighlightArea(){this.container.classList.add("highlightArea")}}Xp=new WeakMap,Yp=new WeakSet,Q_=function(){var e;(e=this.downloadManager)==null||e.openOrDownloadData(this.content,this.filename)};var $p,Pc,Fc,Kp,au,Ex,Z_,eC;let w4=(eC=class{constructor({div:t,accessibilityManager:e,annotationCanvasMap:n,annotationEditorUIManager:r,page:l,viewport:c,structTreeLayer:h}){O(this,au);O(this,$p,null);O(this,Pc,null);O(this,Fc,new Map);O(this,Kp,null);this.div=t,T(this,$p,e),T(this,Pc,n),T(this,Kp,h||null),this.page=l,this.viewport=c,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return d(this,Fc).size>0}async render(t){var c;const{annotations:e}=t,n=this.div;iu(n,this.viewport);const r=new Map,l={data:null,layer:n,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new lE,annotationStorage:t.annotationStorage||new nE,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const h of e){if(h.noHTML)continue;const p=h.annotationType===ti.POPUP;if(p){const _=r.get(h.id);if(!_)continue;l.elements=_}else{const{width:_,height:A}=Ia(h.rect);if(_<=0||A<=0)continue}l.data=h;const m=o4.create(l);if(!m.isRenderable)continue;if(!p&&h.popupRef){const _=r.get(h.popupRef);_?_.push(m):r.set(h.popupRef,[m])}const y=m.render();h.hidden&&(y.style.visibility="hidden"),await R(this,au,Ex).call(this,y,h.id),m._isEditable&&(d(this,Fc).set(m.data.id,m),(c=this._annotationEditorUIManager)==null||c.renderAnnotationElement(m))}R(this,au,Z_).call(this)}update({viewport:t}){const e=this.div;this.viewport=t,iu(e,{rotation:t.rotation}),R(this,au,Z_).call(this),e.hidden=!1}getEditableAnnotations(){return Array.from(d(this,Fc).values())}getEditableAnnotation(t){return d(this,Fc).get(t)}},$p=new WeakMap,Pc=new WeakMap,Fc=new WeakMap,Kp=new WeakMap,au=new WeakSet,Ex=async function(t,e){var c,h;const n=t.firstChild||t,r=n.id=`${ZA}${e}`,l=await((c=d(this,Kp))==null?void 0:c.getAriaAttributes(r));if(l)for(const[p,m]of l)n.setAttribute(p,m);this.div.append(t),(h=d(this,$p))==null||h.moveElementInDOM(this.div,t,n,!1)},Z_=function(){if(!d(this,Pc))return;const t=this.div;for(const[e,n]of d(this,Pc)){const r=t.querySelector(`[data-annotation-id="${e}"]`);if(!r)continue;n.className="annotationContent";const{firstChild:l}=r;l?l.nodeName==="CANVAS"?l.replaceWith(n):l.classList.contains("annotationContent")?l.after(n):l.before(n):r.append(n)}d(this,Pc).clear()},eC);const Qm=/\r\n?|\n/g;var Rs,Rn,Wp,Uc,xn,Qe,Sx,wx,Tx,yv,Fa,bv,_v,Cx,tA,Rx;const Ae=class Ae extends he{constructor(e){super({...e,name:"freeTextEditor"});O(this,Qe);O(this,Rs);O(this,Rn,"");O(this,Wp,`${this.id}-editor`);O(this,Uc,null);O(this,xn);T(this,Rs,e.color||Ae._defaultColor||he._defaultLineColor),T(this,xn,e.fontSize||Ae._defaultFontSize)}static get _keyboardManager(){const e=Ae.prototype,n=c=>c.isEmpty(),r=nu.TRANSLATE_SMALL,l=nu.TRANSLATE_BIG;return Kt(this,"_keyboardManager",new Eg([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-l,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[r,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[l,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-l],checker:n}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,r],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,l],checker:n}]]))}static initialize(e,n){he.initialize(e,n);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,n){switch(e){case Lt.FREETEXT_SIZE:Ae._defaultFontSize=n;break;case Lt.FREETEXT_COLOR:Ae._defaultColor=n;break}}updateParams(e,n){switch(e){case Lt.FREETEXT_SIZE:R(this,Qe,Sx).call(this,n);break;case Lt.FREETEXT_COLOR:R(this,Qe,wx).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Lt.FREETEXT_SIZE,Ae._defaultFontSize],[Lt.FREETEXT_COLOR,Ae._defaultColor||he._defaultLineColor]]}get propertiesToUpdate(){return[[Lt.FREETEXT_SIZE,d(this,xn)],[Lt.FREETEXT_COLOR,d(this,Rs)]]}_translateEmpty(e,n){this._uiManager.translateSelectedEditors(e,n,!0)}getInitialTranslation(){const e=this.parentScale;return[-Ae._internalPadding*e,-(Ae._internalPadding+d(this,xn))*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(jt.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),T(this,Uc,new AbortController);const e=this._uiManager.combinedSignal(d(this,Uc));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e})}disableEditMode(){var e;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",d(this,Wp)),this._isDraggable=!0,(e=d(this,Uc))==null||e.abort(),T(this,Uc,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var e;this.width||(this.enableEditMode(),this.editorDiv.focus(),(e=this._initialOptions)!=null&&e.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=d(this,Rn),n=T(this,Rn,R(this,Qe,Tx).call(this).trimEnd());if(e===n)return;const r=l=>{if(T(this,Rn,l),!l){this.remove();return}R(this,Qe,_v).call(this),this._uiManager.rebuild(this),R(this,Qe,yv).call(this)};this.addCommands({cmd:()=>{r(n)},undo:()=>{r(e)},mustExec:!1}),R(this,Qe,yv).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){Ae._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,n;this.width&&(e=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",d(this,Wp)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${d(this,xn)}px * var(--scale-factor))`,r.color=d(this,Rs),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Xv(this,this.div,["dblclick","keydown"]),this.width){const[l,c]=this.parentDimensions;if(this.annotationElementId){const{position:h}=this._initialData;let[p,m]=this.getInitialTranslation();[p,m]=this.pageTranslationToScreen(p,m);const[y,_]=this.pageDimensions,[A,S]=this.pageTranslation;let C,M;switch(this.rotation){case 0:C=e+(h[0]-A)/y,M=n+this.height-(h[1]-S)/_;break;case 90:C=e+(h[0]-A)/y,M=n-(h[1]-S)/_,[p,m]=[m,-p];break;case 180:C=e-this.width+(h[0]-A)/y,M=n-(h[1]-S)/_,[p,m]=[-p,-m];break;case 270:C=e+(h[0]-A-this.height*_)/y,M=n+(h[1]-S-this.width*y)/_,[p,m]=[-m,p];break}this.setAt(C*l,M*c,p,m)}else this.setAt(e*l,n*c,this.width*l,this.height*c);R(this,Qe,_v).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){var C,M,j;const n=e.clipboardData||window.clipboardData,{types:r}=n;if(r.length===1&&r[0]==="text/plain")return;e.preventDefault();const l=R(C=Ae,Fa,tA).call(C,n.getData("text")||"").replaceAll(Qm,`
`);if(!l)return;const c=window.getSelection();if(!c.rangeCount)return;this.editorDiv.normalize(),c.deleteFromDocument();const h=c.getRangeAt(0);if(!l.includes(`
`)){h.insertNode(document.createTextNode(l)),this.editorDiv.normalize(),c.collapseToStart();return}const{startContainer:p,startOffset:m}=h,y=[],_=[];if(p.nodeType===Node.TEXT_NODE){const P=p.parentElement;if(_.push(p.nodeValue.slice(m).replaceAll(Qm,"")),P!==this.editorDiv){let z=y;for(const G of this.editorDiv.childNodes){if(G===P){z=_;continue}z.push(R(M=Ae,Fa,bv).call(M,G))}}y.push(p.nodeValue.slice(0,m).replaceAll(Qm,""))}else if(p===this.editorDiv){let P=y,z=0;for(const G of this.editorDiv.childNodes)z++===m&&(P=_),P.push(R(j=Ae,Fa,bv).call(j,G))}T(this,Rn,`${y.join(`
`)}${l}${_.join(`
`)}`),R(this,Qe,_v).call(this);const A=new Range;let S=y.reduce((P,z)=>P+z.length,0);for(const{firstChild:P}of this.editorDiv.childNodes)if(P.nodeType===Node.TEXT_NODE){const z=P.nodeValue.length;if(S<=z){A.setStart(P,S),A.setEnd(P,S);break}S-=z}c.removeAllRanges(),c.addRange(A)}get contentDiv(){return this.editorDiv}static async deserialize(e,n,r){var h;let l=null;if(e instanceof yx){const{data:{defaultAppearanceData:{fontSize:p,fontColor:m},rect:y,rotation:_,id:A,popupRef:S},textContent:C,textPosition:M,parent:{page:{pageNumber:j}}}=e;if(!C||C.length===0)return null;l=e={annotationType:jt.FREETEXT,color:Array.from(m),fontSize:p,value:C.join(`
`),position:M,pageIndex:j-1,rect:y.slice(0),rotation:_,id:A,deleted:!1,popupRef:S}}const c=await super.deserialize(e,n,r);return T(c,xn,e.fontSize),T(c,Rs,St.makeHexColor(...e.color)),T(c,Rn,R(h=Ae,Fa,tA).call(h,e.value)),c.annotationElementId=e.id||null,c._initialData=l,c}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=Ae._internalPadding*this.parentScale,r=this.getRect(n,n),l=he._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:d(this,Rs)),c={annotationType:jt.FREETEXT,color:l,fontSize:d(this,xn),value:R(this,Qe,Cx).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?c:this.annotationElementId&&!R(this,Qe,Rx).call(this,c)?null:(c.id=this.annotationElementId,c)}renderAnnotationElement(e){const n=super.renderAnnotationElement(e);if(this.deleted)return n;const{style:r}=n;r.fontSize=`calc(${d(this,xn)}px * var(--scale-factor))`,r.color=d(this,Rs),n.replaceChildren();for(const c of d(this,Rn).split(`
`)){const h=document.createElement("div");h.append(c?document.createTextNode(c):document.createElement("br")),n.append(h)}const l=Ae._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(l,l),popupContent:d(this,Rn)}),n}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}};Rs=new WeakMap,Rn=new WeakMap,Wp=new WeakMap,Uc=new WeakMap,xn=new WeakMap,Qe=new WeakSet,Sx=function(e){const n=l=>{this.editorDiv.style.fontSize=`calc(${l}px * var(--scale-factor))`,this.translate(0,-(l-d(this,xn))*this.parentScale),T(this,xn,l),R(this,Qe,yv).call(this)},r=d(this,xn);this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Lt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},wx=function(e){const n=l=>{T(this,Rs,this.editorDiv.style.color=l)},r=d(this,Rs);this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Lt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Tx=function(){var r;const e=[];this.editorDiv.normalize();let n=null;for(const l of this.editorDiv.childNodes)(n==null?void 0:n.nodeType)===Node.TEXT_NODE&&l.nodeName==="BR"||(e.push(R(r=Ae,Fa,bv).call(r,l)),n=l);return e.join(`
`)},yv=function(){const[e,n]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:l,div:c}=this,h=c.style.display,p=c.classList.contains("hidden");c.classList.remove("hidden"),c.style.display="hidden",l.div.append(this.div),r=c.getBoundingClientRect(),c.remove(),c.style.display=h,c.classList.toggle("hidden",p)}this.rotation%180===this.parentRotation%180?(this.width=r.width/e,this.height=r.height/n):(this.width=r.height/e,this.height=r.width/n),this.fixAndSetPosition()},Fa=new WeakSet,bv=function(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(Qm,"")},_v=function(){if(this.editorDiv.replaceChildren(),!!d(this,Rn))for(const e of d(this,Rn).split(`
`)){const n=document.createElement("div");n.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(n)}},Cx=function(){return d(this,Rn).replaceAll(" "," ")},tA=function(e){return e.replaceAll(" "," ")},Rx=function(e){const{value:n,fontSize:r,color:l,pageIndex:c}=this._initialData;return this._hasBeenMoved||e.value!==n||e.fontSize!==r||e.color.some((h,p)=>h!==l[p])||e.pageIndex!==c},O(Ae,Fa),kt(Ae,"_freeTextDefaultContent",""),kt(Ae,"_internalPadding",0),kt(Ae,"_defaultColor",null),kt(Ae,"_defaultFontSize",10),kt(Ae,"_type","freetext"),kt(Ae,"_editorType",jt.FREETEXT);let J_=Ae;class xx{toSVGPath(){we("Abstract method `toSVGPath` must be implemented.")}get box(){we("Abstract getter `box` must be implemented.")}serialize(t,e){we("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){we("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){we("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var Dn,xs,$h,Kh,dr,qt,jc,Hc,Qp,Zp,Wh,Qh,Jo,Jp,dy,fy,ri,Ff,Dx,Mx,Ox,kx,Lx,Nx;const ea=class ea{constructor({x:t,y:e},n,r,l,c,h=0){O(this,ri);O(this,Dn);O(this,xs,[]);O(this,$h);O(this,Kh);O(this,dr,[]);O(this,qt,new Float64Array(18));O(this,jc);O(this,Hc);O(this,Qp);O(this,Zp);O(this,Wh);O(this,Qh);O(this,Jo,[]);T(this,Dn,n),T(this,Qh,l*r),T(this,Kh,c),d(this,qt).set([NaN,NaN,NaN,NaN,t,e],6),T(this,$h,h),T(this,Zp,d(ea,Jp)*r),T(this,Qp,d(ea,fy)*r),T(this,Wh,r),d(this,Jo).push(t,e)}isEmpty(){return isNaN(d(this,qt)[8])}add({x:t,y:e}){var x;T(this,jc,t),T(this,Hc,e);const[n,r,l,c]=d(this,Dn);let[h,p,m,y]=d(this,qt).subarray(8,12);const _=t-m,A=e-y,S=Math.hypot(_,A);if(S<d(this,Qp))return!1;const C=S-d(this,Zp),M=C/S,j=M*_,P=M*A;let z=h,G=p;h=m,p=y,m+=j,y+=P,(x=d(this,Jo))==null||x.push(t,e);const Y=-P/C,W=j/C,X=Y*d(this,Qh),L=W*d(this,Qh);return d(this,qt).set(d(this,qt).subarray(2,8),0),d(this,qt).set([m+X,y+L],4),d(this,qt).set(d(this,qt).subarray(14,18),12),d(this,qt).set([m-X,y-L],16),isNaN(d(this,qt)[6])?(d(this,dr).length===0&&(d(this,qt).set([h+X,p+L],2),d(this,dr).push(NaN,NaN,NaN,NaN,(h+X-n)/l,(p+L-r)/c),d(this,qt).set([h-X,p-L],14),d(this,xs).push(NaN,NaN,NaN,NaN,(h-X-n)/l,(p-L-r)/c)),d(this,qt).set([z,G,h,p,m,y],6),!this.isEmpty()):(d(this,qt).set([z,G,h,p,m,y],6),Math.abs(Math.atan2(G-p,z-h)-Math.atan2(P,j))<Math.PI/2?([h,p,m,y]=d(this,qt).subarray(2,6),d(this,dr).push(NaN,NaN,NaN,NaN,((h+m)/2-n)/l,((p+y)/2-r)/c),[h,p,z,G]=d(this,qt).subarray(14,18),d(this,xs).push(NaN,NaN,NaN,NaN,((z+h)/2-n)/l,((G+p)/2-r)/c),!0):([z,G,h,p,m,y]=d(this,qt).subarray(0,6),d(this,dr).push(((z+5*h)/6-n)/l,((G+5*p)/6-r)/c,((5*h+m)/6-n)/l,((5*p+y)/6-r)/c,((h+m)/2-n)/l,((p+y)/2-r)/c),[m,y,h,p,z,G]=d(this,qt).subarray(12,18),d(this,xs).push(((z+5*h)/6-n)/l,((G+5*p)/6-r)/c,((5*h+m)/6-n)/l,((5*p+y)/6-r)/c,((h+m)/2-n)/l,((p+y)/2-r)/c),!0))}toSVGPath(){if(this.isEmpty())return"";const t=d(this,dr),e=d(this,xs);if(isNaN(d(this,qt)[6])&&!this.isEmpty())return R(this,ri,Dx).call(this);const n=[];n.push(`M${t[4]} ${t[5]}`);for(let r=6;r<t.length;r+=6)isNaN(t[r])?n.push(`L${t[r+4]} ${t[r+5]}`):n.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);R(this,ri,Ox).call(this,n);for(let r=e.length-6;r>=6;r-=6)isNaN(e[r])?n.push(`L${e[r+4]} ${e[r+5]}`):n.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);return R(this,ri,Mx).call(this,n),n.join(" ")}newFreeDrawOutline(t,e,n,r,l,c){return new Ix(t,e,n,r,l,c)}getOutlines(){var _;const t=d(this,dr),e=d(this,xs),n=d(this,qt),[r,l,c,h]=d(this,Dn),p=new Float64Array((((_=d(this,Jo))==null?void 0:_.length)??0)+2);for(let A=0,S=p.length-2;A<S;A+=2)p[A]=(d(this,Jo)[A]-r)/c,p[A+1]=(d(this,Jo)[A+1]-l)/h;if(p[p.length-2]=(d(this,jc)-r)/c,p[p.length-1]=(d(this,Hc)-l)/h,isNaN(n[6])&&!this.isEmpty())return R(this,ri,kx).call(this,p);const m=new Float64Array(d(this,dr).length+24+d(this,xs).length);let y=t.length;for(let A=0;A<y;A+=2){if(isNaN(t[A])){m[A]=m[A+1]=NaN;continue}m[A]=t[A],m[A+1]=t[A+1]}y=R(this,ri,Nx).call(this,m,y);for(let A=e.length-6;A>=6;A-=6)for(let S=0;S<6;S+=2){if(isNaN(e[A+S])){m[y]=m[y+1]=NaN,y+=2;continue}m[y]=e[A+S],m[y+1]=e[A+S+1],y+=2}return R(this,ri,Lx).call(this,m,y),this.newFreeDrawOutline(m,p,d(this,Dn),d(this,Wh),d(this,$h),d(this,Kh))}};Dn=new WeakMap,xs=new WeakMap,$h=new WeakMap,Kh=new WeakMap,dr=new WeakMap,qt=new WeakMap,jc=new WeakMap,Hc=new WeakMap,Qp=new WeakMap,Zp=new WeakMap,Wh=new WeakMap,Qh=new WeakMap,Jo=new WeakMap,Jp=new WeakMap,dy=new WeakMap,fy=new WeakMap,ri=new WeakSet,Ff=function(){const t=d(this,qt).subarray(4,6),e=d(this,qt).subarray(16,18),[n,r,l,c]=d(this,Dn);return[(d(this,jc)+(t[0]-e[0])/2-n)/l,(d(this,Hc)+(t[1]-e[1])/2-r)/c,(d(this,jc)+(e[0]-t[0])/2-n)/l,(d(this,Hc)+(e[1]-t[1])/2-r)/c]},Dx=function(){const[t,e,n,r]=d(this,Dn),[l,c,h,p]=R(this,ri,Ff).call(this);return`M${(d(this,qt)[2]-t)/n} ${(d(this,qt)[3]-e)/r} L${(d(this,qt)[4]-t)/n} ${(d(this,qt)[5]-e)/r} L${l} ${c} L${h} ${p} L${(d(this,qt)[16]-t)/n} ${(d(this,qt)[17]-e)/r} L${(d(this,qt)[14]-t)/n} ${(d(this,qt)[15]-e)/r} Z`},Mx=function(t){const e=d(this,xs);t.push(`L${e[4]} ${e[5]} Z`)},Ox=function(t){const[e,n,r,l]=d(this,Dn),c=d(this,qt).subarray(4,6),h=d(this,qt).subarray(16,18),[p,m,y,_]=R(this,ri,Ff).call(this);t.push(`L${(c[0]-e)/r} ${(c[1]-n)/l} L${p} ${m} L${y} ${_} L${(h[0]-e)/r} ${(h[1]-n)/l}`)},kx=function(t){const e=d(this,qt),[n,r,l,c]=d(this,Dn),[h,p,m,y]=R(this,ri,Ff).call(this),_=new Float64Array(36);return _.set([NaN,NaN,NaN,NaN,(e[2]-n)/l,(e[3]-r)/c,NaN,NaN,NaN,NaN,(e[4]-n)/l,(e[5]-r)/c,NaN,NaN,NaN,NaN,h,p,NaN,NaN,NaN,NaN,m,y,NaN,NaN,NaN,NaN,(e[16]-n)/l,(e[17]-r)/c,NaN,NaN,NaN,NaN,(e[14]-n)/l,(e[15]-r)/c],0),this.newFreeDrawOutline(_,t,d(this,Dn),d(this,Wh),d(this,$h),d(this,Kh))},Lx=function(t,e){const n=d(this,xs);return t.set([NaN,NaN,NaN,NaN,n[4],n[5]],e),e+=6},Nx=function(t,e){const n=d(this,qt).subarray(4,6),r=d(this,qt).subarray(16,18),[l,c,h,p]=d(this,Dn),[m,y,_,A]=R(this,ri,Ff).call(this);return t.set([NaN,NaN,NaN,NaN,(n[0]-l)/h,(n[1]-c)/p,NaN,NaN,NaN,NaN,m,y,NaN,NaN,NaN,NaN,_,A,NaN,NaN,NaN,NaN,(r[0]-l)/h,(r[1]-c)/p],e),e+=24},O(ea,Jp,8),O(ea,dy,2),O(ea,fy,d(ea,Jp)+d(ea,dy));let $v=ea;var Zh,Bc,ma,tg,Mn,eg,Ge,mn,Uf,jf,Px;class Ix extends xx{constructor(e,n,r,l,c,h){super();O(this,mn);O(this,Zh);O(this,Bc,null);O(this,ma);O(this,tg);O(this,Mn);O(this,eg);O(this,Ge);T(this,Ge,e),T(this,Mn,n),T(this,Zh,r),T(this,eg,l),T(this,ma,c),T(this,tg,h),R(this,mn,Px).call(this,h);const{x:p,y:m,width:y,height:_}=d(this,Bc);for(let A=0,S=e.length;A<S;A+=2)e[A]=(e[A]-p)/y,e[A+1]=(e[A+1]-m)/_;for(let A=0,S=n.length;A<S;A+=2)n[A]=(n[A]-p)/y,n[A+1]=(n[A+1]-m)/_}toSVGPath(){const e=[`M${d(this,Ge)[4]} ${d(this,Ge)[5]}`];for(let n=6,r=d(this,Ge).length;n<r;n+=6){if(isNaN(d(this,Ge)[n])){e.push(`L${d(this,Ge)[n+4]} ${d(this,Ge)[n+5]}`);continue}e.push(`C${d(this,Ge)[n]} ${d(this,Ge)[n+1]} ${d(this,Ge)[n+2]} ${d(this,Ge)[n+3]} ${d(this,Ge)[n+4]} ${d(this,Ge)[n+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,n,r,l],c){const h=r-e,p=l-n;let m,y;switch(c){case 0:m=R(this,mn,Uf).call(this,d(this,Ge),e,l,h,-p),y=R(this,mn,Uf).call(this,d(this,Mn),e,l,h,-p);break;case 90:m=R(this,mn,jf).call(this,d(this,Ge),e,n,h,p),y=R(this,mn,jf).call(this,d(this,Mn),e,n,h,p);break;case 180:m=R(this,mn,Uf).call(this,d(this,Ge),r,n,-h,p),y=R(this,mn,Uf).call(this,d(this,Mn),r,n,-h,p);break;case 270:m=R(this,mn,jf).call(this,d(this,Ge),r,l,-h,-p),y=R(this,mn,jf).call(this,d(this,Mn),r,l,-h,-p);break}return{outline:Array.from(m),points:[Array.from(y)]}}get box(){return d(this,Bc)}newOutliner(e,n,r,l,c,h=0){return new $v(e,n,r,l,c,h)}getNewOutline(e,n){const{x:r,y:l,width:c,height:h}=d(this,Bc),[p,m,y,_]=d(this,Zh),A=c*y,S=h*_,C=r*y+p,M=l*_+m,j=this.newOutliner({x:d(this,Mn)[0]*A+C,y:d(this,Mn)[1]*S+M},d(this,Zh),d(this,eg),e,d(this,tg),n??d(this,ma));for(let P=2;P<d(this,Mn).length;P+=2)j.add({x:d(this,Mn)[P]*A+C,y:d(this,Mn)[P+1]*S+M});return j.getOutlines()}get mustRemoveSelfIntersections(){return!0}}Zh=new WeakMap,Bc=new WeakMap,ma=new WeakMap,tg=new WeakMap,Mn=new WeakMap,eg=new WeakMap,Ge=new WeakMap,mn=new WeakSet,Uf=function(e,n,r,l,c){const h=new Float64Array(e.length);for(let p=0,m=e.length;p<m;p+=2)h[p]=n+e[p]*l,h[p+1]=r+e[p+1]*c;return h},jf=function(e,n,r,l,c){const h=new Float64Array(e.length);for(let p=0,m=e.length;p<m;p+=2)h[p]=n+e[p+1]*l,h[p+1]=r+e[p]*c;return h},Px=function(e){const n=d(this,Ge);let r=n[4],l=n[5],c=r,h=l,p=r,m=l,y=r,_=l;const A=e?Math.max:Math.min;for(let P=6,z=n.length;P<z;P+=6){if(isNaN(n[P]))c=Math.min(c,n[P+4]),h=Math.min(h,n[P+5]),p=Math.max(p,n[P+4]),m=Math.max(m,n[P+5]),_<n[P+5]?(y=n[P+4],_=n[P+5]):_===n[P+5]&&(y=A(y,n[P+4]));else{const G=St.bezierBoundingBox(r,l,...n.slice(P,P+6));c=Math.min(c,G[0]),h=Math.min(h,G[1]),p=Math.max(p,G[2]),m=Math.max(m,G[3]),_<G[3]?(y=G[2],_=G[3]):_===G[3]&&(y=A(y,G[2]))}r=n[P+4],l=n[P+5]}const S=c-d(this,ma),C=h-d(this,ma),M=p-c+2*d(this,ma),j=m-h+2*d(this,ma);T(this,Bc,{x:S,y:C,width:M,height:j,lastPoint:[y,_]})};var ig,tl,Ds,Ji,Fx,Av,Ux,jx,eA;class V1{constructor(t,e=0,n=0,r=!0){O(this,Ji);O(this,ig);O(this,tl,[]);O(this,Ds,[]);let l=1/0,c=-1/0,h=1/0,p=-1/0;const m=10**-4;for(const{x:j,y:P,width:z,height:G}of t){const Y=Math.floor((j-e)/m)*m,W=Math.ceil((j+z+e)/m)*m,X=Math.floor((P-e)/m)*m,L=Math.ceil((P+G+e)/m)*m,D=[Y,X,L,!0],x=[W,X,L,!1];d(this,tl).push(D,x),l=Math.min(l,Y),c=Math.max(c,W),h=Math.min(h,X),p=Math.max(p,L)}const y=c-l+2*n,_=p-h+2*n,A=l-n,S=h-n,C=d(this,tl).at(r?-1:-2),M=[C[0],C[2]];for(const j of d(this,tl)){const[P,z,G]=j;j[0]=(P-A)/y,j[1]=(z-S)/_,j[2]=(G-S)/_}T(this,ig,{x:A,y:S,width:y,height:_,lastPoint:M})}getOutlines(){d(this,tl).sort((e,n)=>e[0]-n[0]||e[1]-n[1]||e[2]-n[2]);const t=[];for(const e of d(this,tl))e[3]?(t.push(...R(this,Ji,eA).call(this,e)),R(this,Ji,Ux).call(this,e)):(R(this,Ji,jx).call(this,e),t.push(...R(this,Ji,eA).call(this,e)));return R(this,Ji,Fx).call(this,t)}}ig=new WeakMap,tl=new WeakMap,Ds=new WeakMap,Ji=new WeakSet,Fx=function(t){const e=[],n=new Set;for(const c of t){const[h,p,m]=c;e.push([h,p,c],[h,m,c])}e.sort((c,h)=>c[1]-h[1]||c[0]-h[0]);for(let c=0,h=e.length;c<h;c+=2){const p=e[c][2],m=e[c+1][2];p.push(m),m.push(p),n.add(p),n.add(m)}const r=[];let l;for(;n.size>0;){const c=n.values().next().value;let[h,p,m,y,_]=c;n.delete(c);let A=h,S=p;for(l=[h,m],r.push(l);;){let C;if(n.has(y))C=y;else if(n.has(_))C=_;else break;n.delete(C),[h,p,m,y,_]=C,A!==h&&(l.push(A,S,h,S===p?p:m),A=h),S=S===p?m:p}l.push(A,S)}return new T4(r,d(this,ig))},Av=function(t){const e=d(this,Ds);let n=0,r=e.length-1;for(;n<=r;){const l=n+r>>1,c=e[l][0];if(c===t)return l;c<t?n=l+1:r=l-1}return r+1},Ux=function([,t,e]){const n=R(this,Ji,Av).call(this,t);d(this,Ds).splice(n,0,[t,e])},jx=function([,t,e]){const n=R(this,Ji,Av).call(this,t);for(let r=n;r<d(this,Ds).length;r++){const[l,c]=d(this,Ds)[r];if(l!==t)break;if(l===t&&c===e){d(this,Ds).splice(r,1);return}}for(let r=n-1;r>=0;r--){const[l,c]=d(this,Ds)[r];if(l!==t)break;if(l===t&&c===e){d(this,Ds).splice(r,1);return}}},eA=function(t){const[e,n,r]=t,l=[[e,n,r]],c=R(this,Ji,Av).call(this,r);for(let h=0;h<c;h++){const[p,m]=d(this,Ds)[h];for(let y=0,_=l.length;y<_;y++){const[,A,S]=l[y];if(!(m<=A||S<=p)){if(A>=p){if(S>m)l[y][1]=m;else{if(_===1)return[];l.splice(y,1),y--,_--}continue}l[y][2]=p,S>m&&l.push([e,m,S])}}}return l};var ng,Jh;class T4 extends xx{constructor(e,n){super();O(this,ng);O(this,Jh);T(this,Jh,e),T(this,ng,n)}toSVGPath(){const e=[];for(const n of d(this,Jh)){let[r,l]=n;e.push(`M${r} ${l}`);for(let c=2;c<n.length;c+=2){const h=n[c],p=n[c+1];h===r?(e.push(`V${p}`),l=p):p===l&&(e.push(`H${h}`),r=h)}e.push("Z")}return e.join(" ")}serialize([e,n,r,l],c){const h=[],p=r-e,m=l-n;for(const y of d(this,Jh)){const _=new Array(y.length);for(let A=0;A<y.length;A+=2)_[A]=e+y[A]*p,_[A+1]=l-y[A+1]*m;h.push(_)}return h}get box(){return d(this,ng)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}ng=new WeakMap,Jh=new WeakMap;class iA extends $v{newFreeDrawOutline(t,e,n,r,l,c){return new C4(t,e,n,r,l,c)}get classNamesForDrawing(){return["highlight","free"]}}class C4 extends Ix{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(t,e,n,r,l,c=0){return new iA(t,e,n,r,l,c)}}var Ms,zc,td,ii,sg,ed,rg,ag,el,Os,id,og,ge,nA,sA,rA,Ql,Hx,Oo;const ln=class ln{constructor({editor:t=null,uiManager:e=null}){O(this,ge);O(this,Ms,null);O(this,zc,null);O(this,td);O(this,ii,null);O(this,sg,!1);O(this,ed,!1);O(this,rg,null);O(this,ag);O(this,el,null);O(this,Os,null);O(this,id);var n;t?(T(this,ed,!1),T(this,id,Lt.HIGHLIGHT_COLOR),T(this,rg,t)):(T(this,ed,!0),T(this,id,Lt.HIGHLIGHT_DEFAULT_COLOR)),T(this,Os,(t==null?void 0:t._uiManager)||e),T(this,ag,d(this,Os)._eventBus),T(this,td,(t==null?void 0:t.color)||((n=d(this,Os))==null?void 0:n.highlightColors.values().next().value)||"#FFFF98"),d(ln,og)||T(ln,og,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Kt(this,"_keyboardManager",new Eg([[["Escape","mac+Escape"],ln.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],ln.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],ln.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],ln.prototype._moveToPrevious],[["Home","mac+Home"],ln.prototype._moveToBeginning],[["End","mac+End"],ln.prototype._moveToEnd]]))}renderButton(){const t=T(this,Ms,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const e=d(this,Os)._signal;t.addEventListener("click",R(this,ge,Ql).bind(this),{signal:e}),t.addEventListener("keydown",R(this,ge,rA).bind(this),{signal:e});const n=T(this,zc,document.createElement("span"));return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=d(this,td),t.append(n),t}renderMainDropdown(){const t=T(this,ii,R(this,ge,nA).call(this));return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}_colorSelectFromKeyboard(t){if(t.target===d(this,Ms)){R(this,ge,Ql).call(this,t);return}const e=t.target.getAttribute("data-color");e&&R(this,ge,sA).call(this,e,t)}_moveToNext(t){var e,n;if(!d(this,ge,Oo)){R(this,ge,Ql).call(this,t);return}if(t.target===d(this,Ms)){(e=d(this,ii).firstChild)==null||e.focus();return}(n=t.target.nextSibling)==null||n.focus()}_moveToPrevious(t){var e,n;if(t.target===((e=d(this,ii))==null?void 0:e.firstChild)||t.target===d(this,Ms)){d(this,ge,Oo)&&this._hideDropdownFromKeyboard();return}d(this,ge,Oo)||R(this,ge,Ql).call(this,t),(n=t.target.previousSibling)==null||n.focus()}_moveToBeginning(t){var e;if(!d(this,ge,Oo)){R(this,ge,Ql).call(this,t);return}(e=d(this,ii).firstChild)==null||e.focus()}_moveToEnd(t){var e;if(!d(this,ge,Oo)){R(this,ge,Ql).call(this,t);return}(e=d(this,ii).lastChild)==null||e.focus()}hideDropdown(){var t,e;(t=d(this,ii))==null||t.classList.add("hidden"),(e=d(this,el))==null||e.abort(),T(this,el,null)}_hideDropdownFromKeyboard(){var t;if(!d(this,ed)){if(!d(this,ge,Oo)){(t=d(this,rg))==null||t.unselect();return}this.hideDropdown(),d(this,Ms).focus({preventScroll:!0,focusVisible:d(this,sg)})}}updateColor(t){if(d(this,zc)&&(d(this,zc).style.backgroundColor=t),!d(this,ii))return;const e=d(this,Os).highlightColors.values();for(const n of d(this,ii).children)n.setAttribute("aria-selected",e.next().value===t)}destroy(){var t,e;(t=d(this,Ms))==null||t.remove(),T(this,Ms,null),T(this,zc,null),(e=d(this,ii))==null||e.remove(),T(this,ii,null)}};Ms=new WeakMap,zc=new WeakMap,td=new WeakMap,ii=new WeakMap,sg=new WeakMap,ed=new WeakMap,rg=new WeakMap,ag=new WeakMap,el=new WeakMap,Os=new WeakMap,id=new WeakMap,og=new WeakMap,ge=new WeakSet,nA=function(){const t=document.createElement("div"),e=d(this,Os)._signal;t.addEventListener("contextmenu",cs,{signal:e}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,r]of d(this,Os).highlightColors){const l=document.createElement("button");l.tabIndex="0",l.role="option",l.setAttribute("data-color",r),l.title=n,l.setAttribute("data-l10n-id",d(ln,og)[n]);const c=document.createElement("span");l.append(c),c.className="swatch",c.style.backgroundColor=r,l.setAttribute("aria-selected",r===d(this,td)),l.addEventListener("click",R(this,ge,sA).bind(this,r),{signal:e}),t.append(l)}return t.addEventListener("keydown",R(this,ge,rA).bind(this),{signal:e}),t},sA=function(t,e){e.stopPropagation(),d(this,ag).dispatch("switchannotationeditorparams",{source:this,type:d(this,id),value:t})},rA=function(t){ln._keyboardManager.exec(this,t)},Ql=function(t){if(d(this,ge,Oo)){this.hideDropdown();return}if(T(this,sg,t.detail===0),d(this,el)||(T(this,el,new AbortController),window.addEventListener("pointerdown",R(this,ge,Hx).bind(this),{signal:d(this,Os).combinedSignal(d(this,el))})),d(this,ii)){d(this,ii).classList.remove("hidden");return}const e=T(this,ii,R(this,ge,nA).call(this));d(this,Ms).append(e)},Hx=function(t){var e;(e=d(this,ii))!=null&&e.contains(t.target)||this.hideDropdown()},Oo=function(){return d(this,ii)&&!d(this,ii).classList.contains("hidden")},O(ln,og,null);let Kv=ln;var nd,lg,va,Vc,sd,is,cg,ug,Gc,ks,Pi,hn,rd,ya,ni,ad,ns,hg,Ft,aA,Ev,Bx,zx,Vx,oA,Zl,as,rh,Gx,Sv,Hf,qx,Xx,Yx,$x,Kx;const ne=class ne extends he{constructor(e){super({...e,name:"highlightEditor"});O(this,Ft);O(this,nd,null);O(this,lg,0);O(this,va);O(this,Vc,null);O(this,sd,null);O(this,is,null);O(this,cg,null);O(this,ug,0);O(this,Gc,null);O(this,ks,null);O(this,Pi,null);O(this,hn,!1);O(this,rd,null);O(this,ya);O(this,ni,null);O(this,ad,"");O(this,ns);O(this,hg,"");this.color=e.color||ne._defaultColor,T(this,ns,e.thickness||ne._defaultThickness),T(this,ya,e.opacity||ne._defaultOpacity),T(this,va,e.boxes||null),T(this,hg,e.methodOfCreation||""),T(this,ad,e.text||""),this._isDraggable=!1,e.highlightId>-1?(T(this,hn,!0),R(this,Ft,Ev).call(this,e),R(this,Ft,Zl).call(this)):d(this,va)&&(T(this,nd,e.anchorNode),T(this,lg,e.anchorOffset),T(this,cg,e.focusNode),T(this,ug,e.focusOffset),R(this,Ft,aA).call(this),R(this,Ft,Zl).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const e=ne.prototype;return Kt(this,"_keyboardManager",new Eg([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:d(this,hn)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:d(this,ns),methodOfCreation:d(this,hg)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,n){var r;he.initialize(e,n),ne._defaultColor||(ne._defaultColor=((r=n.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(e,n){switch(e){case Lt.HIGHLIGHT_DEFAULT_COLOR:ne._defaultColor=n;break;case Lt.HIGHLIGHT_THICKNESS:ne._defaultThickness=n;break}}translateInPage(e,n){}get toolbarPosition(){return d(this,rd)}updateParams(e,n){switch(e){case Lt.HIGHLIGHT_COLOR:R(this,Ft,Bx).call(this,n);break;case Lt.HIGHLIGHT_THICKNESS:R(this,Ft,zx).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Lt.HIGHLIGHT_DEFAULT_COLOR,ne._defaultColor],[Lt.HIGHLIGHT_THICKNESS,ne._defaultThickness]]}get propertiesToUpdate(){return[[Lt.HIGHLIGHT_COLOR,this.color||ne._defaultColor],[Lt.HIGHLIGHT_THICKNESS,d(this,ns)||ne._defaultThickness],[Lt.HIGHLIGHT_FREE,d(this,hn)]]}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(T(this,sd,new Kv({editor:this})),e.addColorPicker(d(this,sd))),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(R(this,Ft,Hf).call(this))}getBaseTranslation(){return[0,0]}getRect(e,n){return super.getRect(e,n,R(this,Ft,Hf).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){R(this,Ft,oA).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(R(this,Ft,Zl).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var r;let n=!1;this.parent&&!e?R(this,Ft,oA).call(this):e&&(R(this,Ft,Zl).call(this,e),n=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),n&&this.select()}rotate(e){var l,c,h;const{drawLayer:n}=this.parent;let r;d(this,hn)?(e=(e-this.rotation+360)%360,r=R(l=ne,as,rh).call(l,d(this,ks).box,e)):r=R(c=ne,as,rh).call(c,this,e),n.rotate(d(this,Pi),e),n.rotate(d(this,ni),e),n.updateBox(d(this,Pi),r),n.updateBox(d(this,ni),R(h=ne,as,rh).call(h,d(this,is).box,e))}render(){if(this.div)return this.div;const e=super.render();d(this,ad)&&(e.setAttribute("aria-label",d(this,ad)),e.setAttribute("role","mark")),d(this,hn)?e.classList.add("free"):this.div.addEventListener("keydown",R(this,Ft,Gx).bind(this),{signal:this._uiManager._signal});const n=T(this,Gc,document.createElement("div"));e.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=d(this,Vc);const[r,l]=this.parentDimensions;return this.setDims(this.width*r,this.height*l),Xv(this,d(this,Gc),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent.drawLayer.addClass(d(this,ni),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(d(this,ni),"hovered")}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:R(this,Ft,Sv).call(this,!0);break;case 1:case 3:R(this,Ft,Sv).call(this,!1);break}}select(){var e,n;super.select(),d(this,ni)&&((e=this.parent)==null||e.drawLayer.removeClass(d(this,ni),"hovered"),(n=this.parent)==null||n.drawLayer.addClass(d(this,ni),"selected"))}unselect(){var e;super.unselect(),d(this,ni)&&((e=this.parent)==null||e.drawLayer.removeClass(d(this,ni),"selected"),d(this,hn)||R(this,Ft,Sv).call(this,!1))}get _mustFixPosition(){return!d(this,hn)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.show(d(this,Pi),e),this.parent.drawLayer.show(d(this,ni),e))}static startHighlighting(e,n,{target:r,x:l,y:c}){const{x:h,y:p,width:m,height:y}=r.getBoundingClientRect(),_=new AbortController,A=e.combinedSignal(_),S=M=>{M.preventDefault(),M.stopPropagation()},C=M=>{_.abort(),R(this,as,$x).call(this,e,M)};window.addEventListener("blur",C,{signal:A}),window.addEventListener("pointerup",C,{signal:A}),window.addEventListener("pointerdown",S,{capture:!0,passive:!1,signal:A}),window.addEventListener("contextmenu",cs,{signal:A}),r.addEventListener("pointermove",R(this,as,Yx).bind(this,e),{signal:A}),this._freeHighlight=new iA({x:l,y:c},[h,p,m,y],e.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(e,n,r){var M,j,P,z;let l=null;if(e instanceof _x){const{data:{quadPoints:G,rect:Y,rotation:W,id:X,color:L,opacity:D,popupRef:x},parent:{page:{pageNumber:I}}}=e;l=e={annotationType:jt.HIGHLIGHT,color:Array.from(L),opacity:D,quadPoints:G,boxes:null,pageIndex:I-1,rect:Y.slice(0),rotation:W,id:X,deleted:!1,popupRef:x}}else if(e instanceof cE){const{data:{inkLists:G,rect:Y,rotation:W,id:X,color:L,borderStyle:{rawWidth:D},popupRef:x},parent:{page:{pageNumber:I}}}=e;l=e={annotationType:jt.HIGHLIGHT,color:Array.from(L),thickness:D,inkLists:G,boxes:null,pageIndex:I-1,rect:Y.slice(0),rotation:W,id:X,deleted:!1,popupRef:x}}const{color:c,quadPoints:h,inkLists:p,opacity:m}=e,y=await super.deserialize(e,n,r);y.color=St.makeHexColor(...c),T(y,ya,m||1),p&&T(y,ns,e.thickness),y.annotationElementId=e.id||null,y._initialData=l;const[_,A]=y.pageDimensions,[S,C]=y.pageTranslation;if(h){const G=T(y,va,[]);for(let Y=0;Y<h.length;Y+=8)G.push({x:(h[Y]-S)/_,y:1-(h[Y+1]-C)/A,width:(h[Y+2]-h[Y])/_,height:(h[Y+1]-h[Y+5])/A});R(M=y,Ft,aA).call(M),R(j=y,Ft,Zl).call(j),y.rotate(y.rotation)}else if(p){T(y,hn,!0);const G=p[0],Y={x:G[0]-S,y:A-(G[1]-C)},W=new iA(Y,[0,0,_,A],1,d(y,ns)/2,!0,.001);for(let D=0,x=G.length;D<x;D+=2)Y.x=G[D]-S,Y.y=A-(G[D+1]-C),W.add(Y);const{id:X,clipPathId:L}=n.drawLayer.draw(W,y.color,y._defaultOpacity,!0);R(P=y,Ft,Ev).call(P,{highlightOutlines:W.getOutlines(),highlightId:X,clipPathId:L}),R(z=y,Ft,Zl).call(z)}return y}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const n=this.getRect(0,0),r=he._colorManager.convert(this.color),l={annotationType:jt.HIGHLIGHT,color:r,opacity:d(this,ya),thickness:d(this,ns),quadPoints:R(this,Ft,qx).call(this),outlines:R(this,Ft,Xx).call(this,n),pageIndex:this.pageIndex,rect:n,rotation:R(this,Ft,Hf).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!R(this,Ft,Kx).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};nd=new WeakMap,lg=new WeakMap,va=new WeakMap,Vc=new WeakMap,sd=new WeakMap,is=new WeakMap,cg=new WeakMap,ug=new WeakMap,Gc=new WeakMap,ks=new WeakMap,Pi=new WeakMap,hn=new WeakMap,rd=new WeakMap,ya=new WeakMap,ni=new WeakMap,ad=new WeakMap,ns=new WeakMap,hg=new WeakMap,Ft=new WeakSet,aA=function(){const e=new V1(d(this,va),.001);T(this,ks,e.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=d(this,ks).box;const n=new V1(d(this,va),.0025,.001,this._uiManager.direction==="ltr");T(this,is,n.getOutlines());const{lastPoint:r}=d(this,is).box;T(this,rd,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},Ev=function({highlightOutlines:e,highlightId:n,clipPathId:r}){var _,A;if(T(this,ks,e),T(this,is,e.getNewOutline(d(this,ns)/2+1.5,.0025)),n>=0)T(this,Pi,n),T(this,Vc,r),this.parent.drawLayer.finalizeLine(n,e),T(this,ni,this.parent.drawLayer.drawOutline(d(this,is)));else if(this.parent){const S=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(d(this,Pi),e),this.parent.drawLayer.updateBox(d(this,Pi),R(_=ne,as,rh).call(_,d(this,ks).box,(S-this.rotation+360)%360)),this.parent.drawLayer.updateLine(d(this,ni),d(this,is)),this.parent.drawLayer.updateBox(d(this,ni),R(A=ne,as,rh).call(A,d(this,is).box,S))}const{x:c,y:h,width:p,height:m}=e.box;switch(this.rotation){case 0:this.x=c,this.y=h,this.width=p,this.height=m;break;case 90:{const[S,C]=this.parentDimensions;this.x=h,this.y=1-c,this.width=p*C/S,this.height=m*S/C;break}case 180:this.x=1-c,this.y=1-h,this.width=p,this.height=m;break;case 270:{const[S,C]=this.parentDimensions;this.x=1-h,this.y=c,this.width=p*C/S,this.height=m*S/C;break}}const{lastPoint:y}=d(this,is).box;T(this,rd,[(y[0]-c)/p,(y[1]-h)/m])},Bx=function(e){const n=(c,h)=>{var p,m,y;this.color=c,(p=this.parent)==null||p.drawLayer.changeColor(d(this,Pi),c),(m=d(this,sd))==null||m.updateColor(c),T(this,ya,h),(y=this.parent)==null||y.drawLayer.changeOpacity(d(this,Pi),h)},r=this.color,l=d(this,ya);this.addCommands({cmd:n.bind(this,e,ne._defaultOpacity),undo:n.bind(this,r,l),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Lt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)},zx=function(e){const n=d(this,ns),r=l=>{T(this,ns,l),R(this,Ft,Vx).call(this,l)};this.addCommands({cmd:r.bind(this,e),undo:r.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Lt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)},Vx=function(e){if(!d(this,hn))return;R(this,Ft,Ev).call(this,{highlightOutlines:d(this,ks).getNewOutline(e/2)}),this.fixAndSetPosition();const[n,r]=this.parentDimensions;this.setDims(this.width*n,this.height*r)},oA=function(){d(this,Pi)===null||!this.parent||(this.parent.drawLayer.remove(d(this,Pi)),T(this,Pi,null),this.parent.drawLayer.remove(d(this,ni)),T(this,ni,null))},Zl=function(e=this.parent){d(this,Pi)===null&&({id:Xi(this,Pi)._,clipPathId:Xi(this,Vc)._}=e.drawLayer.draw(d(this,ks),this.color,d(this,ya)),T(this,ni,e.drawLayer.drawOutline(d(this,is))),d(this,Gc)&&(d(this,Gc).style.clipPath=d(this,Vc)))},as=new WeakSet,rh=function({x:e,y:n,width:r,height:l},c){switch(c){case 90:return{x:1-n-l,y:e,width:l,height:r};case 180:return{x:1-e-r,y:1-n-l,width:r,height:l};case 270:return{x:n,y:1-e-r,width:l,height:r}}return{x:e,y:n,width:r,height:l}},Gx=function(e){ne._keyboardManager.exec(this,e)},Sv=function(e){if(!d(this,nd))return;const n=window.getSelection();e?n.setPosition(d(this,nd),d(this,lg)):n.setPosition(d(this,cg),d(this,ug))},Hf=function(){return d(this,hn)?this.rotation:0},qx=function(){if(d(this,hn))return null;const[e,n]=this.pageDimensions,[r,l]=this.pageTranslation,c=d(this,va),h=new Float32Array(c.length*8);let p=0;for(const{x:m,y,width:_,height:A}of c){const S=m*e+r,C=(1-y-A)*n+l;h[p]=h[p+4]=S,h[p+1]=h[p+3]=C,h[p+2]=h[p+6]=S+_*e,h[p+5]=h[p+7]=C+A*n,p+=8}return h},Xx=function(e){return d(this,ks).serialize(e,R(this,Ft,Hf).call(this))},Yx=function(e,n){this._freeHighlight.add(n)&&e.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},$x=function(e,n){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},Kx=function(e){const{color:n}=this._initialData;return e.color.some((r,l)=>r!==n[l])},O(ne,as),kt(ne,"_defaultColor",null),kt(ne,"_defaultOpacity",1),kt(ne,"_defaultThickness",12),kt(ne,"_type","highlight"),kt(ne,"_editorType",jt.HIGHLIGHT),kt(ne,"_freeHighlightId",-1),kt(ne,"_freeHighlight",null),kt(ne,"_freeHighlightClipId","");let Wv=ne;var qc,Xc,fr,ba,ss,Yc,$c,Kc,_a,od,Wc,Qc,il,mt,Wx,Qx,Zx,Jx,cA,t2,uA,e2,i2,n2,s2,r2,Jl,hA,dA,fA,wv,Tv,ah,pA,Cv,Ba,a2,gA,o2,l2,mA,Rv,Bf;const Me=class Me extends he{constructor(e){super({...e,name:"inkEditor"});O(this,mt);O(this,qc,0);O(this,Xc,0);O(this,fr,null);O(this,ba,new Path2D);O(this,ss,!1);O(this,Yc,null);O(this,$c,!1);O(this,Kc,!1);O(this,_a,null);O(this,od,null);O(this,Wc,0);O(this,Qc,0);O(this,il,null);this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e,n){he.initialize(e,n)}static updateDefaultParams(e,n){switch(e){case Lt.INK_THICKNESS:Me._defaultThickness=n;break;case Lt.INK_COLOR:Me._defaultColor=n;break;case Lt.INK_OPACITY:Me._defaultOpacity=n/100;break}}updateParams(e,n){switch(e){case Lt.INK_THICKNESS:R(this,mt,Wx).call(this,n);break;case Lt.INK_COLOR:R(this,mt,Qx).call(this,n);break;case Lt.INK_OPACITY:R(this,mt,Zx).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Lt.INK_THICKNESS,Me._defaultThickness],[Lt.INK_COLOR,Me._defaultColor||he._defaultLineColor],[Lt.INK_OPACITY,Math.round(Me._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Lt.INK_THICKNESS,this.thickness||Me._defaultThickness],[Lt.INK_COLOR,this.color||Me._defaultColor||he._defaultLineColor],[Lt.INK_OPACITY,Math.round(100*(this.opacity??Me._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(R(this,mt,wv).call(this),R(this,mt,Tv).call(this)),this.isAttachedToDOM||(this.parent.add(this),R(this,mt,ah).call(this)),R(this,mt,Bf).call(this)))}remove(){var e;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,d(this,fr)&&(clearTimeout(d(this,fr)),T(this,fr,null)),(e=d(this,_a))==null||e.disconnect(),T(this,_a,null),super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&e===null&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){const[e,n]=this.parentDimensions,r=this.width*e,l=this.height*n;this.setDimensions(r,l)}enableEditMode(){d(this,ss)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,R(this,mt,hA).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),R(this,mt,dA).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){d(this,ss)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),T(this,ss,!0),this.div.classList.add("disabled"),R(this,mt,Bf).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}canvasPointerdown(e){e.button!==0||!this.isInEditMode()||d(this,ss)||(this.setInForeground(),e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),R(this,mt,t2).call(this,e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),R(this,mt,uA).call(this,e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),R(this,mt,fA).call(this,e)}canvasPointerleave(e){R(this,mt,fA).call(this,e)}get isResizable(){return!this.isEmpty()&&d(this,ss)}render(){if(this.div)return this.div;let e,n;this.width&&(e=this.x,n=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[r,l,c,h]=R(this,mt,Jx).call(this);if(this.setAt(r,l,0,0),this.setDims(c,h),R(this,mt,wv).call(this),this.width){const[p,m]=this.parentDimensions;this.setAspectRatio(this.width*p,this.height*m),this.setAt(e*p,n*m,this.width*p,this.height*m),T(this,Kc,!0),R(this,mt,ah).call(this),this.setDims(this.width*p,this.height*m),R(this,mt,Jl).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return R(this,mt,Tv).call(this),this.div}setDimensions(e,n){const r=Math.round(e),l=Math.round(n);if(d(this,Wc)===r&&d(this,Qc)===l)return;T(this,Wc,r),T(this,Qc,l),this.canvas.style.visibility="hidden";const[c,h]=this.parentDimensions;this.width=e/c,this.height=n/h,this.fixAndSetPosition(),d(this,ss)&&R(this,mt,pA).call(this,e,n),R(this,mt,ah).call(this),R(this,mt,Jl).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(e,n,r){var j,P,z;if(e instanceof cE)return null;const l=await super.deserialize(e,n,r);l.thickness=e.thickness,l.color=St.makeHexColor(...e.color),l.opacity=e.opacity;const[c,h]=l.pageDimensions,p=l.width*c,m=l.height*h,y=l.parentScale,_=e.thickness/2;T(l,ss,!0),T(l,Wc,Math.round(p)),T(l,Qc,Math.round(m));const{paths:A,rect:S,rotation:C}=e;for(let{bezier:G}of A){G=R(j=Me,Ba,o2).call(j,G,S,C);const Y=[];l.paths.push(Y);let W=y*(G[0]-_),X=y*(G[1]-_);for(let D=2,x=G.length;D<x;D+=6){const I=y*(G[D]-_),H=y*(G[D+1]-_),V=y*(G[D+2]-_),U=y*(G[D+3]-_),gt=y*(G[D+4]-_),At=y*(G[D+5]-_);Y.push([[W,X],[I,H],[V,U],[gt,At]]),W=gt,X=At}const L=R(this,Ba,a2).call(this,Y);l.bezierPath2D.push(L)}const M=R(P=l,mt,mA).call(P);return T(l,Xc,Math.max(he.MIN_SIZE,M[2]-M[0])),T(l,qc,Math.max(he.MIN_SIZE,M[3]-M[1])),R(z=l,mt,pA).call(z,p,m),l}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),n=he._colorManager.convert(this.ctx.strokeStyle);return{annotationType:jt.INK,color:n,thickness:this.thickness,opacity:this.opacity,paths:R(this,mt,l2).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};qc=new WeakMap,Xc=new WeakMap,fr=new WeakMap,ba=new WeakMap,ss=new WeakMap,Yc=new WeakMap,$c=new WeakMap,Kc=new WeakMap,_a=new WeakMap,od=new WeakMap,Wc=new WeakMap,Qc=new WeakMap,il=new WeakMap,mt=new WeakSet,Wx=function(e){const n=l=>{this.thickness=l,R(this,mt,Bf).call(this)},r=this.thickness;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Lt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Qx=function(e){const n=l=>{this.color=l,R(this,mt,Jl).call(this)},r=this.color;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Lt.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Zx=function(e){const n=l=>{this.opacity=l,R(this,mt,Jl).call(this)};e/=100;const r=this.opacity;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Lt.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Jx=function(){const{parentRotation:e,parentDimensions:[n,r]}=this;switch(e){case 90:return[0,r,r,n];case 180:return[n,r,n,r];case 270:return[n,0,r,n];default:return[0,0,n,r]}},cA=function(){const{ctx:e,color:n,opacity:r,thickness:l,parentScale:c,scaleFactor:h}=this;e.lineWidth=l*c/h,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle=`${n}${$I(r)}`},t2=function(e,n){this.canvas.addEventListener("contextmenu",cs,{signal:this._uiManager._signal}),R(this,mt,dA).call(this),T(this,Yc,new AbortController);const r=this._uiManager.combinedSignal(d(this,Yc));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:r}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:r}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:r}),this.isEditing=!0,d(this,Kc)||(T(this,Kc,!0),R(this,mt,ah).call(this),this.thickness||(this.thickness=Me._defaultThickness),this.color||(this.color=Me._defaultColor||he._defaultLineColor),this.opacity??(this.opacity=Me._defaultOpacity)),this.currentPath.push([e,n]),T(this,$c,!1),R(this,mt,cA).call(this),T(this,il,()=>{R(this,mt,n2).call(this),d(this,il)&&window.requestAnimationFrame(d(this,il))}),window.requestAnimationFrame(d(this,il))},uA=function(e,n){const[r,l]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===r&&n===l)return;const c=this.currentPath;let h=d(this,ba);if(c.push([e,n]),T(this,$c,!0),c.length<=2){h.moveTo(...c[0]),h.lineTo(e,n);return}c.length===3&&(T(this,ba,h=new Path2D),h.moveTo(...c[0])),R(this,mt,s2).call(this,h,...c.at(-3),...c.at(-2),e,n)},e2=function(){if(this.currentPath.length===0)return;const e=this.currentPath.at(-1);d(this,ba).lineTo(...e)},i2=function(e,n){T(this,il,null),e=Math.min(Math.max(e,0),this.canvas.width),n=Math.min(Math.max(n,0),this.canvas.height),R(this,mt,uA).call(this,e,n),R(this,mt,e2).call(this);let r;if(this.currentPath.length!==1)r=R(this,mt,r2).call(this);else{const m=[e,n];r=[[m,m.slice(),m.slice(),m]]}const l=d(this,ba),c=this.currentPath;this.currentPath=[],T(this,ba,new Path2D);const h=()=>{this.allRawPaths.push(c),this.paths.push(r),this.bezierPath2D.push(l),this._uiManager.rebuild(this)},p=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(R(this,mt,wv).call(this),R(this,mt,Tv).call(this)),R(this,mt,Bf).call(this))};this.addCommands({cmd:h,undo:p,mustExec:!0})},n2=function(){if(!d(this,$c))return;T(this,$c,!1);const e=Math.ceil(this.thickness*this.parentScale),n=this.currentPath.slice(-3),r=n.map(h=>h[0]),l=n.map(h=>h[1]);Math.min(...r)-e,Math.max(...r)+e,Math.min(...l)-e,Math.max(...l)+e;const{ctx:c}=this;c.save(),c.clearRect(0,0,this.canvas.width,this.canvas.height);for(const h of this.bezierPath2D)c.stroke(h);c.stroke(d(this,ba)),c.restore()},s2=function(e,n,r,l,c,h,p){const m=(n+l)/2,y=(r+c)/2,_=(l+h)/2,A=(c+p)/2;e.bezierCurveTo(m+2*(l-m)/3,y+2*(c-y)/3,_+2*(l-_)/3,A+2*(c-A)/3,_,A)},r2=function(){const e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];const n=[];let r,[l,c]=e[0];for(r=1;r<e.length-2;r++){const[S,C]=e[r],[M,j]=e[r+1],P=(S+M)/2,z=(C+j)/2,G=[l+2*(S-l)/3,c+2*(C-c)/3],Y=[P+2*(S-P)/3,z+2*(C-z)/3];n.push([[l,c],G,Y,[P,z]]),[l,c]=[P,z]}const[h,p]=e[r],[m,y]=e[r+1],_=[l+2*(h-l)/3,c+2*(p-c)/3],A=[m+2*(h-m)/3,y+2*(p-y)/3];return n.push([[l,c],_,A,[m,y]]),n},Jl=function(){if(this.isEmpty()){R(this,mt,Cv).call(this);return}R(this,mt,cA).call(this);const{canvas:e,ctx:n}=this;n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,e.width,e.height),R(this,mt,Cv).call(this);for(const r of this.bezierPath2D)n.stroke(r)},hA=function(){if(d(this,od))return;T(this,od,new AbortController);const e=this._uiManager.combinedSignal(d(this,od));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:e})},dA=function(){var e;(e=this.pointerdownAC)==null||e.abort(),this.pointerdownAC=null},fA=function(e){var n;(n=d(this,Yc))==null||n.abort(),T(this,Yc,null),R(this,mt,hA).call(this),d(this,fr)&&clearTimeout(d(this,fr)),T(this,fr,setTimeout(()=>{T(this,fr,null),this.canvas.removeEventListener("contextmenu",cs)},10)),R(this,mt,i2).call(this,e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()},wv=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Tv=function(){T(this,_a,new ResizeObserver(e=>{const n=e[0].contentRect;n.width&&n.height&&this.setDimensions(n.width,n.height)})),d(this,_a).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=d(this,_a))==null||e.disconnect(),T(this,_a,null)},{once:!0})},ah=function(){if(!d(this,Kc))return;const[e,n]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*n),R(this,mt,Cv).call(this)},pA=function(e,n){const r=R(this,mt,Rv).call(this),l=(e-r)/d(this,Xc),c=(n-r)/d(this,qc);this.scaleFactor=Math.min(l,c)},Cv=function(){const e=R(this,mt,Rv).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)},Ba=new WeakSet,a2=function(e){const n=new Path2D;for(let r=0,l=e.length;r<l;r++){const[c,h,p,m]=e[r];r===0&&n.moveTo(...c),n.bezierCurveTo(h[0],h[1],p[0],p[1],m[0],m[1])}return n},gA=function(e,n,r){const[l,c,h,p]=n;switch(r){case 0:for(let m=0,y=e.length;m<y;m+=2)e[m]+=l,e[m+1]=p-e[m+1];break;case 90:for(let m=0,y=e.length;m<y;m+=2){const _=e[m];e[m]=e[m+1]+l,e[m+1]=_+c}break;case 180:for(let m=0,y=e.length;m<y;m+=2)e[m]=h-e[m],e[m+1]+=c;break;case 270:for(let m=0,y=e.length;m<y;m+=2){const _=e[m];e[m]=h-e[m+1],e[m+1]=p-_}break;default:throw new Error("Invalid rotation")}return e},o2=function(e,n,r){const[l,c,h,p]=n;switch(r){case 0:for(let m=0,y=e.length;m<y;m+=2)e[m]-=l,e[m+1]=p-e[m+1];break;case 90:for(let m=0,y=e.length;m<y;m+=2){const _=e[m];e[m]=e[m+1]-c,e[m+1]=_-l}break;case 180:for(let m=0,y=e.length;m<y;m+=2)e[m]=h-e[m],e[m+1]-=c;break;case 270:for(let m=0,y=e.length;m<y;m+=2){const _=e[m];e[m]=p-e[m+1],e[m+1]=h-_}break;default:throw new Error("Invalid rotation")}return e},l2=function(e,n,r,l){var y,_;const c=[],h=this.thickness/2,p=e*n+h,m=e*r+h;for(const A of this.paths){const S=[],C=[];for(let M=0,j=A.length;M<j;M++){const[P,z,G,Y]=A[M];if(P[0]===Y[0]&&P[1]===Y[1]&&j===1){const U=e*P[0]+p,gt=e*P[1]+m;S.push(U,gt),C.push(U,gt);break}const W=e*P[0]+p,X=e*P[1]+m,L=e*z[0]+p,D=e*z[1]+m,x=e*G[0]+p,I=e*G[1]+m,H=e*Y[0]+p,V=e*Y[1]+m;M===0&&(S.push(W,X),C.push(W,X)),S.push(L,D,x,I,H,V),C.push(L,D),M===j-1&&C.push(H,V)}c.push({bezier:R(y=Me,Ba,gA).call(y,S,l,this.rotation),points:R(_=Me,Ba,gA).call(_,C,l,this.rotation)})}return c},mA=function(){let e=1/0,n=-1/0,r=1/0,l=-1/0;for(const c of this.paths)for(const[h,p,m,y]of c){const _=St.bezierBoundingBox(...h,...p,...m,...y);e=Math.min(e,_[0]),r=Math.min(r,_[1]),n=Math.max(n,_[2]),l=Math.max(l,_[3])}return[e,r,n,l]},Rv=function(){return d(this,ss)?Math.ceil(this.thickness*this.parentScale):0},Bf=function(e=!1){if(this.isEmpty())return;if(!d(this,ss)){R(this,mt,Jl).call(this);return}const n=R(this,mt,mA).call(this),r=R(this,mt,Rv).call(this);T(this,Xc,Math.max(he.MIN_SIZE,n[2]-n[0])),T(this,qc,Math.max(he.MIN_SIZE,n[3]-n[1]));const l=Math.ceil(r+d(this,Xc)*this.scaleFactor),c=Math.ceil(r+d(this,qc)*this.scaleFactor),[h,p]=this.parentDimensions;this.width=l/h,this.height=c/p,this.setAspectRatio(l,c);const m=this.translationX,y=this.translationY;this.translationX=-n[0],this.translationY=-n[1],R(this,mt,ah).call(this),R(this,mt,Jl).call(this),T(this,Wc,l),T(this,Qc,c),this.setDims(l,c);const _=e?r/this.scaleFactor/2:0;this.translate(m-this.translationX-_,y-this.translationY-_)},O(Me,Ba),kt(Me,"_defaultColor",null),kt(Me,"_defaultOpacity",1),kt(Me,"_defaultThickness",1),kt(Me,"_type","ink"),kt(Me,"_editorType",jt.INK);let lA=Me;var ke,Ci,nl,Aa,sl,ld,pr,Ea,gr,On,cd,Yt,zf,Vf,xv,yA,c2,Dv,bA,Mv,u2,h2;const Kf=class Kf extends he{constructor(e){super({...e,name:"stampEditor"});O(this,Yt);O(this,ke,null);O(this,Ci,null);O(this,nl,null);O(this,Aa,null);O(this,sl,null);O(this,ld,"");O(this,pr,null);O(this,Ea,null);O(this,gr,null);O(this,On,!1);O(this,cd,!1);T(this,Aa,e.bitmapUrl),T(this,sl,e.bitmapFile)}static initialize(e,n){he.initialize(e,n)}static get supportedTypes(){return Kt(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(n=>`image/${n}`))}static get supportedTypesStr(){return Kt(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,n){n.pasteEditor(jt.STAMP,{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!!((e=this.altTextData)!=null&&e.altText)}}static computeTelemetryFinalData(e){const n=e.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}async mlGuessAltText(e=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:l,width:c,height:h}=e||this.copyCanvas(null,null,!0).imageData,p=await r.guess({name:"altText",request:{data:l,width:c,height:h,channels:l.length/(c*h)}});if(!p)throw new Error("No response from the AI service.");if(p.error)throw new Error("Error from the AI service.");if(p.cancel)return null;if(!p.output)throw new Error("No valid response from the AI service.");const m=p.output;return await this.setGuessedAltText(m),n&&!this.hasAltTextData()&&(this.altTextData={alt:m,decorative:!1}),m}remove(){var e,n;d(this,Ci)&&(T(this,ke,null),this._uiManager.imageManager.deleteId(d(this,Ci)),(e=d(this,pr))==null||e.remove(),T(this,pr,null),(n=d(this,Ea))==null||n.disconnect(),T(this,Ea,null),d(this,gr)&&(clearTimeout(d(this,gr)),T(this,gr,null))),super.remove()}rebuild(){if(!this.parent){d(this,Ci)&&R(this,Yt,xv).call(this);return}super.rebuild(),this.div!==null&&(d(this,Ci)&&d(this,pr)===null&&R(this,Yt,xv).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(d(this,nl)||d(this,ke)||d(this,Aa)||d(this,sl)||d(this,Ci))}get isResizable(){return!0}render(){if(this.div)return this.div;let e,n;if(this.width&&(e=this.x,n=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),d(this,ke)?R(this,Yt,yA).call(this):R(this,Yt,xv).call(this),this.width&&!this.annotationElementId){const[r,l]=this.parentDimensions;this.setAt(e*r,n*l,this.width*r,this.height*l)}return this.div}copyCanvas(e,n,r=!1){var S;e||(e=224);const{width:l,height:c}=d(this,ke),h=new f_;let p=d(this,ke),m=l,y=c,_=null;if(n){if(l>n||c>n){const D=Math.min(n/l,n/c);m=Math.floor(l*D),y=Math.floor(c*D)}_=document.createElement("canvas");const C=_.width=Math.ceil(m*h.sx),M=_.height=Math.ceil(y*h.sy);d(this,On)||(p=R(this,Yt,Dv).call(this,C,M));const j=_.getContext("2d");j.filter=this._uiManager.hcmFilter;let P="white",z="#cfcfd8";this._uiManager.hcmFilter!=="none"?z="black":(S=window.matchMedia)!=null&&S.call(window,"(prefers-color-scheme: dark)").matches&&(P="#8f8f9d",z="#42414d");const G=15,Y=G*h.sx,W=G*h.sy,X=new OffscreenCanvas(Y*2,W*2),L=X.getContext("2d");L.fillStyle=P,L.fillRect(0,0,Y*2,W*2),L.fillStyle=z,L.fillRect(0,0,Y,W),L.fillRect(Y,W,Y,W),j.fillStyle=j.createPattern(X,"repeat"),j.fillRect(0,0,C,M),j.drawImage(p,0,0,p.width,p.height,0,0,C,M)}let A=null;if(r){let C,M;if(h.symmetric&&p.width<e&&p.height<e)C=p.width,M=p.height;else if(p=d(this,ke),l>e||c>e){const z=Math.min(e/l,e/c);C=Math.floor(l*z),M=Math.floor(c*z),d(this,On)||(p=R(this,Yt,Dv).call(this,C,M))}const P=new OffscreenCanvas(C,M).getContext("2d",{willReadFrequently:!0});P.drawImage(p,0,0,p.width,p.height,0,0,C,M),A={width:C,height:M,data:P.getImageData(0,0,C,M).data}}return{canvas:_,width:m,height:y,imageData:A}}getImageForAltText(){return d(this,pr)}static async deserialize(e,n,r){var M;let l=null;if(e instanceof Ax){const{data:{rect:j,rotation:P,id:z,structParent:G,popupRef:Y},container:W,parent:{page:{pageNumber:X}}}=e,L=W.querySelector("canvas"),D=r.imageManager.getFromCanvas(W.id,L);L.remove();const x=((M=await n._structTree.getAriaAttributes(`${ZA}${z}`))==null?void 0:M.get("aria-label"))||"";l=e={annotationType:jt.STAMP,bitmapId:D.id,bitmap:D.bitmap,pageIndex:X-1,rect:j.slice(0),rotation:P,id:z,deleted:!1,accessibilityData:{decorative:!1,altText:x},isSvg:!1,structParent:G,popupRef:Y}}const c=await super.deserialize(e,n,r),{rect:h,bitmap:p,bitmapUrl:m,bitmapId:y,isSvg:_,accessibilityData:A}=e;y&&r.imageManager.isValidId(y)?(T(c,Ci,y),p&&T(c,ke,p)):T(c,Aa,m),T(c,On,_);const[S,C]=c.pageDimensions;return c.width=(h[2]-h[0])/S,c.height=(h[3]-h[1])/C,c.annotationElementId=e.id||null,A&&(c.altTextData=A),c._initialData=l,T(c,cd,!!l),c}serialize(e=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r={annotationType:jt.STAMP,bitmapId:d(this,Ci),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:d(this,On),structTreeParentId:this._structTreeParentId};if(e)return r.bitmapUrl=R(this,Yt,Mv).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r;const{decorative:l,altText:c}=this.serializeAltText(!1);if(!l&&c&&(r.accessibilityData={type:"Figure",alt:c}),this.annotationElementId){const p=R(this,Yt,h2).call(this,r);if(p.isSame)return null;p.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1}if(r.id=this.annotationElementId,n===null)return r;n.stamps||(n.stamps=new Map);const h=d(this,On)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!n.stamps.has(d(this,Ci)))n.stamps.set(d(this,Ci),{area:h,serialized:r}),r.bitmap=R(this,Yt,Mv).call(this,!1);else if(d(this,On)){const p=n.stamps.get(d(this,Ci));h>p.area&&(p.area=h,p.serialized.bitmap.close(),p.serialized.bitmap=R(this,Yt,Mv).call(this,!1))}return r}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}};ke=new WeakMap,Ci=new WeakMap,nl=new WeakMap,Aa=new WeakMap,sl=new WeakMap,ld=new WeakMap,pr=new WeakMap,Ea=new WeakMap,gr=new WeakMap,On=new WeakMap,cd=new WeakMap,Yt=new WeakSet,zf=function(e,n=!1){if(!e){this.remove();return}T(this,ke,e.bitmap),n||(T(this,Ci,e.id),T(this,On,e.isSvg)),e.file&&T(this,ld,e.file.name),R(this,Yt,yA).call(this)},Vf=function(){if(T(this,nl,null),this._uiManager.enableWaiting(!1),!!d(this,pr)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&d(this,ke)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&d(this,ke)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},xv=function(){if(d(this,Ci)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(d(this,Ci)).then(r=>R(this,Yt,zf).call(this,r,!0)).finally(()=>R(this,Yt,Vf).call(this));return}if(d(this,Aa)){const r=d(this,Aa);T(this,Aa,null),this._uiManager.enableWaiting(!0),T(this,nl,this._uiManager.imageManager.getFromUrl(r).then(l=>R(this,Yt,zf).call(this,l)).finally(()=>R(this,Yt,Vf).call(this)));return}if(d(this,sl)){const r=d(this,sl);T(this,sl,null),this._uiManager.enableWaiting(!0),T(this,nl,this._uiManager.imageManager.getFromFile(r).then(l=>R(this,Yt,zf).call(this,l)).finally(()=>R(this,Yt,Vf).call(this)));return}const e=document.createElement("input");e.type="file",e.accept=Kf.supportedTypesStr;const n=this._uiManager._signal;T(this,nl,new Promise(r=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const l=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),R(this,Yt,zf).call(this,l)}r()},{signal:n}),e.addEventListener("cancel",()=>{this.remove(),r()},{signal:n})}).finally(()=>R(this,Yt,Vf).call(this))),e.click()},yA=function(){const{div:e}=this;let{width:n,height:r}=d(this,ke);const[l,c]=this.pageDimensions,h=.75;if(this.width)n=this.width*l,r=this.height*c;else if(n>h*l||r>h*c){const _=Math.min(h*l/n,h*c/r);n*=_,r*=_}const[p,m]=this.parentDimensions;this.setDims(n*p/l,r*m/c),this._uiManager.enableWaiting(!1);const y=T(this,pr,document.createElement("canvas"));y.setAttribute("role","img"),this.addContainer(y),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),R(this,Yt,bA).call(this,n,r),R(this,Yt,u2).call(this),d(this,cd)||(this.parent.addUndoableEditor(this),T(this,cd,!0)),this._reportTelemetry({action:"inserted_image"}),d(this,ld)&&y.setAttribute("aria-label",d(this,ld))},c2=function(e,n){var h;const[r,l]=this.parentDimensions;this.width=e/r,this.height=n/l,(h=this._initialOptions)!=null&&h.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,d(this,gr)!==null&&clearTimeout(d(this,gr)),T(this,gr,setTimeout(()=>{T(this,gr,null),R(this,Yt,bA).call(this,e,n)},200))},Dv=function(e,n){const{width:r,height:l}=d(this,ke);let c=r,h=l,p=d(this,ke);for(;c>2*e||h>2*n;){const m=c,y=h;c>2*e&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2)),h>2*n&&(h=h>=16384?Math.floor(h/2)-1:Math.ceil(h/2));const _=new OffscreenCanvas(c,h);_.getContext("2d").drawImage(p,0,0,m,y,0,0,c,h),p=_.transferToImageBitmap()}return p},bA=function(e,n){const r=new f_,l=Math.ceil(e*r.sx),c=Math.ceil(n*r.sy),h=d(this,pr);if(!h||h.width===l&&h.height===c)return;h.width=l,h.height=c;const p=d(this,On)?d(this,ke):R(this,Yt,Dv).call(this,l,c),m=h.getContext("2d");m.filter=this._uiManager.hcmFilter,m.drawImage(p,0,0,p.width,p.height,0,0,l,c)},Mv=function(e){if(e){if(d(this,On)){const l=this._uiManager.imageManager.getSvgUrl(d(this,Ci));if(l)return l}const n=document.createElement("canvas");return{width:n.width,height:n.height}=d(this,ke),n.getContext("2d").drawImage(d(this,ke),0,0),n.toDataURL()}if(d(this,On)){const[n,r]=this.pageDimensions,l=Math.round(this.width*n*hl.PDF_TO_CSS_UNITS),c=Math.round(this.height*r*hl.PDF_TO_CSS_UNITS),h=new OffscreenCanvas(l,c);return h.getContext("2d").drawImage(d(this,ke),0,0,d(this,ke).width,d(this,ke).height,0,0,l,c),h.transferToImageBitmap()}return structuredClone(d(this,ke))},u2=function(){this._uiManager._signal&&(T(this,Ea,new ResizeObserver(e=>{const n=e[0].contentRect;n.width&&n.height&&R(this,Yt,c2).call(this,n.width,n.height)})),d(this,Ea).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=d(this,Ea))==null||e.disconnect(),T(this,Ea,null)},{once:!0}))},h2=function(e){var m;const{rect:n,pageIndex:r,accessibilityData:{altText:l}}=this._initialData,c=e.rect.every((y,_)=>Math.abs(y-n[_])<1),h=e.pageIndex===r,p=(((m=e.accessibilityData)==null?void 0:m.alt)||"")===l;return{isSame:c&&h&&p,isSameAltText:p}},kt(Kf,"_type","stamp"),kt(Kf,"_editorType",jt.STAMP);let vA=Kf;var Zc,ud,mr,rl,Sa,kn,al,hd,dd,Fi,wa,Ct,ol,Ri,d2,AA,EA,SA,Ov;const ys=class ys{constructor({uiManager:t,pageIndex:e,div:n,structTreeLayer:r,accessibilityManager:l,annotationLayer:c,drawLayer:h,textLayer:p,viewport:m,l10n:y}){O(this,Ri);O(this,Zc);O(this,ud,!1);O(this,mr,null);O(this,rl,null);O(this,Sa,null);O(this,kn,new Map);O(this,al,!1);O(this,hd,!1);O(this,dd,!1);O(this,Fi,null);O(this,wa,null);O(this,Ct);const _=[...d(ys,ol).values()];if(!ys._initialized){ys._initialized=!0;for(const A of _)A.initialize(y,t)}t.registerEditorTypes(_),T(this,Ct,t),this.pageIndex=e,this.div=n,T(this,Zc,l),T(this,mr,c),this.viewport=m,T(this,Fi,p),this.drawLayer=h,this._structTree=r,d(this,Ct).addLayer(this)}get isEmpty(){return d(this,kn).size===0}get isInvisible(){return this.isEmpty&&d(this,Ct).getMode()===jt.NONE}updateToolbar(t){d(this,Ct).updateToolbar(t)}updateMode(t=d(this,Ct).getMode()){switch(R(this,Ri,Ov).call(this),t){case jt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case jt.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case jt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const n of d(ys,ol).values())e.toggle(`${n._type}Editing`,t===n._editorType);this.div.hidden=!1}hasTextLayer(t){var e;return t===((e=d(this,Fi))==null?void 0:e.div)}addInkEditorIfNeeded(t){if(d(this,Ct).getMode()!==jt.INK)return;if(!t){for(const n of d(this,kn).values())if(n.isEmpty()){n.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(t){d(this,Ct).setEditingState(t)}addCommands(t){d(this,Ct).addCommands(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var e;(e=d(this,mr))==null||e.div.classList.toggle("disabled",!t)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const n of d(this,kn).values())n.enableEditing(),n.show(!0),n.annotationElementId&&(d(this,Ct).removeChangedExistingAnnotation(n),t.add(n.annotationElementId));if(!d(this,mr))return;const e=d(this,mr).getEditableAnnotations();for(const n of e){if(n.hide(),d(this,Ct).isDeletedAnnotationElement(n.data.id)||t.has(n.data.id))continue;const r=await this.deserialize(n);r&&(this.addOrRebuild(r),r.enableEditing())}}disable(){var r;T(this,dd,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,e=new Map;for(const l of d(this,kn).values())if(l.disableEditing(),!!l.annotationElementId){if(l.serialize()!==null){t.set(l.annotationElementId,l);continue}else e.set(l.annotationElementId,l);(r=this.getEditableAnnotation(l.annotationElementId))==null||r.show(),l.remove()}if(d(this,mr)){const l=d(this,mr).getEditableAnnotations();for(const c of l){const{id:h}=c.data;if(d(this,Ct).isDeletedAnnotationElement(h))continue;let p=e.get(h);if(p){p.resetAnnotationElement(c),p.show(!1),c.show();continue}p=t.get(h),p&&(d(this,Ct).addChangedExistingAnnotation(p),p.renderAnnotationElement(c)&&p.show(!1)),c.show()}}R(this,Ri,Ov).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const l of d(ys,ol).values())n.remove(`${l._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),T(this,dd,!1)}getEditableAnnotation(t){var e;return((e=d(this,mr))==null?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){d(this,Ct).getActive()!==t&&d(this,Ct).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,(t=d(this,Fi))!=null&&t.div&&!d(this,wa)){T(this,wa,new AbortController);const e=d(this,Ct).combinedSignal(d(this,wa));d(this,Fi).div.addEventListener("pointerdown",R(this,Ri,d2).bind(this),{signal:e}),d(this,Fi).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,(t=d(this,Fi))!=null&&t.div&&d(this,wa)&&(d(this,wa).abort(),T(this,wa,null),d(this,Fi).div.classList.remove("highlighting"))}enableClick(){if(d(this,rl))return;T(this,rl,new AbortController);const t=d(this,Ct).combinedSignal(d(this,rl));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:t})}disableClick(){var t;(t=d(this,rl))==null||t.abort(),T(this,rl,null)}attach(t){d(this,kn).set(t.id,t);const{annotationElementId:e}=t;e&&d(this,Ct).isDeletedAnnotationElement(e)&&d(this,Ct).removeDeletedAnnotationElement(t)}detach(t){var e;d(this,kn).delete(t.id),(e=d(this,Zc))==null||e.removePointerInTextLayer(t.contentDiv),!d(this,dd)&&t.annotationElementId&&d(this,Ct).addDeletedAnnotationElement(t)}remove(t){this.detach(t),d(this,Ct).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1,d(this,hd)||this.addInkEditorIfNeeded(!1)}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(d(this,Ct).addDeletedAnnotationElement(t.annotationElementId),he.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(e=t.parent)==null||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),d(this,Ct).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),d(this,Ct).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var n;if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!d(this,Sa)&&(t._focusEventsAllowed=!1,T(this,Sa,setTimeout(()=>{T(this,Sa,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:d(this,Ct)._signal}),e.focus())},0))),t._structTreeParentId=(n=d(this,Zc))==null?void 0:n.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),n=()=>{t.remove()};this.addCommands({cmd:e,undo:n,mustExec:!1})}getNextId(){return d(this,Ct).getId()}combinedSignal(t){return d(this,Ct).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return(t=d(this,Ri,AA))==null?void 0:t.canCreateNewEmptyEditor()}pasteEditor(t,e){d(this,Ct).updateToolbar(t),d(this,Ct).updateMode(t);const{offsetX:n,offsetY:r}=R(this,Ri,SA).call(this),l=this.getNextId(),c=R(this,Ri,EA).call(this,{parent:this,id:l,x:n,y:r,uiManager:d(this,Ct),isCentered:!0,...e});c&&this.add(c)}async deserialize(t){var e;return await((e=d(ys,ol).get(t.annotationType??t.annotationEditorType))==null?void 0:e.deserialize(t,this,d(this,Ct)))||null}createAndAddNewEditor(t,e,n={}){const r=this.getNextId(),l=R(this,Ri,EA).call(this,{parent:this,id:r,x:t.offsetX,y:t.offsetY,uiManager:d(this,Ct),isCentered:e,...n});return l&&this.add(l),l}addNewEditor(){this.createAndAddNewEditor(R(this,Ri,SA).call(this),!0)}setSelected(t){d(this,Ct).setSelected(t)}toggleSelected(t){d(this,Ct).toggleSelected(t)}unselect(t){d(this,Ct).unselect(t)}pointerup(t){const{isMac:e}=Qi.platform;if(!(t.button!==0||t.ctrlKey&&e)&&t.target===this.div&&d(this,al)){if(T(this,al,!1),!d(this,ud)){T(this,ud,!0);return}if(d(this,Ct).getMode()===jt.STAMP){d(this,Ct).unselectAll();return}this.createAndAddNewEditor(t,!1)}}pointerdown(t){if(d(this,Ct).getMode()===jt.HIGHLIGHT&&this.enableTextSelection(),d(this,al)){T(this,al,!1);return}const{isMac:e}=Qi.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;T(this,al,!0);const n=d(this,Ct).getActive();T(this,ud,!n||n.isEmpty())}findNewParent(t,e,n){const r=d(this,Ct).findParent(e,n);return r===null||r===this?!1:(r.changeParent(t),!0)}destroy(){var t,e;((t=d(this,Ct).getActive())==null?void 0:t.parent)===this&&(d(this,Ct).commitOrRemove(),d(this,Ct).setActiveEditor(null)),d(this,Sa)&&(clearTimeout(d(this,Sa)),T(this,Sa,null));for(const n of d(this,kn).values())(e=d(this,Zc))==null||e.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,d(this,kn).clear(),d(this,Ct).removeLayer(this)}render({viewport:t}){this.viewport=t,iu(this.div,t);for(const e of d(this,Ct).getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){d(this,Ct).commitOrRemove(),R(this,Ri,Ov).call(this);const e=this.viewport.rotation,n=t.rotation;if(this.viewport=t,iu(this.div,{rotation:n}),e!==n)for(const r of d(this,kn).values())r.rotate(n);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return d(this,Ct).viewParameters.realScale}};Zc=new WeakMap,ud=new WeakMap,mr=new WeakMap,rl=new WeakMap,Sa=new WeakMap,kn=new WeakMap,al=new WeakMap,hd=new WeakMap,dd=new WeakMap,Fi=new WeakMap,wa=new WeakMap,Ct=new WeakMap,ol=new WeakMap,Ri=new WeakSet,d2=function(t){d(this,Ct).unselectAll();const{target:e}=t;if(e===d(this,Fi).div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&d(this,Fi).div.contains(e)){const{isMac:n}=Qi.platform;if(t.button!==0||t.ctrlKey&&n)return;d(this,Ct).showAllEditors("highlight",!0,!0),d(this,Fi).div.classList.add("free"),this.toggleDrawing(),Wv.startHighlighting(this,d(this,Ct).direction==="ltr",{target:d(this,Fi).div,x:t.x,y:t.y}),d(this,Fi).div.addEventListener("pointerup",()=>{d(this,Fi).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:d(this,Ct)._signal}),t.preventDefault()}},AA=function(){return d(ys,ol).get(d(this,Ct).getMode())},EA=function(t){const e=d(this,Ri,AA);return e?new e.prototype.constructor(t):null},SA=function(){const{x:t,y:e,width:n,height:r}=this.div.getBoundingClientRect(),l=Math.max(0,t),c=Math.max(0,e),h=Math.min(window.innerWidth,t+n),p=Math.min(window.innerHeight,e+r),m=(l+h)/2-t,y=(c+p)/2-e,[_,A]=this.viewport.rotation%180===0?[m,y]:[y,m];return{offsetX:_,offsetY:A}},Ov=function(){T(this,hd,!0);for(const t of d(this,kn).values())t.isEmpty()&&t.remove();T(this,hd,!1)},kt(ys,"_initialized",!1),O(ys,ol,new Map([J_,lA,vA,Wv].map(t=>[t._editorType,t])));let _A=ys;var vr,dg,We,Ta,fg,TA,ou,CA,f2;const Si=class Si{constructor({pageIndex:t}){O(this,ou);O(this,vr,null);O(this,dg,0);O(this,We,new Map);O(this,Ta,new Map);this.pageIndex=t}setParent(t){if(!d(this,vr)){T(this,vr,t);return}if(d(this,vr)!==t){if(d(this,We).size>0)for(const e of d(this,We).values())e.remove(),t.append(e);T(this,vr,t)}}static get _svgFactory(){return Kt(this,"_svgFactory",new lE)}draw(t,e,n,r=!1){const l=Xi(this,dg)._++,c=R(this,ou,CA).call(this,t.box);c.classList.add(...t.classNamesForDrawing);const h=Si._svgFactory.createElement("defs");c.append(h);const p=Si._svgFactory.createElement("path");h.append(p);const m=`path_p${this.pageIndex}_${l}`;p.setAttribute("id",m),p.setAttribute("d",t.toSVGPath()),r&&d(this,Ta).set(l,p);const y=R(this,ou,f2).call(this,h,m),_=Si._svgFactory.createElement("use");return c.append(_),c.setAttribute("fill",e),c.setAttribute("fill-opacity",n),_.setAttribute("href",`#${m}`),d(this,We).set(l,c),{id:l,clipPathId:`url(#${y})`}}drawOutline(t){const e=Xi(this,dg)._++,n=R(this,ou,CA).call(this,t.box);n.classList.add(...t.classNamesForOutlining);const r=Si._svgFactory.createElement("defs");n.append(r);const l=Si._svgFactory.createElement("path");r.append(l);const c=`path_p${this.pageIndex}_${e}`;l.setAttribute("id",c),l.setAttribute("d",t.toSVGPath()),l.setAttribute("vector-effect","non-scaling-stroke");let h;if(t.mustRemoveSelfIntersections){const y=Si._svgFactory.createElement("mask");r.append(y),h=`mask_p${this.pageIndex}_${e}`,y.setAttribute("id",h),y.setAttribute("maskUnits","objectBoundingBox");const _=Si._svgFactory.createElement("rect");y.append(_),_.setAttribute("width","1"),_.setAttribute("height","1"),_.setAttribute("fill","white");const A=Si._svgFactory.createElement("use");y.append(A),A.setAttribute("href",`#${c}`),A.setAttribute("stroke","none"),A.setAttribute("fill","black"),A.setAttribute("fill-rule","nonzero"),A.classList.add("mask")}const p=Si._svgFactory.createElement("use");n.append(p),p.setAttribute("href",`#${c}`),h&&p.setAttribute("mask",`url(#${h})`);const m=p.cloneNode();return n.append(m),p.classList.add("mainOutline"),m.classList.add("secondaryOutline"),d(this,We).set(e,n),e}finalizeLine(t,e){const n=d(this,Ta).get(t);d(this,Ta).delete(t),this.updateBox(t,e.box),n.setAttribute("d",e.toSVGPath())}updateLine(t,e){d(this,We).get(t).firstChild.firstChild.setAttribute("d",e.toSVGPath())}updatePath(t,e){d(this,Ta).get(t).setAttribute("d",e.toSVGPath())}updateBox(t,e){var n;R(n=Si,fg,TA).call(n,d(this,We).get(t),e)}show(t,e){d(this,We).get(t).classList.toggle("hidden",!e)}rotate(t,e){d(this,We).get(t).setAttribute("data-main-rotation",e)}changeColor(t,e){d(this,We).get(t).setAttribute("fill",e)}changeOpacity(t,e){d(this,We).get(t).setAttribute("fill-opacity",e)}addClass(t,e){d(this,We).get(t).classList.add(e)}removeClass(t,e){d(this,We).get(t).classList.remove(e)}getSVGRoot(t){return d(this,We).get(t)}remove(t){d(this,Ta).delete(t),d(this,vr)!==null&&(d(this,We).get(t).remove(),d(this,We).delete(t))}destroy(){T(this,vr,null);for(const t of d(this,We).values())t.remove();d(this,We).clear(),d(this,Ta).clear()}};vr=new WeakMap,dg=new WeakMap,We=new WeakMap,Ta=new WeakMap,fg=new WeakSet,TA=function(t,{x:e=0,y:n=0,width:r=1,height:l=1}={}){const{style:c}=t;c.top=`${100*n}%`,c.left=`${100*e}%`,c.width=`${100*r}%`,c.height=`${100*l}%`},ou=new WeakSet,CA=function(t){var n;const e=Si._svgFactory.create(1,1,!0);return d(this,vr).append(e),e.setAttribute("aria-hidden",!0),R(n=Si,fg,TA).call(n,e,t),e},f2=function(t,e){const n=Si._svgFactory.createElement("clipPath");t.append(n);const r=`clip_${e}`;n.setAttribute("id",r),n.setAttribute("clipPathUnits","objectBoundingBox");const l=Si._svgFactory.createElement("use");return n.append(l),l.setAttribute("href",`#${e}`),l.classList.add("clip"),r},O(Si,fg);let wA=Si;var R4=It.AbortException,x4=It.AnnotationEditorLayer,D4=It.AnnotationEditorParamsType,M4=It.AnnotationEditorType,O4=It.AnnotationEditorUIManager,p2=It.AnnotationLayer,g2=It.AnnotationMode,k4=It.ColorPicker,L4=It.DOMSVGFactory,N4=It.DrawLayer,I4=It.FeatureTest,uE=It.GlobalWorkerOptions,P4=It.ImageKind,F4=It.InvalidPDFException,U4=It.MissingPDFException,j4=It.OPS,H4=It.OutputScale,B4=It.PDFDataRangeTransport,z4=It.PDFDateString,V4=It.PDFWorker,G4=It.PasswordResponses,q4=It.PermissionFlag,X4=It.PixelsPerInch,Y4=It.RenderingCancelledException,m2=It.TextLayer,$4=It.UnexpectedResponseException,K4=It.Util,W4=It.VerbosityLevel,Q4=It.XfaLayer,Z4=It.build,J4=It.createValidAbsoluteUrl,tF=It.fetchData,v2=It.getDocument,eF=It.getFilenameFromUrl,iF=It.getPdfFilenameFromUrl,nF=It.getXfaPageViewport,sF=It.isDataScheme,rF=It.isPdfFile,aF=It.noContextMenu,oF=It.normalizeUnicode,lF=It.setLayerDimensions,cF=It.shadow,y2=It.version;const uF=Object.freeze(Object.defineProperty({__proto__:null,AbortException:R4,AnnotationEditorLayer:x4,AnnotationEditorParamsType:D4,AnnotationEditorType:M4,AnnotationEditorUIManager:O4,AnnotationLayer:p2,AnnotationMode:g2,ColorPicker:k4,DOMSVGFactory:L4,DrawLayer:N4,FeatureTest:I4,GlobalWorkerOptions:uE,ImageKind:P4,InvalidPDFException:F4,MissingPDFException:U4,OPS:j4,OutputScale:H4,PDFDataRangeTransport:B4,PDFDateString:z4,PDFWorker:V4,PasswordResponses:G4,PermissionFlag:q4,PixelsPerInch:X4,RenderingCancelledException:Y4,TextLayer:m2,UnexpectedResponseException:$4,Util:K4,VerbosityLevel:W4,XfaLayer:Q4,build:Z4,createValidAbsoluteUrl:J4,fetchData:tF,getDocument:v2,getFilenameFromUrl:eF,getPdfFilenameFromUrl:iF,getXfaPageViewport:nF,isDataScheme:sF,isPdfFile:rF,noContextMenu:aF,normalizeUnicode:oF,setLayerDimensions:lF,shadow:cF,version:y2},Symbol.toStringTag,{value:"Module"}));var pi=function(o,t,e){if(e||arguments.length===2)for(var n=0,r=t.length,l;n<r;n++)(l||!(n in t))&&(l||(l=Array.prototype.slice.call(t,0,n)),l[n]=t[n]);return o.concat(l||Array.prototype.slice.call(t))},hF=["onCopy","onCut","onPaste"],dF=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],fF=["onFocus","onBlur"],pF=["onInput","onInvalid","onReset","onSubmit"],gF=["onLoad","onError"],mF=["onKeyDown","onKeyPress","onKeyUp"],vF=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],yF=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],bF=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],_F=["onSelect"],AF=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],EF=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],SF=["onScroll"],wF=["onWheel"],TF=["onAnimationStart","onAnimationEnd","onAnimationIteration"],CF=["onTransitionEnd"],RF=["onToggle"],xF=["onChange"],DF=pi(pi(pi(pi(pi(pi(pi(pi(pi(pi(pi(pi(pi(pi(pi(pi(pi(pi([],hF,!0),dF,!0),fF,!0),pF,!0),gF,!0),mF,!0),vF,!0),yF,!0),bF,!0),_F,!0),AF,!0),EF,!0),SF,!0),wF,!0),TF,!0),CF,!0),xF,!0),RF,!0);function b2(o,t){var e={};return DF.forEach(function(n){var r=o[n];r&&(t?e[n]=function(l){return r(l,t(n))}:e[n]=r)}),e}function wg(o){var t=!1,e=new Promise(function(n,r){o.then(function(l){return!t&&n(l)}).catch(function(l){return!t&&r(l)})});return{promise:e,cancel:function(){t=!0}}}function _2(o){var t,e,n="";if(typeof o=="string"||typeof o=="number")n+=o;else if(typeof o=="object")if(Array.isArray(o)){var r=o.length;for(t=0;t<r;t++)o[t]&&(e=_2(o[t]))&&(n&&(n+=" "),n+=e)}else for(e in o)o[e]&&(n&&(n+=" "),n+=e);return n}function Cy(){for(var o,t,e=0,n="",r=arguments.length;e<r;e++)(o=arguments[e])&&(t=_2(o))&&(n&&(n+=" "),n+=t);return n}var MF="Invariant failed";function ye(o,t){if(!o)throw new Error(MF)}var J0,G1;function OF(){if(G1)return J0;G1=1;var o=function(){};return J0=o,J0}var kF=OF();const Ui=MA(kF);var q1=Object.prototype.hasOwnProperty;function X1(o,t,e){for(e of o.keys())if(fh(e,t))return e}function fh(o,t){var e,n,r;if(o===t)return!0;if(o&&t&&(e=o.constructor)===t.constructor){if(e===Date)return o.getTime()===t.getTime();if(e===RegExp)return o.toString()===t.toString();if(e===Array){if((n=o.length)===t.length)for(;n--&&fh(o[n],t[n]););return n===-1}if(e===Set){if(o.size!==t.size)return!1;for(n of o)if(r=n,r&&typeof r=="object"&&(r=X1(t,r),!r)||!t.has(r))return!1;return!0}if(e===Map){if(o.size!==t.size)return!1;for(n of o)if(r=n[0],r&&typeof r=="object"&&(r=X1(t,r),!r)||!fh(n[1],t.get(r)))return!1;return!0}if(e===ArrayBuffer)o=new Uint8Array(o),t=new Uint8Array(t);else if(e===DataView){if((n=o.byteLength)===t.byteLength)for(;n--&&o.getInt8(n)===t.getInt8(n););return n===-1}if(ArrayBuffer.isView(o)){if((n=o.byteLength)===t.byteLength)for(;n--&&o[n]===t[n];);return n===-1}if(!e||typeof o=="object"){n=0;for(e in o)if(q1.call(o,e)&&++n&&!q1.call(t,e)||!(e in t)||!fh(o[e],t[e]))return!1;return Object.keys(t).length===n}}return o!==o&&t!==t}const A2=rt.createContext(null);function ph({children:o,type:t}){return F.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:o})}const LF="noopener noreferrer nofollow";class NF{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return ye(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){ye(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}goToDestination(t){return new Promise(e=>{ye(this.pdfDocument),ye(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{ye(Array.isArray(e));const n=e[0];new Promise(r=>{ye(this.pdfDocument),n instanceof Object?this.pdfDocument.getPageIndex(n).then(l=>{r(l)}).catch(()=>{ye(!1)}):typeof n=="number"?r(n):ye(!1)}).then(r=>{const l=r+1;ye(this.pdfViewer),ye(l>=1&&l<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:r,pageNumber:l})})})}navigateTo(t){this.goToDestination(t)}goToPage(t){const e=t-1;ye(this.pdfViewer),ye(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}addLinkAttributes(t,e,n){t.href=e,t.rel=this.externalLinkRel||LF,t.target=n?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const Y1={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},Ry=typeof window<"u",E2=Ry&&window.location.protocol==="file:";function IF(o){return typeof o<"u"}function $l(o){return IF(o)&&o!==null}function PF(o){return typeof o=="string"}function FF(o){return o instanceof ArrayBuffer}function UF(o){return ye(Ry),o instanceof Blob}function RA(o){return PF(o)&&/^data:/.test(o)}function $1(o){ye(RA(o));const[t="",e=""]=o.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function jF(){return Ry&&window.devicePixelRatio||1}const S2="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function K1(){Ui(!E2,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${S2}`)}function HF(){Ui(!E2,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${S2}`)}function ru(o){o!=null&&o.cancel&&o.cancel()}function xA(o,t){return Object.defineProperty(o,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(o,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(o,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(o,"originalHeight",{get(){return this.view[3]},configurable:!0}),o}function BF(o){return o.name==="RenderingCancelledException"}function zF(o){return new Promise((t,e)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return e(new Error("Error while reading a file."));t(n.result)},n.onerror=r=>{if(!r.target)return e(new Error("Error while reading a file."));const{error:l}=r.target;if(!l)return e(new Error("Error while reading a file."));switch(l.code){case l.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case l.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case l.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},n.readAsArrayBuffer(o)})}function VF(o,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return o}}function gd(){return rt.useReducer(VF,{value:void 0,error:void 0})}var GF=function(o,t,e,n){function r(l){return l instanceof e?l:new e(function(c){c(l)})}return new(e||(e=Promise))(function(l,c){function h(y){try{m(n.next(y))}catch(_){c(_)}}function p(y){try{m(n.throw(y))}catch(_){c(_)}}function m(y){y.done?l(y.value):r(y.value).then(h,p)}m((n=n.apply(o,t||[])).next())})},W1=function(o,t){var e={};for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&t.indexOf(n)<0&&(e[n]=o[n]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(o);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(o,n[r])&&(e[n[r]]=o[n[r]]);return e};const{PDFDataRangeTransport:qF}=uF,XF=(o,t)=>{switch(t){case Y1.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");o(e);break}case Y1.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");o(e);break}}};function Q1(o){return typeof o=="object"&&o!==null&&("data"in o||"range"in o||"url"in o)}const YF=rt.forwardRef(function(t,e){var{children:n,className:r,error:l="Failed to load PDF file.",externalLinkRel:c,externalLinkTarget:h,file:p,inputRef:m,imageResourcesPath:y,loading:_="Loading PDF…",noData:A="No PDF file specified.",onItemClick:S,onLoadError:C,onLoadProgress:M,onLoadSuccess:j,onPassword:P=XF,onSourceError:z,onSourceSuccess:G,options:Y,renderMode:W,rotate:X}=t,L=W1(t,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[D,x]=gd(),{value:I,error:H}=D,[V,U]=gd(),{value:gt,error:At}=V,st=rt.useRef(new NF),at=rt.useRef([]),ct=rt.useRef(void 0),Ot=rt.useRef(void 0);p&&p!==ct.current&&Q1(p)&&(Ui(!fh(p,ct.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),ct.current=p),Y&&Y!==Ot.current&&(Ui(!fh(Y,Ot.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),Ot.current=Y);const q=rt.useRef({scrollPageIntoView:Bt=>{const{dest:oe,pageNumber:Ee,pageIndex:de=Ee-1}=Bt;if(S){S({dest:oe,pageIndex:de,pageNumber:Ee});return}const Pn=at.current[de];if(Pn){Pn.scrollIntoView();return}Ui(!1,`An internal link leading to page ${Ee} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});rt.useImperativeHandle(e,()=>({linkService:st,pages:at,viewer:q}),[]);function ot(){G&&G()}function pt(){H&&(Ui(!1,H.toString()),z&&z(H))}function ht(){x({type:"RESET"})}rt.useEffect(ht,[p,x]);const ft=rt.useCallback(()=>GF(this,void 0,void 0,function*(){if(!p)return null;if(typeof p=="string")return RA(p)?{data:$1(p)}:(K1(),{url:p});if(p instanceof qF)return{range:p};if(FF(p))return{data:p};if(Ry&&UF(p))return{data:yield zF(p)};if(ye(typeof p=="object"),ye(Q1(p)),"url"in p&&typeof p.url=="string"){if(RA(p.url)){const{url:Bt}=p,oe=W1(p,["url"]),Ee=$1(Bt);return Object.assign({data:Ee},oe)}K1()}return p}),[p]);rt.useEffect(()=>{const Bt=wg(ft());return Bt.promise.then(oe=>{x({type:"RESOLVE",value:oe})}).catch(oe=>{x({type:"REJECT",error:oe})}),()=>{ru(Bt)}},[ft,x]),rt.useEffect(()=>{if(!(typeof I>"u")){if(I===!1){pt();return}ot()}},[I]);function Rt(){gt&&(j&&j(gt),at.current=new Array(gt.numPages),st.current.setDocument(gt))}function _t(){At&&(Ui(!1,At.toString()),C&&C(At))}rt.useEffect(function(){U({type:"RESET"})},[U,I]),rt.useEffect(function(){if(!I)return;const oe=Y?Object.assign(Object.assign({},I),Y):I,Ee=v2(oe);M&&(Ee.onProgress=M),P&&(Ee.onPassword=P);const de=Ee,Pn=de.promise.then(Fn=>{U({type:"RESOLVE",value:Fn})}).catch(Fn=>{de.destroyed||U({type:"REJECT",error:Fn})});return()=>{Pn.finally(()=>de.destroy())}},[Y,U,I]),rt.useEffect(()=>{if(!(typeof gt>"u")){if(gt===!1){_t();return}Rt()}},[gt]),rt.useEffect(function(){st.current.setViewer(q.current),st.current.setExternalLinkRel(c),st.current.setExternalLinkTarget(h)},[c,h]);const xt=rt.useCallback((Bt,oe)=>{at.current[Bt]=oe},[]),Pt=rt.useCallback(Bt=>{delete at.current[Bt]},[]),Wt=rt.useMemo(()=>({imageResourcesPath:y,linkService:st.current,onItemClick:S,pdf:gt,registerPage:xt,renderMode:W,rotate:X,unregisterPage:Pt}),[y,S,gt,xt,W,X,Pt]),Tt=rt.useMemo(()=>b2(L,()=>gt),[L,gt]);function He(){return F.jsx(A2.Provider,{value:Wt,children:n})}function Bi(){return p?gt==null?F.jsx(ph,{type:"loading",children:typeof _=="function"?_():_}):gt===!1?F.jsx(ph,{type:"error",children:typeof l=="function"?l():l}):He():F.jsx(ph,{type:"no-data",children:typeof A=="function"?A():A})}return F.jsx("div",Object.assign({className:Cy("react-pdf__Document",r),ref:m,style:{"--scale-factor":"1"}},Tt,{children:Bi()}))});function w2(){return rt.useContext(A2)}function T2(){for(var o=[],t=0;t<arguments.length;t++)o[t]=arguments[t];var e=o.filter(Boolean);if(e.length<=1){var n=e[0];return n||null}return function(l){e.forEach(function(c){typeof c=="function"?c(l):c&&(c.current=l)})}}const C2=rt.createContext(null),R2={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},$F=/^H(\d+)$/;function KF(o){return o in R2}function xy(o){return"children"in o}function x2(o){return xy(o)?o.children.length===1&&0 in o.children&&"id"in o.children[0]:!1}function WF(o){const t={};if(xy(o)){const{role:e}=o,n=e.match($F);if(n)t.role="heading",t["aria-level"]=Number(n[1]);else if(KF(e)){const r=R2[e];r&&(t.role=r)}}return t}function D2(o){const t={};if(xy(o)){if(o.alt!==void 0&&(t["aria-label"]=o.alt),o.lang!==void 0&&(t.lang=o.lang),x2(o)){const[e]=o.children;if(e){const n=D2(e);return Object.assign(Object.assign({},t),n)}}}else"id"in o&&(t["aria-owns"]=o.id);return t}function QF(o){return o?Object.assign(Object.assign({},WF(o)),D2(o)):null}function M2({className:o,node:t}){const e=rt.useMemo(()=>QF(t),[t]),n=rt.useMemo(()=>!xy(t)||x2(t)?null:t.children.map((r,l)=>F.jsx(M2,{node:r},l)),[t]);return F.jsx("span",Object.assign({className:o},e,{children:n}))}function Dy(){return rt.useContext(C2)}function ZF(){const o=Dy();ye(o);const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=o,[n,r]=gd(),{value:l,error:c}=n,{customTextRenderer:h,page:p}=o;function m(){l&&e&&e(l)}function y(){c&&(Ui(!1,c.toString()),t&&t(c))}return rt.useEffect(function(){r({type:"RESET"})},[r,p]),rt.useEffect(function(){if(h||!p)return;const A=wg(p.getStructTree()),S=A;return A.promise.then(C=>{r({type:"RESOLVE",value:C})}).catch(C=>{r({type:"REJECT",error:C})}),()=>ru(S)},[h,p,r]),rt.useEffect(()=>{if(l!==void 0){if(l===!1){y();return}m()}},[l]),l?F.jsx(M2,{className:"react-pdf__Page__structTree structTree",node:l}):null}const Z1=g2;function JF(o){const t=Dy();ye(t);const e=Object.assign(Object.assign({},t),o),{_className:n,canvasBackground:r,devicePixelRatio:l=jF(),onRenderError:c,onRenderSuccess:h,page:p,renderForms:m,renderTextLayer:y,rotate:_,scale:A}=e,{canvasRef:S}=o;ye(p);const C=rt.useRef(null);function M(){p&&h&&h(xA(p,A))}function j(Y){BF(Y)||(Ui(!1,Y.toString()),c&&c(Y))}const P=rt.useMemo(()=>p.getViewport({scale:A*l,rotation:_}),[l,p,_,A]),z=rt.useMemo(()=>p.getViewport({scale:A,rotation:_}),[p,_,A]);rt.useEffect(function(){if(!p)return;p.cleanup();const{current:W}=C;if(!W)return;W.width=P.width,W.height=P.height,W.style.width=`${Math.floor(z.width)}px`,W.style.height=`${Math.floor(z.height)}px`,W.style.visibility="hidden";const X={annotationMode:m?Z1.ENABLE_FORMS:Z1.ENABLE,canvasContext:W.getContext("2d",{alpha:!1}),viewport:P};r&&(X.background=r);const L=p.render(X),D=L;return L.promise.then(()=>{W.style.visibility="",M()}).catch(j),()=>ru(D)},[r,p,m,P,z]);const G=rt.useCallback(()=>{const{current:Y}=C;Y&&(Y.width=0,Y.height=0)},[]);return rt.useEffect(()=>G,[G]),F.jsx("canvas",{className:`${n}__canvas`,dir:"ltr",ref:T2(S,C),style:{display:"block",userSelect:"none"},children:y?F.jsx(ZF,{}):null})}function tU(o){return"str"in o}function eU(){const o=Dy();ye(o);const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:n,onRenderTextLayerError:r,onRenderTextLayerSuccess:l,page:c,pageIndex:h,pageNumber:p,rotate:m,scale:y}=o;ye(c);const[_,A]=gd(),{value:S,error:C}=_,M=rt.useRef(null);Ui(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function j(){S&&n&&n(S)}function P(){C&&(Ui(!1,C.toString()),e&&e(C))}rt.useEffect(function(){A({type:"RESET"})},[c,A]),rt.useEffect(function(){if(!c)return;const D=wg(c.getTextContent()),x=D;return D.promise.then(I=>{A({type:"RESOLVE",value:I})}).catch(I=>{A({type:"REJECT",error:I})}),()=>ru(x)},[c,A]),rt.useEffect(()=>{if(S!==void 0){if(S===!1){P();return}j()}},[S]);const z=rt.useCallback(()=>{l&&l()},[l]),G=rt.useCallback(L=>{Ui(!1,L.toString()),r&&r(L)},[r]);function Y(){const L=M.current;L&&L.classList.add("selecting")}function W(){const L=M.current;L&&L.classList.remove("selecting")}const X=rt.useMemo(()=>c.getViewport({scale:y,rotation:m}),[c,m,y]);return rt.useLayoutEffect(function(){if(!c||!S)return;const{current:D}=M;if(!D)return;D.innerHTML="";const x=c.streamTextContent({includeMarkedContent:!0}),I={container:D,textContentSource:x,viewport:X},H=new m2(I),V=H;return H.render().then(()=>{const U=document.createElement("div");U.className="endOfContent",D.append(U);const gt=D.querySelectorAll('[role="presentation"]');if(t){let At=0;S.items.forEach((st,at)=>{if(!tU(st))return;const ct=gt[At];if(!ct)return;const Ot=t(Object.assign({pageIndex:h,pageNumber:p,itemIndex:at},st));ct.innerHTML=Ot,At+=st.str&&st.hasEOL?2:1})}z()}).catch(G),()=>ru(V)},[t,G,z,c,h,p,S,X]),F.jsx("div",{className:Cy("react-pdf__Page__textContent","textLayer"),onMouseUp:W,onMouseDown:Y,ref:M})}function iU(){const o=w2(),t=Dy();ye(t);const e=Object.assign(Object.assign({},o),t),{imageResourcesPath:n,linkService:r,onGetAnnotationsError:l,onGetAnnotationsSuccess:c,onRenderAnnotationLayerError:h,onRenderAnnotationLayerSuccess:p,page:m,pdf:y,renderForms:_,rotate:A,scale:S=1}=e;ye(y),ye(m),ye(r);const[C,M]=gd(),{value:j,error:P}=C,z=rt.useRef(null);Ui(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function G(){j&&c&&c(j)}function Y(){P&&(Ui(!1,P.toString()),l&&l(P))}rt.useEffect(function(){M({type:"RESET"})},[M,m]),rt.useEffect(function(){if(!m)return;const x=wg(m.getAnnotations()),I=x;return x.promise.then(H=>{M({type:"RESOLVE",value:H})}).catch(H=>{M({type:"REJECT",error:H})}),()=>{ru(I)}},[M,m]),rt.useEffect(()=>{if(j!==void 0){if(j===!1){Y();return}G()}},[j]);function W(){p&&p()}function X(D){Ui(!1,`${D}`),h&&h(D)}const L=rt.useMemo(()=>m.getViewport({scale:S,rotation:A}),[m,A,S]);return rt.useEffect(function(){if(!y||!m||!r||!j)return;const{current:x}=z;if(!x)return;const I=L.clone({dontFlip:!0}),H={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:x,l10n:null,page:m,structTreeLayer:null,viewport:I},V={annotations:j,annotationStorage:y.annotationStorage,div:x,imageResourcesPath:n,linkService:r,page:m,renderForms:_,viewport:I};x.innerHTML="";try{new p2(H).render(V),W()}catch(U){X(U)}return()=>{}},[j,n,r,m,y,_,L]),F.jsx("div",{className:Cy("react-pdf__Page__annotations","annotationLayer"),ref:z})}var nU=function(o,t){var e={};for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&t.indexOf(n)<0&&(e[n]=o[n]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(o);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(o,n[r])&&(e[n[r]]=o[n[r]]);return e};const J1=1;function sU(o){const t=w2(),e=Object.assign(Object.assign({},t),o),{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:l,canvasRef:c,children:h,className:p,customRenderer:m,customTextRenderer:y,devicePixelRatio:_,error:A="Failed to load the page.",height:S,inputRef:C,loading:M="Loading page…",noData:j="No page specified.",onGetAnnotationsError:P,onGetAnnotationsSuccess:z,onGetStructTreeError:G,onGetStructTreeSuccess:Y,onGetTextError:W,onGetTextSuccess:X,onLoadError:L,onLoadSuccess:D,onRenderAnnotationLayerError:x,onRenderAnnotationLayerSuccess:I,onRenderError:H,onRenderSuccess:V,onRenderTextLayerError:U,onRenderTextLayerSuccess:gt,pageIndex:At,pageNumber:st,pdf:at,registerPage:ct,renderAnnotationLayer:Ot=!0,renderForms:q=!1,renderMode:ot="canvas",renderTextLayer:pt=!0,rotate:ht,scale:ft=J1,unregisterPage:Rt,width:_t}=e,xt=nU(e,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Pt,Wt]=gd(),{value:Tt,error:He}=Pt,Bi=rt.useRef(null);ye(at);const Bt=$l(st)?st-1:At??null,oe=st??($l(At)?At+1:null),Ee=ht??(Tt?Tt.rotate:null),de=rt.useMemo(()=>{if(!Tt)return null;let Se=1;const en=ft??J1;if(_t||S){const Tr=Tt.getViewport({scale:1,rotation:Ee});_t?Se=_t/Tr.width:S&&(Se=S/Tr.height)}return en*Se},[S,Tt,Ee,ft,_t]);rt.useEffect(function(){return()=>{$l(Bt)&&r&&Rt&&Rt(Bt)}},[r,at,Bt,Rt]);function Pn(){if(D){if(!Tt||!de)return;D(xA(Tt,de))}if(r&&ct){if(!$l(Bt)||!Bi.current)return;ct(Bt,Bi.current)}}function Fn(){He&&(Ui(!1,He.toString()),L&&L(He))}rt.useEffect(function(){Wt({type:"RESET"})},[Wt,at,Bt]),rt.useEffect(function(){if(!at||!oe)return;const en=wg(at.getPage(oe)),Tr=en;return en.promise.then(Cr=>{Wt({type:"RESOLVE",value:Cr})}).catch(Cr=>{Wt({type:"REJECT",error:Cr})}),()=>ru(Tr)},[Wt,at,oe]),rt.useEffect(()=>{if(Tt!==void 0){if(Tt===!1){Fn();return}Pn()}},[Tt,de]);const Ga=rt.useMemo(()=>Tt&&$l(Bt)&&oe&&$l(Ee)&&$l(de)?{_className:n,canvasBackground:l,customTextRenderer:y,devicePixelRatio:_,onGetAnnotationsError:P,onGetAnnotationsSuccess:z,onGetStructTreeError:G,onGetStructTreeSuccess:Y,onGetTextError:W,onGetTextSuccess:X,onRenderAnnotationLayerError:x,onRenderAnnotationLayerSuccess:I,onRenderError:H,onRenderSuccess:V,onRenderTextLayerError:U,onRenderTextLayerSuccess:gt,page:Tt,pageIndex:Bt,pageNumber:oe,renderForms:q,renderTextLayer:pt,rotate:Ee,scale:de}:null,[n,l,y,_,P,z,G,Y,W,X,x,I,H,V,U,gt,Tt,Bt,oe,q,pt,Ee,de]),wr=rt.useMemo(()=>b2(xt,()=>Tt&&(de?xA(Tt,de):void 0)),[xt,Tt,de]),us=`${Bt}@${de}/${Ee}`;function vd(){switch(ot){case"custom":return ye(m),F.jsx(m,{},`${us}_custom`);case"none":return null;case"canvas":default:return F.jsx(JF,{canvasRef:c},`${us}_canvas`)}}function ml(){return pt?F.jsx(eU,{},`${us}_text`):null}function xi(){return Ot?F.jsx(iU,{},`${us}_annotations`):null}function fu(){return F.jsxs(C2.Provider,{value:Ga,children:[vd(),ml(),xi(),h]})}function Be(){return oe?at===null||Tt===void 0||Tt===null?F.jsx(ph,{type:"loading",children:typeof M=="function"?M():M}):at===!1||Tt===!1?F.jsx(ph,{type:"error",children:typeof A=="function"?A():A}):fu():F.jsx(ph,{type:"no-data",children:typeof j=="function"?j():j})}return F.jsx("div",Object.assign({className:Cy(n,p),"data-page-number":oe,ref:T2(C,Bi),style:{"--scale-factor":`${de}`,backgroundColor:l||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},wr,{children:Be()}))}HF();uE.workerSrc="pdf.worker.mjs";uE.workerSrc=`https://cdnjs.cloudflare.com/ajax/libs/pdf.js/${y2}/pdf.worker.min.js`;const rU={"Computer Science":{"Semester 1":[{name:"DBMS",items:[{type:"PDF",subItems:["DBMS Basic Concept","ER Diagram"]},{type:"Papers",subItems:["CA","MID"]}]},{name:"Maths",items:[{type:"PDF",subItems:["Calculus","Algebra"]},{type:"Papers",subItems:["CA","MID"]}]}],"Semester 2":[{name:"Computer Network",items:[{type:"PDF",subItems:["Network Layers","TCP/IP"]},{type:"Papers",subItems:["CA","MID"]}]}]},Electrical:{"Semester 1":[{name:"Circuit Theory",items:[{type:"PDF",subItems:["Ohm's Law","Kirchhoff's Laws"]},{type:"Papers",subItems:["CA","MID"]}]}]}},aU=({fileUrl:o,docTitle:t})=>{const[e,n]=rt.useState(null),[r,l]=rt.useState(1),[c,h]=rt.useState(!0),[p,m]=rt.useState(!1),[y,_]=rt.useState(null);rt.useEffect(()=>{try{_(o),h(!0),m(!1)}catch(P){console.error("Error setting URL:",P),m(!0),h(!1)}},[o]);function A({numPages:P}){n(P),h(!1),m(!1)}function S(P){l(z=>{const G=z+P;return Math.min(Math.max(1,G),e)})}function C(){S(-1)}function M(){S(1)}const j=()=>F.jsx("div",{className:"embedded-pdf-container",children:F.jsxs("object",{data:y,type:"application/pdf",width:"100%",height:"100%",className:"embedded-pdf",children:[F.jsx("embed",{src:y,type:"application/pdf",width:"100%",height:"100%"}),F.jsx("p",{children:"This browser does not support PDFs. Please download the PDF to view it."})]})});return F.jsxs("div",{className:"pdf-viewer-container",children:[F.jsxs("div",{className:"pdf-viewer-header",children:[F.jsx("h2",{children:t}),!p&&e&&F.jsxs("div",{className:"pdf-controls",children:[F.jsx("button",{onClick:C,disabled:r<=1,className:"page-button",children:"Previous"}),F.jsxs("span",{className:"page-info",children:["Page ",r," of ",e||"--"]}),F.jsx("button",{onClick:M,disabled:!e||r>=e,className:"page-button",children:"Next"})]})]}),F.jsxs("div",{className:"pdf-document-container",children:[c&&F.jsx("div",{className:"loading",children:"Loading document..."}),p?j():F.jsx(YF,{file:y,onLoadSuccess:A,onLoadError:P=>{console.error("Error loading PDF:",P),m(!0),h(!1)},options:{cMapUrl:"https://unpkg.com/pdfjs-dist@2.16.105/cmaps/",cMapPacked:!0,standardFontDataUrl:"https://unpkg.com/pdfjs-dist@2.16.105/standard_fonts"},children:!c&&!p&&F.jsx(sU,{pageNumber:r,width:800,renderTextLayer:!1,renderAnnotationLayer:!1,className:"pdf-page"})})]})]})},oU=({isOpen:o,onClose:t,children:e})=>o?F.jsx("div",{className:"modal-overlay",onClick:t,children:F.jsxs("div",{className:"modal-content",onClick:n=>n.stopPropagation(),children:[F.jsx("button",{className:"modal-close-button",onClick:t,children:"×"}),e]})}):null,O2=({selectedCourse:o,selectedSemester:t,onTrackRecent:e})=>{var W;const[n,r]=rt.useState(!1),[l,c]=rt.useState(null),[h,p]=rt.useState(null),[m,y]=rt.useState(!1),[_,A]=rt.useState({url:"",title:""}),S=rt.useRef(null),C=rt.useRef(null),M=()=>{r(!1),c(null),p(null)};rt.useEffect(()=>{const X=L=>{S.current&&!S.current.contains(L.target)&&M()};return document.addEventListener("mousedown",X),()=>document.removeEventListener("mousedown",X)},[]),rt.useEffect(()=>{if(n&&C.current){const X=C.current.getBoundingClientRect().height,L=document.getElementById("featured-resources");L&&(L.style.marginTop=`${X+30}px`)}else{const X=document.getElementById("featured-resources");X&&(X.style.marginTop="0")}return()=>{const X=document.getElementById("featured-resources");X&&(X.style.marginTop="0")}},[n]),rt.useEffect(()=>{const X=document.createElement("style");X.innerHTML=`
      .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: rgba(0, 0, 0, 0.7);
        z-index: 1000;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      
      .modal-content {
        background-color: white;
        padding: 20px;
        border-radius: 5px;
        width: 90%;
        max-width: 900px;
        max-height: 90vh;
        overflow: hidden;
        position: relative;
      }
      
      .modal-close-button {
        position: absolute;
        top: 10px;
        right: 10px;
        background: none;
        border: none;
        font-size: 24px;
        cursor: pointer;
        z-index: 1010;
      }
      
      .pdf-viewer-container {
        display: flex;
        flex-direction: column;
        height: 80vh;
        user-select: none;
      }
      
      .pdf-viewer-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding-bottom: 10px;
        border-bottom: 1px solid #eee;
        margin-bottom: 15px;
      }
      
      .pdf-document-container {
        flex-grow: 1;
        overflow-y: auto;
        position: relative;
        min-height: 500px;
      }
      
      .pdf-controls {
        display: flex;
        align-items: center;
        gap: 10px;
      }
      
      .page-button {
        padding: 5px 10px;
        background-color: #f0f0f0;
        border: 1px solid #ddd;
        border-radius: 4px;
        cursor: pointer;
      }
      
      .page-button:disabled {
        opacity: 0.5;
        cursor: not-allowed;
      }
      
      .page-info {
        margin: 0 10px;
      }
      
      .loading {
        text-align: center;
        padding: 20px;
      }
      
      .pdf-page {
        margin: 0 auto;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        user-select: none;
        pointer-events: none;
      }
      
      /* Embedded PDF viewer */
      .embedded-pdf-container {
        width: 100%;
        height: 100%;
        min-height: 500px;
      }
      
      .embedded-pdf {
        border: none;
      }
      
      /* This prevents selection, right-click, etc. */
      .pdf-document-container,
      .pdf-document-container * {
        user-select: none !important;
        -webkit-user-select: none !important;
      }
    `,document.head.appendChild(X);const L=D=>{if(m)return D.preventDefault(),!1};return document.addEventListener("contextmenu",L),()=>{document.head.removeChild(X),document.removeEventListener("contextmenu",L)}},[m]);const j=()=>r(!n),P=X=>{c(l===X?null:X),p(null)},z=X=>{p(h===X?null:X)},G=(X,L,D)=>{e({name:D,type:L.toLowerCase(),path:`${X}/${L}/${D}`,timestamp:new Date().getTime()});const x="https://firebasestorage.googleapis.com/v0/b/login-63f67.firebasestorage.app/o/materials%2FComputer%20Science%2FSemester%201%2FDBMS%2FPDF%2F3.%20Line%20Types.pdf?alt=media&token=a2e1a11c-4631-476b-ad74-e0c32e67910d",H={"DBMS Basic Concept":x,"ER Diagram":x,CA:x,MID:x,Calculus:x,Algebra:x,"Network Layers":x,"TCP/IP":x,"Ohm's Law":x,"Kirchhoff's Laws":x}[D];H?(console.log("Opening PDF:",H),A({url:H,title:D}),y(!0)):console.error("File path not found for:",D)},Y=((W=rU[o])==null?void 0:W[t])||[];return F.jsxs(F.Fragment,{children:[F.jsxs("div",{className:"dropdown-container",ref:S,children:[F.jsxs("button",{onClick:j,className:"dropdown-button","aria-haspopup":"true","aria-expanded":n,"aria-label":"Toggle dropdown menu",children:[o&&t?`${o}`:"Select Your Subject",F.jsx(gI,{className:`caret ${n?"open":""}`})]}),F.jsx("div",{className:`dropdown-menu ${n?"open":""}`,role:"menu",ref:C,children:!o||!t?F.jsx("div",{children:"Please select a course and semester"}):Y.length===0?F.jsx("div",{children:"No subjects available"}):Y.map((X,L)=>F.jsx(DA,{label:X.name,isOpen:l===L,onClick:()=>P(L),children:X.items.map((D,x)=>F.jsx(DA,{label:D.type,isOpen:h===x,onClick:()=>z(x),children:D.subItems.map((I,H)=>F.jsx("button",{className:"dropdown-link nested-item",role:"menuitem",tabIndex:n?0:-1,"aria-label":`Select ${I}`,onClick:()=>G(X.name,D.type,I),children:I},H))},x))},L))})]}),F.jsx(oU,{isOpen:m,onClose:()=>y(!1),children:F.jsx(aU,{fileUrl:_.url,docTitle:_.title})})]})},DA=La.memo(({label:o,isOpen:t,onClick:e,children:n})=>F.jsxs("div",{className:`dropdown-link ${t?"active":""}`,children:[F.jsx("button",{onClick:e,"aria-haspopup":"true","aria-expanded":t,className:"dropdown-toggle",onKeyDown:r=>{(r.key==="Enter"||r.key===" ")&&e()},tabIndex:0,"aria-label":`Toggle ${o} dropdown`,children:F.jsxs("span",{className:"button-content",children:[o,n&&F.jsx(mI,{className:`sub-caret ${t?"open":""}`})]})}),n&&F.jsx("div",{className:`dropdown-nested ${t?"open":""}`,role:"menu","aria-hidden":!t,children:n})]}));DA.propTypes={label:ji.string.isRequired,isOpen:ji.bool.isRequired,onClick:ji.func.isRequired,children:ji.node};O2.propTypes={selectedCourse:ji.string,selectedSemester:ji.string,onTrackRecent:ji.func.isRequired};const lU=({scrollToHome:o,scrollToGetPapers:t,onProfileClick:e})=>{const[n,r]=rt.useState(!1),[l,c]=rt.useState(!1),[h,p]=rt.useState({code:"IN",name:"English (India)",flagUrl:"https://flagcdn.com/in.svg"}),m=[{code:"IN",name:"English (India)",flagUrl:"https://flagcdn.com/in.svg",region:"suggested"},{code:"GB",name:"English (UK)",flagUrl:"https://flagcdn.com/gb.svg",region:"suggested"},{code:"US",name:"English (US)",flagUrl:"https://flagcdn.com/us.svg",region:"suggested"},{code:"ZA",name:"English (ZA)",flagUrl:"https://flagcdn.com/za.svg",region:"africa_europe"},{code:"ES",name:"Català",flagUrl:"https://flagcdn.com/es.svg",region:"africa_europe"},{code:"DK",name:"Dansk",flagUrl:"https://flagcdn.com/dk.svg",region:"africa_europe"},{code:"DE",name:"Deutsch",flagUrl:"https://flagcdn.com/de.svg",region:"africa_europe"},{code:"AU",name:"English (AU)",flagUrl:"https://flagcdn.com/au.svg",region:"asia_pacific"},{code:"HK",name:"English (HK)",flagUrl:"https://flagcdn.com/hk.svg",region:"asia_pacific"},{code:"NZ",name:"English (NZ)",flagUrl:"https://flagcdn.com/nz.svg",region:"asia_pacific"},{code:"CA",name:"English (CA)",flagUrl:"https://flagcdn.com/ca.svg",region:"americas"},{code:"MX",name:"Español (MX)",flagUrl:"https://flagcdn.com/mx.svg",region:"americas"},{code:"BR",name:"Português (BR)",flagUrl:"https://flagcdn.com/br.svg",region:"americas"}],y={suggested:"Suggested languages for you",africa_europe:"Africa and Europe",asia_pacific:"Asia Pacific",americas:"North, South and Central America"},_=S=>{p(S),c(!1)},A=S=>{S.target.classList.contains("language-modal")&&c(!1)};return rt.useEffect(()=>{const S=document.querySelector(".language-btn");S&&S.style.setProperty("--flag-url",`url(${h.flagUrl})`)},[h]),F.jsxs("footer",{className:"footer",children:[F.jsxs("div",{className:"footer-content",children:[F.jsxs("div",{className:"footer-column",children:[F.jsx("h4",{children:"About Us"}),F.jsxs("p",{children:["[Your Website Name] is your go-to platform for college study materials, PDFs, subject-wise papers, and important notes.",n&&F.jsxs("span",{children:[F.jsx("br",{}),"We aim to make learning easier by providing well-organized resources to help students succeed. Whether you're preparing for exams or need quick references, we’ve got you covered! 🚀 Let me know if you need further tweaks! 😊"]})]}),F.jsx("a",{href:"#!",onClick:()=>r(!n),className:"more-link",children:n?"Show Less":"More"})]}),F.jsxs("div",{className:"footer-column",children:[F.jsx("h4",{children:"Support"}),F.jsx("a",{href:"src\\components\\Footer Link\\FAQ-2\\FAQ-2\\Faq.html",target:"_blank",children:"F/AQ"}),F.jsx("a",{href:"src\\components\\Footer Link\\Privacy policy\\Privacy policy\\policy.html",target:"_blank",children:"Privacy Policy"}),F.jsx("a",{href:"src\\components\\Footer Link\\Terms and conditions\\Terms and conditions\\index.html",target:"_blank",children:"Terms & Conditions"})]}),F.jsxs("div",{className:"footer-column",children:[F.jsx("h4",{children:"Quick Access"}),F.jsx("a",{href:"#!",onClick:S=>{S.preventDefault(),o()},children:"Home"}),F.jsx("a",{href:"#!",onClick:S=>{S.preventDefault(),t()},children:"Get Papers"}),F.jsx("a",{href:"#!",onClick:S=>{S.preventDefault(),e()},children:"Profile"})]}),F.jsxs("div",{className:"footer-column",children:[F.jsx("h4",{children:"Contact Details"}),F.jsxs("a",{href:"mailto:support@studentshel.com",children:[F.jsx("i",{className:"fas fa-envelope"})," support@studentshel.com"]}),F.jsxs("div",{className:"physical-address",children:[F.jsx("i",{className:"fas fa-map-marker-alt"}),F.jsxs("span",{children:["Jalandhar,Punjab",F.jsx("br",{}),"144411,India"]})]})]})]}),F.jsx("div",{className:"language-selector",children:F.jsxs("button",{className:"language-btn",onClick:()=>c(!0),style:{"--flag-url":`url(${h.flagUrl})`},children:[F.jsx("span",{className:"selected-flag"}),h.name]})}),l&&F.jsx("div",{className:"language-modal",onClick:A,children:F.jsxs("div",{className:"language-modal-content",children:[F.jsx("h2",{children:"Select your language"}),F.jsx("p",{className:"modal-subtitle",children:"✨Website Translation Depending on your Region is on Development and Will Come in Future.✨"}),Object.entries(y).map(([S,C])=>F.jsxs("div",{className:"language-region",children:[F.jsx("h3",{children:C}),F.jsx("div",{className:"language-grid",children:m.filter(M=>M.region===S).map(M=>F.jsxs("button",{className:"language-option",onClick:()=>_(M),children:[F.jsx("img",{src:M.flagUrl,alt:`${M.name} flag`,className:"country-flag"}),F.jsx("span",{className:"language-name",children:M.name})]},M.code))})]},S))]})}),F.jsxs("div",{className:"social-media-icons",children:[F.jsx("a",{href:"#",className:"social-icon instagram",children:F.jsx("i",{className:"fab fa-instagram"})}),F.jsx("a",{href:"#",className:"social-icon linkedin",children:F.jsx("i",{className:"fab fa-linkedin"})}),F.jsx("a",{href:"#",className:"social-icon facebook",children:F.jsx("i",{className:"fab fa-facebook"})}),F.jsx("a",{href:"#",className:"social-icon youtube",children:F.jsx("i",{className:"fab fa-youtube"})})]}),F.jsxs("div",{className:"footer-notes-container",children:[F.jsx("p",{className:"footer-note",children:"Company is not affiliated to or endorsed by any school, college or university."}),F.jsx("p",{className:"footer-note",children:"Copyright © 2025 Studentshel B.V., Keizersgracht 424-sous, 1016 GC Amsterdam, KVK: 56320787, BTW: NL85232136"})]})]})},cU=({id:o})=>{const t=[{id:1,title:"DBMS Notes",description:"Comprehensive notes on Database Management Systems.",image:"src/assets/images/DBMS subject without humans.png"},{id:2,title:"Computer Networks",description:"Detailed notes on Computer Networks.",image:"src/assets/images/computer networks.png"},{id:3,title:"Data Structures",description:"Learn about various data structures and algorithms.",image:"src/assets/images/data structure without human.png"},{id:4,title:"Operating Systems",description:"Understand the core concepts of Operating Systems.",image:"src/assets/images/operating system without humans.png"}];return F.jsxs("section",{className:"featured-resources",id:o,children:[F.jsx("h2",{children:"Featured Resources"}),F.jsx("div",{className:"resources-grid",children:t.map(e=>F.jsxs("div",{className:"resource-card",children:[F.jsx("img",{src:e.image,alt:e.title}),F.jsx("h3",{children:e.title}),F.jsx("p",{children:e.description}),F.jsx("button",{children:"View Resource"})]},e.id))})]})},uU=()=>{const o=[{text:"DBMS Basic Concept",emoji:"📘",status:"updated"},{text:"Data/ER Model",emoji:"🆕",status:"new"},{text:"SQL Notes",emoji:"📝",status:"revised"},{text:"Concurrency",emoji:"🔥",status:"latest"},{text:"Computer Network",emoji:"📡",status:"updated"},{text:"Maths Notes",emoji:"🧮",status:"new"},{text:"DAA Notes",emoji:"📈",status:"revised"},{text:"Computer Vision",emoji:"👁️",status:"latest"}],t=e=>{console.log("Clicked:",e.text)};return F.jsx("div",{className:"horizontal-bar-container",children:F.jsx("div",{className:"horizontal-bar",children:[...o,...o].map((e,n)=>F.jsx("div",{className:`note-item ${e.status}`,onClick:()=>t(e),role:"button",tabIndex:0,children:F.jsxs("div",{className:"note-content",children:[F.jsx("div",{className:"emoji-container",children:F.jsx("span",{className:"emoji",children:e.emoji})}),F.jsxs("div",{className:"text-content",children:[F.jsx("h3",{className:"note-title",children:e.text}),F.jsx("div",{className:"status-pill",children:e.status})]}),F.jsx("div",{className:"hover-gradient"}),F.jsx("div",{className:"click-effect"})]})},n))})})},hU=()=>F.jsx("section",{className:"static-resource-section",children:F.jsxs("div",{className:"static-container",children:[F.jsxs("div",{className:"static-header",children:[F.jsx("h2",{children:"Your Academic Success Toolkit"}),F.jsx("p",{className:"static-subtitle",children:"Essential Resources at Your Fingertips"})]}),F.jsxs("div",{className:"static-grid",children:[F.jsxs("div",{className:"static-card notes-card",children:[F.jsx("div",{className:"static-icon",children:"📚"}),F.jsx("h3",{children:"Comprehensive Notes"}),F.jsx("p",{children:"Well-organized study materials for all major subjects"})]}),F.jsxs("div",{className:"static-card papers-card",children:[F.jsx("div",{className:"static-icon",children:"📝"}),F.jsx("h3",{children:"Previous Papers"}),F.jsx("p",{children:"Past exam papers with model solutions"})]}),F.jsxs("div",{className:"static-card community-card",children:[F.jsx("div",{className:"static-icon",children:"👥"}),F.jsx("h3",{children:"Study Community"}),F.jsx("p",{children:"Connect with peers and experts."}),F.jsx("p",{children:"(Coming Soon)"})]})]})]})}),dU=()=>{const o=[{name:"Priyanshu",role:"Lead Developer",bio:"Full-stack developer focused on building scalable solutions.",image:"src/assets/images/Con3sub.jpg",socials:{github:"https://github.com/johndoe",linkedin:"https://linkedin.com/in/johndoe",email:"mailto:john@example.com"}}];return F.jsx("section",{className:"contributors-section",children:F.jsxs("div",{className:"contributors-container",children:[F.jsxs("div",{className:"contributors-header",children:[F.jsx("h2",{children:"Our Team"}),F.jsx("div",{className:"header-line"})]}),F.jsx("div",{className:"contributors-grid",children:o.map((t,e)=>F.jsxs("div",{className:"contributor-card",children:[F.jsxs("div",{className:"card-top",children:[F.jsx("div",{className:"avatar-container",children:F.jsx("img",{src:t.image,alt:t.name,className:"contributor-avatar"})}),F.jsx("div",{className:"pattern-overlay"})]}),F.jsx("div",{className:"card-content",children:F.jsxs("div",{className:"contributor-info",children:[F.jsx("h3",{children:t.name}),F.jsx("span",{className:"contributor-role",children:t.role}),F.jsx("p",{className:"contributor-bio",children:t.bio}),F.jsxs("div",{className:"social-links",children:[F.jsx("a",{href:t.socials.github,target:"_blank",rel:"noopener noreferrer","aria-label":"GitHub",children:F.jsx("i",{className:"fab fa-github"})}),F.jsx("a",{href:t.socials.linkedin,target:"_blank",rel:"noopener noreferrer","aria-label":"LinkedIn",children:F.jsx("i",{className:"fab fa-linkedin"})}),F.jsx("a",{href:t.socials.email,"aria-label":"Email",children:F.jsx("i",{className:"fas fa-envelope"})})]})]})})]},e))})]})})};function fU(){const[o,t]=rt.useState(!1),[e,n]=rt.useState(!1),[r,l]=rt.useState(null),[c,h]=rt.useState(null),[p,m]=rt.useState(null),[y,_]=rt.useState([]),A=rt.useRef(null),S=rt.useRef(null);rt.useRef(null);const C={"Computer Science":{"Semester 1":[{name:"DBMS",items:[{type:"PDF",subItems:["DBMS Basic Concept","ER Diagram"]},{type:"Papers",subItems:["CA","MID"]}]},{name:"Maths",items:[{type:"PDF",subItems:["Calculus","Algebra"]},{type:"Papers",subItems:["CA","MID"]}]}],"Semester 2":[{name:"Computer Network",items:[{type:"PDF",subItems:["Network Layers","TCP/IP"]},{type:"Papers",subItems:["CA","MID"]}]}]},Electrical:{"Semester 1":[{name:"Circuit Theory",items:[{type:"PDF",subItems:["Ohm's Law","Kirchhoff's Laws"]},{type:"Papers",subItems:["CA","MID"]}]}]}};rt.useEffect(()=>{const G=Jk(xa,Y=>{Y?m(Y):(m(null),t(!1))});return()=>G()},[]);const M=G=>{_(Y=>[G,...Y.slice(0,4)]),console.log("Recent item tracked:",G)},j=()=>t(!o),P=G=>{G.current&&G.current.scrollIntoView({behavior:"smooth",block:"start"})},z=()=>{window.scrollTo({top:0,behavior:"smooth"}),n(!0)};return F.jsxs("div",{className:"main-content",children:[F.jsx(oR,{isActive:e,onToggle:n,onCourseSelect:l,onSemesterSelect:h}),F.jsx(lR,{ref:A,onLoginClick:j,isLoggedIn:!!p,courseData:C}),F.jsx(wI,{}),F.jsx(cR,{isVisible:o,onClose:j}),F.jsx("div",{ref:S,className:"scroll-section",style:{padding:"20px",background:"var(--background-color)"},children:F.jsx(O2,{onTrackRecent:M,selectedCourse:r,selectedSemester:c})}),F.jsx(cU,{id:"featured-resources",className:"scroll-section"}),F.jsx(uU,{}),F.jsx(hU,{}),F.jsx(dU,{}),F.jsx(lU,{scrollToHome:()=>P(A),scrollToGetPapers:()=>P(S),onProfileClick:z})]})}pM.createRoot(document.getElementById("root")).render(F.jsx(rt.StrictMode,{children:F.jsx(fU,{})}));
